!function t(e,n,i){function r(o,a){if(!n[o]){if(!e[o]){var u="function"==typeof require&&require;if(!a&&u)return u(o,!0);if(s)return s(o,!0);var l=new Error("Cannot find module '"+o+"'");throw l.code="MODULE_NOT_FOUND",l}var c=n[o]={exports:{}};e[o][0].call(c.exports,(function(t){var n=e[o][1][t];return r(n||t)}),c,c.exports,t,e,n,i)}return n[o].exports}for(var s="function"==typeof require&&require,o=0;o<i.length;o++)r(i[o]);return r}({1:[function(t,e,n){"use strict";var i=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}();function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var s=/(?:os x|iphone os|ipad; cpu os) (\d+)[_.](\d+)[_.]?(\d+)?/,o=function(){function t(){var e=arguments.length<=0||void 0===arguments[0]?window.navigator.userAgent:arguments[0];r(this,t),this.ua=e.toLowerCase()}return i(t,[{key:"couldSupportScheme",value:function(t){var e=!1;switch(t){case"apple-music":e=this.isAndroid;break;case"itms":e=this.ismacOS||this.isWindows;break;case"itms-books":e=this.ismacOS||this.isiOS;break;case"itms-itunesu":e=this.isiOS;break;case"itms-apps":case"itms-podcast":case"itms-messages":case"itms-watch":case"music":e=this.isiOS;break;case"macappstore":e=this.ismacOS;break;case"video":e=this.isAtLeastMojavePlusOne||this.isAtLeastiOSTenTwo}return e}},{key:"isWindows",get:function(){return!this.isMobile&&/windows/.test(this.ua)}},{key:"isWebOS",get:function(){return/web0s|webos/.test(this.ua)}},{key:"isTizen",get:function(){return/tizen/.test(this.ua)}},{key:"isLinux",get:function(){return!this.isMobile&&/linux/.test(this.ua)}},{key:"isAtLeastBigSur",get:function(){return this.isBigSur}},{key:"isAtLeastMojavePlusOne",get:function(){return this.isAtLeastBigSur||this.isMojavePlusOne}},{key:"isAtLeastMojave",get:function(){return this.isAtLeastBigSur||this.isMojavePlusOne||this.isMojave}},{key:"isBigSur",get:function(){return this.ismacOS&&(10===this.macOSMajorVersion&&this.macOSMinorVersion>=16||this.macOSMajorVersion>=11)}},{key:"isMojavePlusOne",get:function(){return this.ismacOS&&10===this.macOSMajorVersion&&15===this.macOSMinorVersion}},{key:"isMojave",get:function(){return this.ismacOS&&10===this.macOSMajorVersion&&14===this.macOSMinorVersion}},{key:"isAtLeastiOSTenTwo",get:function(){return!!this.isiOS&&(10===this.iOSMajorVersion&&this.iOSMinorVersion>=2||this.iOSMajorVersion>10)}},{key:"macOSMajorVersion",get:function(){if(this.ismacOS){var t=this.ua.match(s);if(t&&t[1])return parseInt(t[1],10)}}},{key:"macOSMinorVersion",get:function(){if(this.ismacOS){var t=this.ua.match(s);if(t&&t[2])return parseInt(t[2],10)}}},{key:"iOSMajorVersion",get:function(){if(this.isiOS){var t=this.ua.match(s);if(t&&t[1])return parseInt(t[1],10)}}},{key:"iOSMinorVersion",get:function(){if(this.isiOS){var t=this.ua.match(s);if(t&&t[2])return parseInt(t[2],10)}}},{key:"ismacOS",get:function(){return!this.isMobile&&/macintosh/.test(this.ua)}},{key:"isChromeOS",get:function(){return!this.isMobile&&/CrOS/.test(this.ua)}},{key:"engineMajorVersion",get:function(){if(this.engineVersion)return parseInt(this.engineVersion[1],10)}},{key:"majorVersion",get:function(){if(this.version)return parseInt(this.version[1],10)}},{key:"minorVersion",get:function(){if(this.version)return parseInt(this.version[2],10)}},{key:"engineVersion",get:function(){return this.isEdge?this.ua.match(/(?:edge).(\d+)/):this.ua.match(/(?:applewebkit|gecko|trident).(\d+)/)}},{key:"version",get:function(){if(!this.isEdge)return this.ua.match(/(?:chrome|crios|version|firefox|msie|rv).(\d+)\.(\d+)/)}},{key:"isWebKit",get:function(){return!this.isEdgeHTML&&/applewebkit/.test(this.ua)&&!/edge/.test(this.ua)}},{key:"isiOS",get:function(){return this.isMobile&&/iphone|ipad|ipod/.test(this.ua)}},{key:"isEdge",get:function(){return/\sedge\//.test(this.ua)}},{key:"isChrome",get:function(){return!this.isEdge&&/chrome|crios/.test(this.ua)}},{key:"isSafari",get:function(){return!this.isEdge&&!this.isChrome&&/safari/.test(this.ua)}},{key:"isFirefox",get:function(){return!this.isEdge&&!this.isChrome&&!this.isSafari&&/firefox/.test(this.ua)}},{key:"isOpera",get:function(){return!this.isEdge&&!this.isChrome&&!this.isSafari&&/opera|opr/.test(this.ua)}},{key:"isOperaMini",get:function(){return!this.isEdge&&!this.isChrome&&!this.isSafari&&/opera\s*mini/.test(this.ua)}},{key:"isIE",get:function(){return!this.isEdge&&!this.isChrome&&!this.isSafari&&!this.isFirefox&&/trident|msie/.test(this.ua)}},{key:"isMobile",get:function(){return/mobile/.test(this.ua)||this.isOperaMini}},{key:"isAndroid",get:function(){return/android/.test(this.ua)}},{key:"isEdgeHTML",get:function(){return this.isEdge}},{key:"isTrident",get:function(){return!this.isEdgeHTML&&!this.isWebKit&&/trident/.test(this.ua)}},{key:"isGecko",get:function(){return!this.isEdgeHTML&&!this.isWebKit&&!this.isTrident&&/gecko/.test(this.ua)}},{key:"osName",get:function(){return this.isWindows?"Windows":this.isLinux?"Linux":this.ismacOS?"MacOS":this.isChromeOS?"Chrome OS":this.isTizen?"Tizen":this.isTrident?"Trident":this.isAndroid?"Android":this.isiOS?"iOS":this.isWebOS?"WebOS":"unknown"}},{key:"clientName",get:function(){return this.isEdge?"Edge":this.isIE?"IE":this.isChrome?"Chrome":this.isSafari?"Safari":this.isFirefox?"Firefox":this.isOpera?"Opera":this.isOperaMini?"Opera Mini":"unknown"}},{key:"browserName",get:function(){var t="",e=this.clientName;return this.majorVersion&&(t=""+this.majorVersion,this.minorVersion&&(t=t+"."+this.minorVersion)),""!==e?""!==t?e+" "+t:e:"unknown"}}]),t}();n.default=o},{}],2:[function(t,e,n){"use strict";var i=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}();var r=t(4),s={app:["8"],audiobook:["11","13"],book:["11","13"],"mac-app":["12"],podcast:["2"]},o={audiobook:/\/(audiobook\/|viewAudiobook)/,book:/\/book\//,course:/\/course\//,"mac-app":/\/mac-app\//,story:/\/story\//,music:/\/(album|artist|music-video|show|episode)\//,podcast:/\/podcast\//,tv:/\/(episode|movie|show|season|sporting-event|person)\//},a={book:"books.apple.com",podcast:"podcasts.apple.com",music:"music.apple.com",tv:"tv.apple.com"},u={book:"books",podcast:"podcasts"},l=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t);var n=(0,r.parseURL)(e),i=n.hostname,s=n.pathname,o=n.protocol,a=n.search;this.hostname=i,this.pathname=s,this.protocol=o,this.query=(0,r.parseSearch)(a),this.url=e}return i(t,null,[{key:"forURL",value:function(t){var e=arguments.length<=1||void 0===arguments[1]?{}:arguments[1],n=e.isAndroid||!1,i=e.isMobile||!1,r=e.isAtLeastMojave||!1,s=e.isAtLeastMojavePlusOne||!1,o=e.isAtLeastiOSTenTwo||!1,a=new this(t);if(!/https?:/.test(a.protocol))return a.protocol;if(i){if((a.isApps||a.isStory)&&!n)return"itms-apps";if(a.isWatch)return"itms-watch";if(a.isPodcast)return"itms-podcast";if(a.isMessages)return"itms-messages";if(a.isMusic)return n?"apple-music":"music";if(a.isTV&&o)return"com.apple.tv"}if(s){if(a.isPodcast)return"podcast";if(a.isAudiobook)return"itms-books";if(a.isTV)return"video"}return a.isBook?"itms-books":a.isCobalt?"itms-itunesu":a.isMacApp?"macappstore":a.isStory&&r?"macappstore":"itms"}},{key:"isApple",value:function(t){return t&&null!==t.match(/^(?:itms(?:-.*)?|macappstore|podcast|video|(?:apple-)?music)s?(:|$)/im)}}]),i(t,[{key:"_is",value:function(t){var e=a[t],n=e&&String.prototype.endsWith.call(this.hostname,e),i=this.query,r=i.app,l=i.mt,c=r&&(r===t||r===u[t]);if(e||c)return n||c;var h=s[t];if(h&&h.includes(l))return!0;var d=o[t];return!(!d||!d.test(this.pathname))}},{key:"isApps",get:function(){return-1!==s.app.indexOf(this.query.mt)&&!this.isMessages&&!this.isWatch}},{key:"isAudiobook",get:function(){return this._is("audiobook")}},{key:"isBook",get:function(){return this._is("book")&&!this.isAudiobook}},{key:"isCobalt",get:function(){return this._is("course")}},{key:"isMacApp",get:function(){return this._is("mac-app")}},{key:"isStory",get:function(){return this._is("story")}},{key:"isMessages",get:function(){return this._is("messages")}},{key:"isMusic",get:function(){return this._is("music")}},{key:"isPodcast",get:function(){return this._is("podcast")}},{key:"isTV",get:function(){return this._is("tv")}},{key:"isWatch",get:function(){return this._is("watch")}}]),t}();n.default=l},{4:4}],3:[function(t,e,n){"use strict";n.appendFrame=function(){var t=arguments.length<=0||void 0===arguments[0]?i:arguments[0],e=arguments.length<=1||void 0===arguments[1]?document.body:arguments[1],n=t;"string"==typeof t&&((n=document.createElement("iframe")).id=t,n.style.display="none");return e.appendChild(n),n},n.removeFrame=function(){var t=arguments.length<=0||void 0===arguments[0]?i:arguments[0],e=arguments.length<=1||void 0===arguments[1]?document.body:arguments[1],n=t;"string"==typeof t&&(n=document.getElementById(t));n&&e.removeChild(n)};var i="client-detect-frame";n.FRAME_ID=i},{}],4:[function(t,e,n){"use strict";var i=function(t,e){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return function(t,e){var n=[],i=!0,r=!1,s=void 0;try{for(var o,a=t[Symbol.iterator]();!(i=(o=a.next()).done)&&(n.push(o.value),!e||n.length!==e);i=!0);}catch(t){r=!0,s=t}finally{try{!i&&a.return&&a.return()}finally{if(r)throw s}}return n}(t,e);throw new TypeError("Invalid attempt to destructure non-iterable instance")};n.parseSearch=function(){var t=arguments.length<=0||void 0===arguments[0]?"":arguments[0],e={},n=t.match(r)||[];return n.forEach((function(t){var n=t.split("="),r=i(n,2),s=r[0],o=r[1];e[s]=o})),e},n.parseURL=function(t){var e=document.createElement("a");return e.href=t,{hash:e.hash,hostname:e.hostname,pathname:e.pathname,protocol:e.protocol,search:e.search}},n.sanitizeUrlForLaunch=function(t){var e=new URL(t);return e.host=e.host.replace(/^(?:[^-]+-)?([^.]+)\.apple.com/,"$1.apple.com"),e.port="",e.toString()};var r=/([^?&=]+)=?([^&]*)/g},{}],5:[function(t,e,n){"use strict";var i=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}();n.registerGlobal=function(t){t.ClientDetect=u};var r=t(1),s=t(2),o=t(10),a=t(4),u=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t)}return i(t,null,[{key:"browser",value:function(t){return new r.default(t)}},{key:"couldHaveAppStore",value:function(){var t=arguments.length<=0||void 0===arguments[0]?window.navigator.userAgent:arguments[0];return new r.default(t).couldSupportScheme("itms-apps")}},{key:"couldHaveBookStore",value:function(){var t=arguments.length<=0||void 0===arguments[0]?window.navigator.userAgent:arguments[0];return new r.default(t).couldSupportScheme("itms-books")}},{key:"couldHaveiTunes",value:function(){var t=arguments.length<=0||void 0===arguments[0]?window.navigator.userAgent:arguments[0];return new r.default(t).couldSupportScheme("itms")}},{key:"couldHaveiTunesU",value:function(){var t=arguments.length<=0||void 0===arguments[0]?window.navigator.userAgent:arguments[0];return new r.default(t).couldSupportScheme("itms-itunesu")}},{key:"couldHaveMacAppStore",value:function(){var t=arguments.length<=0||void 0===arguments[0]?window.navigator.userAgent:arguments[0];return new r.default(t).couldSupportScheme("macappstore")}},{key:"couldHaveMessages",value:function(){var t=arguments.length<=0||void 0===arguments[0]?window.navigator.userAgent:arguments[0];return new r.default(t).couldSupportScheme("itms-messages")}},{key:"couldHaveMusic",value:function(){var t=arguments.length<=0||void 0===arguments[0]?window.navigator.userAgent:arguments[0],e=new r.default(t);return e.couldSupportScheme("music")||e.couldSupportScheme("apple-music")}},{key:"couldHavePodcasts",value:function(){var t=arguments.length<=0||void 0===arguments[0]?window.navigator.userAgent:arguments[0];return new r.default(t).couldSupportScheme("itms-podcast")}},{key:"couldHaveTV",value:function(){var t=arguments.length<=0||void 0===arguments[0]?window.navigator.userAgent:arguments[0];return new r.default(t).couldSupportScheme("video")}},{key:"couldHaveWatch",value:function(){var t=arguments.length<=0||void 0===arguments[0]?window.navigator.userAgent:arguments[0];return new r.default(t).couldSupportScheme("itms-watch")}},{key:"schemeForURL",value:function(t,e){var n=s.default.forURL(t,e),i=e.isAndroid||"com.apple.tv"===n?/^https?/:/^http/;return{scheme:n,href:t.replace(i,n)}}},{key:"launchClient",value:function(e,n){var i=new r.default,s=e,u=void 0;if(/^https?:\/\//.test(e)){var l=t.schemeForURL(e,i);u=l.scheme,s=l.href}if(s=(0,a.sanitizeUrlForLaunch)(s),"function"!=typeof n)return window.location.href=s;function c(){n(1,i,s)}function h(){n(0,i,s)}return navigator.msLaunchUri?navigator.msLaunchUri(s,c,h):i.isChrome?o.default.chrome(s,c,h):i.isFirefox?o.default.firefox(s,c,h):i.isIE?o.default.ie(s,c,h):i.isiOS?o.default.ios(s,c,h):i.ismacOS&&i.isSafari?o.default.mac(s,c,h):o.default.default(s,(function(){n(-1,i,s)})),{scheme:u,href:s}}}]),t}();n.ClientDetect=u,n.default=u},{1:1,10:10,2:2,4:4}],6:[function(t,e,n){"use strict";n.default=function(t){var e=arguments.length<=1||void 0===arguments[1]?Function():arguments[1],n=arguments.length<=2||void 0===arguments[2]?Function():arguments[2];function i(){window.clearTimeout(r),window.removeEventListener("blur",i),e()}window.addEventListener("blur",i);var r=window.setTimeout((function(){window.removeEventListener("blur",i),n()}),250);try{window.location.href=t}catch(t){n()}}},{}],7:[function(t,e,n){"use strict";var i=t(3);n.default=function(t){var e=arguments.length<=1||void 0===arguments[1]?Function():arguments[1],n=(0,i.appendFrame)();n.contentWindow.location.href=t,window.setTimeout((function(){(0,i.removeFrame)(n),e()}),250)}},{3:3}],8:[function(t,e,n){"use strict";var i=t(3);n.default=function(t){var e=arguments.length<=1||void 0===arguments[1]?Function():arguments[1],n=arguments.length<=2||void 0===arguments[2]?Function():arguments[2],r=(0,i.appendFrame)();try{r.contentWindow.location.href=t,e()}catch(t){n()}finally{(0,i.removeFrame)()}}},{3:3}],9:[function(t,e,n){"use strict";var i="client-detect-popup";n.POPUP_ID=i,n.default=function(t){var e=arguments.length<=1||void 0===arguments[1]?Function():arguments[1],n=arguments.length<=2||void 0===arguments[2]?Function():arguments[2],r="about:blank",s=window.open("",i,"height=0,width=0");s.location.href=t;try{!function(){s.location.href=r,e();var t=window.setInterval((function(){s.close(),s.closed&&window.clearInterval(t)}),250)}()}catch(t){(s=window.open(r,i)).close(),n()}}},{}],10:[function(t,e,n){"use strict";var i=t(7),r=t(6),s=t(8),o=t(9),a=t(11),u=t(12);n.default={chrome:r.default,firefox:s.default,ie:o.default,ios:a.default,mac:u.default,default:i.default}},{11:11,12:12,6:6,7:7,8:8,9:9}],11:[function(t,e,n){"use strict";n.default=function(t){var e=arguments.length<=1||void 0===arguments[1]?Function():arguments[1],n=arguments.length<=2||void 0===arguments[2]?Function():arguments[2];try{top.window.location.href=t,e()}catch(t){n()}}},{}],12:[function(t,e,n){"use strict";var i=t(2),r=t(3);n.default=function(t){var e=arguments.length<=1||void 0===arguments[1]?Function():arguments[1],n=arguments.length<=2||void 0===arguments[2]?Function():arguments[2];function s(t){var n=arguments.length<=1||void 0===arguments[1]?e:arguments[1];window.clearTimeout(a),window.removeEventListener("blur",s),(0,r.removeFrame)(o),n()}var o=(0,r.appendFrame)();if(o.contentWindow.location.href=t,i.default.isApple(t))return e();window.addEventListener("blur",s);var a=window.setTimeout((function(){s(null,n)}),50)}},{2:2,3:3}],13:[function(t,e,n){"use strict";var i=t(14),r=t(16),s=t(19),o=function(t,e){e=e||{},this._tabbables=null,this._excludeHidden=e.excludeHidden,this._firstTabbableElement=e.firstFocusElement,this._lastTabbableElement=null,this._relatedTarget=null,this.el=t,this._handleOnFocus=this._handleOnFocus.bind(this)},a=o.prototype;a.start=function(){this.updateTabbables(),r(this.el,null,this._excludeHidden),this._firstTabbableElement?this.el.contains(document.activeElement)||this._firstTabbableElement.focus():console.warn("this._firstTabbableElement is null, CircularTab needs at least one tabbable element."),this._relatedTarget=document.activeElement,document.addEventListener("focus",this._handleOnFocus,!0)},a.stop=function(){s(this.el),document.removeEventListener("focus",this._handleOnFocus,!0)},a.updateTabbables=function(){this._tabbables=i.getTabbableElements(this.el,this._excludeHidden),this._firstTabbableElement=this._firstTabbableElement||this._tabbables[0],this._lastTabbableElement=this._tabbables[this._tabbables.length-1]},a._handleOnFocus=function(t){if(this.el.contains(t.target))this._relatedTarget=t.target;else{if(t.preventDefault(),this.updateTabbables(),this._relatedTarget===this._lastTabbableElement||null===this._relatedTarget)return this._firstTabbableElement.focus(),void(this._relatedTarget=this._firstTabbableElement);if(this._relatedTarget===this._firstTabbableElement&&this._lastTabbableElement)return this._lastTabbableElement.focus(),void(this._relatedTarget=this._lastTabbableElement)}},a.destroy=function(){this.stop(),this.el=null,this._tabbables=null,this._firstTabbableElement=null,this._lastTabbableElement=null,this._relatedTarget=null,this._handleOnFocus=null},e.exports=o},{14:14,16:16,19:19}],14:[function(t,e,n){"use strict";var i=t(21),r=function(){this.focusableSelectors=i.selectors},s=r.prototype;s.isFocusableElement=function(t,e,n){return!(e&&!this._isDisplayed(t))&&(i.nodeName[t.nodeName]?!t.disabled:!t.contentEditable||(n=n||parseFloat(t.getAttribute("tabindex")),!isNaN(n)))},s.isTabbableElement=function(t,e){if(e&&!this._isDisplayed(t))return!1;var n=t.getAttribute("tabindex");return n=parseFloat(n),isNaN(n)?this.isFocusableElement(t,e,n):n>=0},s._isDisplayed=function(t){var e=t.getBoundingClientRect();return(0!==e.top||0!==e.left||0!==e.width||0!==e.height)&&"hidden"!==window.getComputedStyle(t).visibility},s.getTabbableElements=function(t,e){for(var n=t.querySelectorAll(this.focusableSelectors),i=n.length,r=[],s=0;s<i;s++)this.isTabbableElement(n[s],e)&&r.push(n[s]);return r},s.getFocusableElements=function(t,e){for(var n=t.querySelectorAll(this.focusableSelectors),i=n.length,r=[],s=0;s<i;s++)this.isFocusableElement(n[s],e)&&r.push(n[s]);return r},e.exports=new r},{21:21}],15:[function(t,e,n){"use strict";var i=t(20),r=t(14),s=function(t,e){var n=t.getAttribute("data-original-"+e);n||(n=t.getAttribute(e)||"",t.setAttribute("data-original-"+e,n))};e.exports=function(t,e){if(r.isFocusableElement(t,e))s(t,"tabindex"),t.setAttribute("tabindex","-1");else for(var n=r.getTabbableElements(t,e),o=n.length;o--;)s(n[o],"tabindex"),n[o].setAttribute("tabindex","-1");s(t,i.HIDDEN),t.setAttribute(i.HIDDEN,"true")}},{14:14,20:20}],16:[function(t,e,n){"use strict";var i=t(15);e.exports=function t(e,n,r){n=n||document.body;for(var s=e,o=e;s=s.previousElementSibling;)i(s,r);for(;o=o.nextElementSibling;)i(o,r);e.parentElement&&e.parentElement!==n&&t(e.parentElement,n,r)}},{15:15}],17:[function(t,e,n){"use strict";e.exports=function(t,e){var n;n=t instanceof NodeList?t:[].concat(t),e=Array.isArray(e)?e:[].concat(e),n.forEach((function(t){e.forEach((function(e){t.removeAttribute(e)}))}))}},{}],18:[function(t,e,n){"use strict";var i=t(17),r=t(20),s="data-original-",o=function(t,e){var n=t.getAttribute(s+e);null!==n&&(""===n?i(t,e):t.setAttribute(e,n),i(t,s+e))};e.exports=function(t){o(t,"tabindex"),o(t,r.HIDDEN);for(var e=t.querySelectorAll("[".concat(s+"tabindex","]")),n=e.length;n--;)o(e[n],"tabindex")}},{17:17,20:20}],19:[function(t,e,n){"use strict";var i=t(18);e.exports=function t(e,n){n=n||document.body;for(var r=e,s=e;r=r.previousElementSibling;)i(r);for(;s=s.nextElementSibling;)i(s);e.parentElement&&e.parentElement!==n&&t(e.parentElement,n)}},{18:18}],20:[function(t,e,n){"use strict";e.exports={AUTOCOMPLETE:"aria-autocomplete",CHECKED:"aria-checked",DISABLED:"aria-disabled",EXPANDED:"aria-expanded",HASPOPUP:"aria-haspopup",HIDDEN:"aria-hidden",INVALID:"aria-invalid",LABEL:"aria-label",LEVEL:"aria-level",MULTILINE:"aria-multiline",MULTISELECTABLE:"aria-multiselectable",ORIENTATION:"aria-orientation",PRESSED:"aria-pressed",READONLY:"aria-readonly",REQUIRED:"aria-required",SELECTED:"aria-selected",SORT:"aria-sort",VALUEMAX:"aria-valuemax",VALUEMIN:"aria-valuemin",VALUENOW:"aria-valuenow",VALUETEXT:"aria-valuetext",ATOMIC:"aria-atomic",BUSY:"aria-busy",LIVE:"aria-live",RELEVANT:"aria-relevant",DROPEFFECT:"aria-dropeffect",GRABBED:"aria-grabbed",ACTIVEDESCENDANT:"aria-activedescendant",CONTROLS:"aria-controls",DESCRIBEDBY:"aria-describedby",FLOWTO:"aria-flowto",LABELLEDBY:"aria-labelledby",OWNS:"aria-owns",POSINSET:"aria-posinset",SETSIZE:"aria-setsize"}},{}],21:[function(t,e,n){"use strict";e.exports={selectors:["input","select","textarea","button","optgroup","option","menuitem","fieldset","object","a[href]","[tabindex]","[contenteditable]"].join(","),nodeName:{INPUT:"input",SELECT:"select",TEXTAREA:"textarea",BUTTON:"button",OPTGROUP:"optgroup",OPTION:"option",MENUITEM:"menuitem",FIELDSET:"fieldset",OBJECT:"object",A:"a"}}},{}],22:[function(t,e,n){"use strict";t("@marcom/ac-polyfills/Array/prototype.slice"),t("@marcom/ac-polyfills/Element/prototype.classList");var i=t(23);e.exports=function(){var t,e=Array.prototype.slice.call(arguments),n=e.shift(e);if(n.classList&&n.classList.add)n.classList.add.apply(n.classList,e);else for(t=0;t<e.length;t++)i(n,e[t])}},{23:23,undefined:void 0}],23:[function(t,e,n){"use strict";var i=t(24);e.exports=function(t,e){i(t,e)||(t.className+=" "+e)}},{24:24}],24:[function(t,e,n){"use strict";var i=t(25);e.exports=function(t,e){return i(e).test(t.className)}},{25:25}],25:[function(t,e,n){"use strict";e.exports=function(t){return new RegExp("(\\s|^)"+t+"(\\s|$)")}},{}],26:[function(t,e,n){"use strict";var i=t(24),r=t(25);e.exports=function(t,e){i(t,e)&&(t.className=t.className.replace(r(e),"$1").trim())}},{24:24,25:25}],27:[function(t,e,n){"use strict";t("@marcom/ac-polyfills/Array/prototype.slice"),t("@marcom/ac-polyfills/Element/prototype.classList");var i=t(26);e.exports=function(){var t,e=Array.prototype.slice.call(arguments),n=e.shift(e);if(n.classList&&n.classList.remove)n.classList.remove.apply(n.classList,e);else for(t=0;t<e.length;t++)i(n,e[t])}},{26:26,undefined:void 0}],28:[function(t,e,n){"use strict";var i=t(32),r=t(30);e.exports=function(t,e,n,s){return e=r(t,e),i(t,e,n,s)}},{30:30,32:32}],29:[function(t,e,n){"use strict";var i=t(33),r=t(30);e.exports=function(t,e,n,s){return e=r(t,e),i(t,e,n,s)}},{30:30,33:33}],30:[function(t,e,n){"use strict";var i=t(110);e.exports=function(t,e){var n;return n="tagName"in t?t.tagName:t===window?"window":"document",i(e,n)||e}},{110:110}],31:[function(t,e,n){"use strict";e.exports=function(t){return void 0!==(t=t||window.event).target?t.target:t.srcElement}},{}],32:[function(t,e,n){"use strict";e.exports=function(t,e,n,i){return t.addEventListener?t.addEventListener(e,n,!!i):t.attachEvent("on"+e,n),t}},{}],33:[function(t,e,n){"use strict";e.exports=function(t,e,n,i){return t.removeEventListener?t.removeEventListener(e,n,!!i):t.detachEvent("on"+e,n),t}},{}],34:[function(t,e,n){"use strict";e.exports=function(t){var e;if((t=t||window)===window){if(e=window.pageXOffset)return e;t=document.documentElement||document.body.parentNode||document.body}return t.scrollLeft}},{}],35:[function(t,e,n){"use strict";e.exports=function(t){var e;if((t=t||window)===window){if(e=window.pageYOffset)return e;t=document.documentElement||document.body.parentNode||document.body}return t.scrollTop}},{}],36:[function(t,e,n){"use strict";e.exports=8},{}],37:[function(t,e,n){"use strict";e.exports=11},{}],38:[function(t,e,n){"use strict";e.exports=1},{}],39:[function(t,e,n){"use strict";e.exports=3},{}],40:[function(t,e,n){"use strict";var i=t(43);e.exports=function(t,e){return!!i(t)&&("number"==typeof e?t.nodeType===e:-1!==e.indexOf(t.nodeType))}},{43:43}],41:[function(t,e,n){"use strict";var i=t(40),r=t(36),s=t(37),o=t(38),a=t(39),u=[o,a,r,s],l=[o,a,r],c=[o,s];e.exports={parentNode:function(t,e,n,r){if(r=r||"target",(t||e)&&!i(t,c))throw new TypeError(n+": "+r+" must be an Element, or Document Fragment")},childNode:function(t,e,n,r){if(r=r||"target",(t||e)&&!i(t,l))throw new TypeError(n+": "+r+" must be an Element, TextNode, or Comment")},insertNode:function(t,e,n,r){if(r=r||"node",(t||e)&&!i(t,u))throw new TypeError(n+": "+r+" must be an Element, TextNode, Comment, or Document Fragment")},hasParentNode:function(t,e,n){if(n=n||"target",!t.parentNode)throw new TypeError(e+": "+n+" must have a parentNode")}}},{36:36,37:37,38:38,39:39,40:40}],42:[function(t,e,n){"use strict";var i=t(40),r=t(38);e.exports=function(t){return i(t,r)}},{38:38,40:40}],43:[function(t,e,n){"use strict";e.exports=function(t){return!(!t||!t.nodeType)}},{}],44:[function(t,e,n){"use strict";var i=t(68)(t(81)),r=/^\[object (HTMLCollection|NodeList|Object)\]$/;e.exports=function(t){return!!t&&("number"==typeof t.length&&(!!("object"!==(0,i.default)(t[0])||t[0]&&t[0].nodeType)&&r.test(Object.prototype.toString.call(t))))}},{68:68,81:81}],45:[function(t,e,n){"use strict";var i=t(41);e.exports=function(t){return i.childNode(t,!0,"remove"),t.parentNode?t.parentNode.removeChild(t):t}},{41:41}],46:[function(t,e,n){"use strict";var i=t(47);e.exports=new i,e.exports.ElementEngagement=i},{47:47}],47:[function(t,e,n){"use strict";var i,r=t(55).EventEmitterMicro,s={defaults:t(108),extend:t(109)},o=t(52).ElementTracker,a={timeToEngage:500,inViewThreshold:.75,stopOnEngaged:!0},u={thresholdEnterTime:0,thresholdExitTime:0,inThreshold:!1,engaged:!1,tracking:!0},l=function(t){o.call(this,null,t),r.call(this),this._thresholdEnter=this._thresholdEnter.bind(this),this._thresholdExit=this._thresholdExit.bind(this),this._enterView=this._enterView.bind(this),this._exitView=this._exitView.bind(this)};i=l.prototype=Object.create(o.prototype),(i=s.extend(i,r.prototype))._decorateTrackedElement=function(t,e){var n;n=s.defaults(a,e||{}),s.extend(t,n),s.extend(t,u)},i._attachElementListeners=function(t){t.on("thresholdenter",this._thresholdEnter,this),t.on("thresholdexit",this._thresholdExit,this),t.on("enterview",this._enterView,this),t.on("exitview",this._exitView,this)},i._removeElementListeners=function(t){t.off("thresholdenter",this._thresholdEnter),t.off("thresholdexit",this._thresholdExit),t.off("enterview",this._enterView),t.off("exitview",this._exitView)},i._attachAllElementListeners=function(){this.elements.forEach((function(t){t.stopOnEngaged&&t.engaged||this._attachElementListeners(t)}),this)},i._removeAllElementListeners=function(){this.elements.forEach((function(t){this._removeElementListeners(t)}),this)},i._elementInViewPastThreshold=function(t){return t.pixelsInView===this._windowHeight||t.percentInView>t.inViewThreshold},i._ifInView=function(t,e){var n=t.inThreshold;o.prototype._ifInView.apply(this,arguments),!n&&this._elementInViewPastThreshold(t)&&(t.inThreshold=!0,t.trigger("thresholdenter",t),"number"==typeof t.timeToEngage&&t.timeToEngage>=0&&(t.engagedTimeout=window.setTimeout(this._engaged.bind(this,t),t.timeToEngage)))},i._ifAlreadyInView=function(t){var e=t.inThreshold;o.prototype._ifAlreadyInView.apply(this,arguments),e&&!this._elementInViewPastThreshold(t)&&(t.inThreshold=!1,t.trigger("thresholdexit",t),t.engagedTimeout&&(window.clearTimeout(t.engagedTimeout),t.engagedTimeout=null))},i._engaged=function(t){t.engagedTimeout=null,this._elementEngaged(t),t.trigger("engaged",t),this.trigger("engaged",t)},i._thresholdEnter=function(t){t.thresholdEnterTime=Date.now(),t.thresholdExitTime=0,this.trigger("thresholdenter",t)},i._thresholdExit=function(t){t.thresholdExitTime=Date.now(),this.trigger("thresholdexit",t)},i._enterView=function(t){this.trigger("enterview",t)},i._exitView=function(t){this.trigger("exitview",t)},i._elementEngaged=function(t){t.engaged=!0,t.stopOnEngaged&&this.stop(t)},i.stop=function(t){this.tracking&&!t&&(this._removeAllElementListeners(),o.prototype.stop.call(this)),t&&t.tracking&&(t.tracking=!1,this._removeElementListeners(t),this.removeElement(t))},i.start=function(t){t||this._attachAllElementListeners(),t&&!t.tracking&&(t.stopOnEngaged&&t.engaged||(t.tracking=!0,this._attachElementListeners(t))),this.tracking?(this.refreshAllElementMetrics(),this.refreshAllElementStates()):o.prototype.start.call(this)},i.addElement=function(t,e){e=e||{};var n=o.prototype.addElement.call(this,t,e.useRenderedPosition);return this._decorateTrackedElement(n,e),n},i.addElements=function(t,e){[].forEach.call(t,(function(t){this.addElement(t,e)}),this)},e.exports=l},{108:108,109:109,52:52,55:55}],48:[function(t,e,n){"use strict";e.exports=function(t,e){var n;return e?{width:(n=t.getBoundingClientRect()).width,height:n.height}:{width:t.offsetWidth,height:t.offsetHeight}}},{}],49:[function(t,e,n){"use strict";var i=t(48),r=t(50),s=t(51);e.exports=function(t,e){var n,o,a,u;if(e)return n=t.getBoundingClientRect(),o=r(),a=s(),{top:n.top+a,right:n.right+o,bottom:n.bottom+a,left:n.left+o};for(u=i(t,e),n={top:t.offsetTop,left:t.offsetLeft,width:u.width,height:u.height};t=t.offsetParent;)n.top+=t.offsetTop,n.left+=t.offsetLeft;return{top:n.top,right:n.left+n.width,bottom:n.top+n.height,left:n.left}}},{48:48,50:50,51:51}],50:[function(t,e,n){"use strict";e.exports=function(t){return(t=t||window)===window?window.scrollX||window.pageXOffset:t.scrollLeft}},{}],51:[function(t,e,n){"use strict";e.exports=function(t){return(t=t||window)===window?window.scrollY||window.pageYOffset:t.scrollTop}},{}],52:[function(t,e,n){"use strict";var i=t(53),r=t(54);e.exports=new i,e.exports.ElementTracker=i,e.exports.TrackedElement=r},{53:53,54:54}],53:[function(t,e,n){"use strict";var i=t(68)(t(81)),r={isNodeList:t(44),isElement:t(42)},s={getDimensions:t(48),getPagePosition:t(49),getScrollY:t(51)},o={clone:t(106),extend:t(109)},a=t(54),u={autoStart:!1,useRenderedPosition:!1};function l(t,e){this.options=o.clone(u),this.options="object"===(0,i.default)(e)?o.extend(this.options,e):this.options,this._scrollY=this._getScrollY(),this._windowHeight=this._getWindowHeight(),this.tracking=!1,this.elements=[],t&&(Array.isArray(t)||r.isNodeList(t)||r.isElement(t))&&this.addElements(t),this.refreshAllElementStates=this.refreshAllElementStates.bind(this),this.refreshAllElementMetrics=this.refreshAllElementMetrics.bind(this),this.options.autoStart&&this.start()}var c=l.prototype;c.destroy=function(){var t,e;for(this.stop(),t=0,e=this.elements.length;t<e;t++)this.elements[t].destroy();this.elements=null,this.options=null},c._registerTrackedElements=function(t){[].concat(t).forEach((function(t){this._elementInDOM(t.element)&&(t.offsetTop=t.element.offsetTop,this.elements.push(t))}),this)},c._elementInDOM=function(t){var e=!1,n=document.getElementsByTagName("body")[0];return r.isElement(t)&&n.contains(t)&&(e=!0),e},c._elementPercentInView=function(t){return t.pixelsInView/t.height},c._elementPixelsInView=function(t){var e=t.top-this._scrollY,n=t.bottom-this._scrollY;return e>this._windowHeight||n<0?0:Math.min(n,this._windowHeight)-Math.max(e,0)},c._ifInView=function(t,e){e||t.trigger("enterview",t)},c._ifAlreadyInView=function(t){t.inView||t.trigger("exitview",t)},c.addElements=function(t,e){void 0===e&&(e=this.options.useRenderedPosition);for(var n=0,i=(t=r.isNodeList(t)?Array.prototype.slice.call(t):[].concat(t)).length;n<i;n++)this.addElement(t[n],e)},c.addElement=function(t,e){var n=null;if(void 0===e&&(e=this.options.useRenderedPosition),!r.isElement(t))throw new TypeError("ElementTracker: "+t+" is not a valid DOM element");return n=new a(t,e),this._registerTrackedElements(n),this.refreshElementMetrics(n),this.refreshElementState(n),n},c.removeElement=function(t){var e,n=[];this.elements.forEach((function(e,i){e!==t&&e.element!==t||n.push(i)})),e=this.elements.filter((function(t,e){return n.indexOf(e)<0})),this.elements=e},c.start=function(){!1===this.tracking&&(this.tracking=!0,window.addEventListener("resize",this.refreshAllElementMetrics),window.addEventListener("orientationchange",this.refreshAllElementMetrics),window.addEventListener("scroll",this.refreshAllElementStates),this.refreshAllElementMetrics())},c.stop=function(){!0===this.tracking&&(this.tracking=!1,window.removeEventListener("resize",this.refreshAllElementMetrics),window.removeEventListener("orientationchange",this.refreshAllElementMetrics),window.removeEventListener("scroll",this.refreshAllElementStates))},c.refreshAllElementMetrics=function(t,e){"number"!=typeof t&&(t=this._getScrollY()),"number"!=typeof e&&(e=this._getWindowHeight()),this._scrollY=t,this._windowHeight=e,this.elements.forEach(this.refreshElementMetrics,this)},c.refreshElementMetrics=function(t){if(!t.isActive)return t;var e=s.getDimensions(t.element,t.useRenderedPosition),n=s.getPagePosition(t.element,t.useRenderedPosition);return t=o.extend(t,e,n),this.refreshElementState(t)},c.refreshAllElementStates=function(t){"number"!=typeof t&&(t=this._getScrollY()),this._scrollY=t,this.elements.forEach(this.refreshElementState,this)},c.refreshElementState=function(t){if(!t.isActive)return t;var e=t.inView;return t.pixelsInView=this._elementPixelsInView(t),t.percentInView=this._elementPercentInView(t),t.inView=t.pixelsInView>0,t.inView&&this._ifInView(t,e),e&&this._ifAlreadyInView(t),t},c.pauseElementTracking=function(t){t&&(t.isActive=!1)},c.resumeElementTracking=function(t){t&&(t.isActive=!0)},c._getWindowHeight=function(){return window.innerHeight},c._getScrollY=function(){return s.getScrollY()},e.exports=l},{106:106,109:109,42:42,44:44,48:48,49:49,51:51,54:54,68:68,81:81}],54:[function(t,e,n){"use strict";var i={isElement:t(42)},r=t(55).EventEmitterMicro,s=r.prototype;function o(t,e){if(!i.isElement(t))throw new TypeError("TrackedElement: "+t+" is not a valid DOM element");r.call(this),this.element=t,this.inView=!1,this.isActive=!0,this.percentInView=0,this.pixelsInView=0,this.offsetTop=0,this.top=0,this.right=0,this.bottom=0,this.left=0,this.width=0,this.height=0,this.useRenderedPosition=e||!1}(o.prototype=Object.create(s)).destroy=function(){this.element=null,s.destroy.call(this)},e.exports=o},{42:42,55:55}],55:[function(t,e,n){"use strict";e.exports={EventEmitterMicro:t(56)}},{56:56}],56:[function(t,e,n){"use strict";function i(){this._events={}}var r=i.prototype;r.on=function(t,e){this._events[t]=this._events[t]||[],this._events[t].unshift(e)},r.once=function(t,e){var n=this;this.on(t,(function i(r){n.off(t,i),void 0!==r?e(r):e()}))},r.off=function(t,e){if(this.has(t)){if(1===arguments.length)return this._events[t]=null,void delete this._events[t];var n=this._events[t].indexOf(e);-1!==n&&this._events[t].splice(n,1)}},r.trigger=function(t,e){if(this.has(t))for(var n=this._events[t].length-1;n>=0;n--)void 0!==e?this._events[t][n](e):this._events[t][n]()},r.has=function(t){return t in this._events!=!1&&0!==this._events[t].length},r.destroy=function(){for(var t in this._events)this._events[t]=null;this._events=null},e.exports=i},{}],57:[function(t,e,n){e.exports=function(t){if(Array.isArray(t))return t}},{}],58:[function(t,e,n){e.exports=function(t){if(Array.isArray(t)){for(var e=0,n=new Array(t.length);e<t.length;e++)n[e]=t[e];return n}}},{}],59:[function(t,e,n){e.exports=function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}},{}],60:[function(t,e,n){function i(t,e,n,i,r,s,o){try{var a=t[s](o),u=a.value}catch(t){return void n(t)}a.done?e(u):Promise.resolve(u).then(i,r)}e.exports=function(t){return function(){var e=this,n=arguments;return new Promise((function(r,s){var o=t.apply(e,n);function a(t){i(o,r,s,a,u,"next",t)}function u(t){i(o,r,s,a,u,"throw",t)}a(void 0)}))}}},{}],61:[function(t,e,n){e.exports=function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}},{}],62:[function(t,e,n){var i=t(77);function r(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}function s(t,n,o){return r()?e.exports=s=Reflect.construct:e.exports=s=function(t,e,n){var r=[null];r.push.apply(r,e);var s=new(Function.bind.apply(t,r));return n&&i(s,n.prototype),s},s.apply(null,arguments)}e.exports=s},{77:77}],63:[function(t,e,n){function i(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}e.exports=function(t,e,n){return e&&i(t.prototype,e),n&&i(t,n),t}},{}],64:[function(t,e,n){e.exports=function(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}},{}],65:[function(t,e,n){var i=t(79);function r(t,n,s){return"undefined"!=typeof Reflect&&Reflect.get?e.exports=r=Reflect.get:e.exports=r=function(t,e,n){var r=i(t,e);if(r){var s=Object.getOwnPropertyDescriptor(r,e);return s.get?s.get.call(n):s.value}},r(t,n,s||t)}e.exports=r},{79:79}],66:[function(t,e,n){function i(t){return e.exports=i=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},i(t)}e.exports=i},{}],67:[function(t,e,n){var i=t(77);e.exports=function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&i(t,e)}},{77:77}],68:[function(t,e,n){e.exports=function(t){return t&&t.__esModule?t:{default:t}}},{}],69:[function(t,e,n){e.exports=function(t){return-1!==Function.toString.call(t).indexOf("[native code]")}},{}],70:[function(t,e,n){e.exports=function(t){if(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t))return Array.from(t)}},{}],71:[function(t,e,n){e.exports=function(t,e){if(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t)){var n=[],i=!0,r=!1,s=void 0;try{for(var o,a=t[Symbol.iterator]();!(i=(o=a.next()).done)&&(n.push(o.value),!e||n.length!==e);i=!0);}catch(t){r=!0,s=t}finally{try{i||null==a.return||a.return()}finally{if(r)throw s}}return n}}},{}],72:[function(t,e,n){e.exports=function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}},{}],73:[function(t,e,n){e.exports=function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}},{}],74:[function(t,e,n){var i=t(75);e.exports=function(t,e){if(null==t)return{};var n,r,s=i(t,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(t,n)&&(s[n]=t[n])}return s}},{75:75}],75:[function(t,e,n){e.exports=function(t,e){if(null==t)return{};var n,i,r={},s=Object.keys(t);for(i=0;i<s.length;i++)n=s[i],e.indexOf(n)>=0||(r[n]=t[n]);return r}},{}],76:[function(t,e,n){var i=t(81),r=t(59);e.exports=function(t,e){return!e||"object"!==i(e)&&"function"!=typeof e?r(t):e}},{59:59,81:81}],77:[function(t,e,n){function i(t,n){return e.exports=i=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},i(t,n)}e.exports=i},{}],78:[function(t,e,n){var i=t(57),r=t(71),s=t(72);e.exports=function(t,e){return i(t)||r(t,e)||s()}},{57:57,71:71,72:72}],79:[function(t,e,n){var i=t(66);e.exports=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=i(t)););return t}},{66:66}],80:[function(t,e,n){var i=t(58),r=t(70),s=t(73);e.exports=function(t){return i(t)||r(t)||s()}},{58:58,70:70,73:73}],81:[function(t,e,n){function i(t){return"function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?e.exports=i=function(t){return typeof t}:e.exports=i=function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},i(t)}e.exports=i},{}],82:[function(t,e,n){var i=t(66),r=t(77),s=t(69),o=t(62);function a(t){var n="function"==typeof Map?new Map:void 0;return e.exports=a=function(t){if(null===t||!s(t))return t;if("function"!=typeof t)throw new TypeError("Super expression must either be null or a function");if(void 0!==n){if(n.has(t))return n.get(t);n.set(t,e)}function e(){return o(t,arguments,i(this).constructor)}return e.prototype=Object.create(t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),r(e,t)},a(t)}e.exports=a},{62:62,66:66,69:69,77:77}],83:[function(t,e,n){var i=function(t){"use strict";var e=Object.prototype,n=e.hasOwnProperty,i="function"==typeof Symbol?Symbol:{},r=i.iterator||"@@iterator",s=i.asyncIterator||"@@asyncIterator",o=i.toStringTag||"@@toStringTag";function a(t,e,n,i){var r=e&&e.prototype instanceof c?e:c,s=Object.create(r.prototype),o=new w(i||[]);return s._invoke=function(t,e,n){var i="suspendedStart";return function(r,s){if("executing"===i)throw new Error("Generator is already running");if("completed"===i){if("throw"===r)throw s;return k()}for(n.method=r,n.arg=s;;){var o=n.delegate;if(o){var a=_(o,n);if(a){if(a===l)continue;return a}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===i)throw i="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);i="executing";var c=u(t,e,n);if("normal"===c.type){if(i=n.done?"completed":"suspendedYield",c.arg===l)continue;return{value:c.arg,done:n.done}}"throw"===c.type&&(i="completed",n.method="throw",n.arg=c.arg)}}}(t,n,o),s}function u(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(t){return{type:"throw",arg:t}}}t.wrap=a;var l={};function c(){}function h(){}function d(){}var f={};f[r]=function(){return this};var m=Object.getPrototypeOf,p=m&&m(m(x([])));p&&p!==e&&n.call(p,r)&&(f=p);var v=d.prototype=c.prototype=Object.create(f);function y(t){["next","throw","return"].forEach((function(e){t[e]=function(t){return this._invoke(e,t)}}))}function g(t){var e;this._invoke=function(i,r){function s(){return new Promise((function(e,s){!function e(i,r,s,o){var a=u(t[i],t,r);if("throw"!==a.type){var l=a.arg,c=l.value;return c&&"object"==typeof c&&n.call(c,"__await")?Promise.resolve(c.__await).then((function(t){e("next",t,s,o)}),(function(t){e("throw",t,s,o)})):Promise.resolve(c).then((function(t){l.value=t,s(l)}),(function(t){return e("throw",t,s,o)}))}o(a.arg)}(i,r,e,s)}))}return e=e?e.then(s,s):s()}}function _(t,e){var n=t.iterator[e.method];if(void 0===n){if(e.delegate=null,"throw"===e.method){if(t.iterator.return&&(e.method="return",e.arg=void 0,_(t,e),"throw"===e.method))return l;e.method="throw",e.arg=new TypeError("The iterator does not provide a 'throw' method")}return l}var i=u(n,t.iterator,e.arg);if("throw"===i.type)return e.method="throw",e.arg=i.arg,e.delegate=null,l;var r=i.arg;return r?r.done?(e[t.resultName]=r.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,l):r:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,l)}function b(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function E(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function w(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(b,this),this.reset(!0)}function x(t){if(t){var e=t[r];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var i=-1,s=function e(){for(;++i<t.length;)if(n.call(t,i))return e.value=t[i],e.done=!1,e;return e.value=void 0,e.done=!0,e};return s.next=s}}return{next:k}}function k(){return{value:void 0,done:!0}}return h.prototype=v.constructor=d,d.constructor=h,d[o]=h.displayName="GeneratorFunction",t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===h||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,d):(t.__proto__=d,o in t||(t[o]="GeneratorFunction")),t.prototype=Object.create(v),t},t.awrap=function(t){return{__await:t}},y(g.prototype),g.prototype[s]=function(){return this},t.AsyncIterator=g,t.async=function(e,n,i,r){var s=new g(a(e,n,i,r));return t.isGeneratorFunction(n)?s:s.next().then((function(t){return t.done?t.value:s.next()}))},y(v),v[o]="Generator",v[r]=function(){return this},v.toString=function(){return"[object Generator]"},t.keys=function(t){var e=[];for(var n in t)e.push(n);return e.reverse(),function n(){for(;e.length;){var i=e.pop();if(i in t)return n.value=i,n.done=!1,n}return n.done=!0,n}},t.values=x,w.prototype={constructor:w,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(E),!t)for(var e in this)"t"===e.charAt(0)&&n.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function i(n,i){return o.type="throw",o.arg=t,e.next=n,i&&(e.method="next",e.arg=void 0),!!i}for(var r=this.tryEntries.length-1;r>=0;--r){var s=this.tryEntries[r],o=s.completion;if("root"===s.tryLoc)return i("end");if(s.tryLoc<=this.prev){var a=n.call(s,"catchLoc"),u=n.call(s,"finallyLoc");if(a&&u){if(this.prev<s.catchLoc)return i(s.catchLoc,!0);if(this.prev<s.finallyLoc)return i(s.finallyLoc)}else if(a){if(this.prev<s.catchLoc)return i(s.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<s.finallyLoc)return i(s.finallyLoc)}}}},abrupt:function(t,e){for(var i=this.tryEntries.length-1;i>=0;--i){var r=this.tryEntries[i];if(r.tryLoc<=this.prev&&n.call(r,"finallyLoc")&&this.prev<r.finallyLoc){var s=r;break}}s&&("break"===t||"continue"===t)&&s.tryLoc<=e&&e<=s.finallyLoc&&(s=null);var o=s?s.completion:{};return o.type=t,o.arg=e,s?(this.method="next",this.next=s.finallyLoc,l):this.complete(o)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),l},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),E(n),l}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.tryLoc===t){var i=n.completion;if("throw"===i.type){var r=i.arg;E(n)}return r}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,n){return this.delegate={iterator:x(t),resultName:e,nextLoc:n},"next"===this.method&&(this.arg=void 0),l}},t}("object"==typeof e?e.exports:{});try{regeneratorRuntime=i}catch(t){Function("r","regeneratorRuntime = r")(i)}},{}],84:[function(t,e,n){e.exports=t(83)},{83:83}],85:[function(t,e,n){"use strict";function i(){this._createElemnts(),this._bindEvents()}var r=i.prototype;r._bindEvents=function(){this._onResize=this._resize.bind(this)},r._createElemnts=function(){this.span=document.createElement("span");var t=this.span.style;t.visibility="hidden",t.position="absolute",t.top="0",t.bottom="0",t.zIndex="-1",this.span.innerHTML="&nbsp;",this.iframe=document.createElement("iframe");var e=this.iframe.style;e.position="absolute",e.top="0",e.left="0",e.width="100%",e.height="100%",this.span.appendChild(this.iframe),document.body.appendChild(this.span)},r.detect=function(t){this.originalSize=t||17,this.currentSize=parseFloat(window.getComputedStyle(this.span)["font-size"]),this.currentSize>this.originalSize&&this._onResize(),this.isDetecting||(this.iframe.contentWindow.addEventListener("resize",this._onResize),this.isDetecting=!0)},r._resize=function(t){this.currentSize=parseFloat(window.getComputedStyle(this.span)["font-size"]),this.originalSize<this.currentSize?document.documentElement.classList.add("text-zoom"):document.documentElement.classList.remove("text-zoom"),window.dispatchEvent(new Event("resize"))},r.remove=function(){this.isDetecting&&(this.iframe.contentWindow.removeEventListener("resize",this._onResize),this.isDetecting=!1)},r.destroy=function(){this.remove(),this.span&&this.span.parentElement&&this.span.parentElement.removeChild(this.span),this.span=null,this.iframe=null},e.exports=new i},{}],86:[function(t,e,n){"use strict";var i=t(150),r=t(157),s=t(132);r.BREAKPOINTS=[{name:"S",mediaQuery:"only screen and (max-width: 734px)"},{name:"M",mediaQuery:"only screen and (max-width: 1068px)"},{name:"L",mediaQuery:"only screen and (min-width: 1441px)"},{name:"L",mediaQuery:"only screen and (min-width: 1069px)"}];new(t(90));var o=null;try{o=t("@marcom/ac-analytics")}catch(t){}var a=t(91);function u(t,e,n,i,r){Array.from(t.querySelectorAll("a")).forEach((function(n,s){var a=1===r?0:i,u=n.getAttribute("data-analytics-title")||n.getAttribute("aria-label")||n.innerText;if(!/\w/.test(u)){var l=t.getAttribute("data-module-template"),c=t.getAttribute("data-unit-id");if(c){for(var h=t.parentNode;!l;)l=h.getAttribute("data-module-template"),h=h.parentNode;u=l+" "+c}else u=l;/\w/.test(n.className)&&(u+=" "+n.className)}u=u.split("â€™").join("").split(/[^\w]+/).join(" ").toLowerCase();var d={eVar102:e+"."+a+":"+u,eVar103:"abcdefghijklmnopqrstuvwxyz".charAt(i-1)};n.addEventListener("mouseup",(function(){o.passiveTracker(d)}))}))}e.exports=function(){var t=[];i.on("ON_DOM_KEYFRAMES_CREATED",(function(){new s,[].forEach.call(document.querySelectorAll("[data-module-template]"),(function(e,n){var r=e.getAttribute("data-module-template"),s=a[r].SectionClass,o=a[r].collectionUnits;t.push(new s(e,n,o,i))}))})),i.initialize(),o&&function(){var t;t=0,Array.from(document.querySelectorAll("[data-module-template]")).forEach((function(e,n){var i=parseInt(window.getComputedStyle(e).getPropertyValue("--columns-for-analytics-only"));if(!isNaN(i)){var r=Array.from(e.querySelectorAll("[data-unit-id]"));if(r&&r.length>0){var s=0;r.forEach((function(e,n){var r=n+1;s=Math.ceil(r/i),u(e,t+s,0,r-(s-1)*i,i)})),t+=s}else t++,u(e,t+0,0,1,i)}}));var e={page:{data:{}}},n=function(){var t,e,n,i=document.querySelector("meta[property=analytics-track]");if(i&&i.content&&(n=document.querySelector("[data-module-template]"))&&(t=n.querySelector("[data-analytics-section-engagement]"))&&t.hasAttribute("data-analytics-section-engagement")&&(e=t.getAttribute("data-analytics-section-engagement").split(":")[1]))return"0. "+i.content.toLowerCase()+" - "+e+" - section engaged .0"}();n&&(e.page.data.prop34=n),o.createBasicObserverSuite(e)}()}},{132:132,150:150,157:157,90:90,91:91,undefined:void 0}],87:[function(t,e,n){"use strict";var i=t(88),r=i.prototype;function s(t,e,n){i.apply(this,arguments)}(s.prototype=Object.create(r)).destroy=function(){r.destroy.call(this)},e.exports=s},{88:88}],88:[function(t,e,n){"use strict";var i=t(55).EventEmitterMicro,r=i.prototype,s=t(46).ElementEngagement,o=t(89);function a(e,n,r,o){i.apply(this),this.sectionElement=e,this.sectionIndex=n,this.moduleTemplateName=e.getAttribute("data-module-template"),this.viewportEmitter=t(209),this.AnimSystem=o,this.sectionAnalyticsRegion=e.getAttribute("data-analytics-region"),this.collectionUnits=this.sectionElement.querySelectorAll("[data-unit-id]"),this.elementEngagement=new s,this.elementEngagement.start(),this.collectionUnitObjs={},this._setDebouncedResizeEvents(500),this.initContentUnitClasses(r)}var u=a.prototype=Object.create(r);u.initContentUnitClasses=function(t){Array.from(this.collectionUnits).forEach(function(e){var n=e.getAttribute("data-unit-id"),i=t[n]?t[n]:o;this.collectionUnitObjs[n]=new i(e,n,this)}.bind(this))},u.destroy=function(){r.destroy.call(this)},u.addWrapperClass=function(t){this.sectionElement.classList.add(t)},u.removeWrapperClass=function(t){this.sectionElement.classList.remove(t)},u._setDebouncedResizeEvents=function(t){var e=!1;window.addEventListener("resize",function(){clearTimeout(this._checkResizeEndTimer),e||(this.trigger("resize:start"),e=!0),this._checkResizeEndTimer=setTimeout(function(){e&&(e=!1,this.trigger("resize:end"))}.bind(this),t)}.bind(this))},e.exports=a},{209:209,46:46,55:55,89:89}],89:[function(t,e,n){"use strict";var i=t(55).EventEmitterMicro,r=i.prototype;function s(t,e,n){i.apply(this),this.collectionUnitElement=t,this.unitWrapperElement=this.collectionUnitElement.querySelector(".unit-wrapper"),this.id=e,this.sectionObj=n,this.AnimSystem=n.AnimSystem,this.handleLinkAccessibilityConcerns()}var o=s.prototype=Object.create(r);o.setVoiceoverCopy=function(){if(this.unitWrapperElement){var t=/^\s*$/,e=this.unitWrapperElement.querySelector("a.unit-link"),n=e.querySelector(".unit-link-vo");if(e&&n){var i=n.textContent,r=t.test(i);Array.from(this.unitWrapperElement.querySelectorAll(".unit-copy-wrapper>*:not(a)")).forEach((function(e){if(r){var n=e.innerText&&""!=e.innerText?e.innerText:e.textContent;if(n=n.replace(/[\r\n]/g," "),t.test(n))return;/[a-z0-9]\s*$/i.test(n)&&(n+="."),i+=n.split(/\.$/).join(". ")}e.setAttribute("aria-hidden",!0)})),r&&(e.setAttribute("aria-label",i),n.innerHTML=i)}}},o.handleLinkAccessibilityConcerns=function(){if(this.unitWrapperElement){var t=this.unitWrapperElement.querySelector("a.unit-link"),e=t?t.href:null,n=t?t.getAttribute("aria-label"):null,i=this.unitWrapperElement.querySelectorAll(".cta-links a"),r=(l=[],i.forEach((function(t,e){l.push(t.href)})),l),s=e&&r.indexOf(e)>=0,o=!n||!/\w/.test(n);if(e)if(s)t.removeAttribute("aria-label"),t.setAttribute("aria-hidden","true"),t.setAttribute("tabindex","-1");else if(o){var a=this.unitWrapperElement.querySelector(".unit-copy-wrapper>*:not(a)"),u=a.innerText&&""!=a.innerText?a.innerText:a.textContent;t.setAttribute("aria-label",u)}}var l},o.destroy=function(){r.destroy.call(this)},e.exports=s},{55:55}],90:[function(t,e,n){"use strict";var i=t(68),r=i(t(61)),s=i(t(63)),o=i(t(76)),a=i(t(66)),u=i(t(67)),l=(i(t(198)),t(116)),c=t(55),h=t(85),d=[1.2,1.44,1.72,2.07,2.48,2.98],f=function(t){function e(){var t,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:17,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:d;return(0,r.default)(this,e),(t=(0,o.default)(this,(0,a.default)(e).call(this))).baseFontSize=n,t.fontSizeDeltas=i,h.detect(t.baseFontSize),t._cachedTextZoomDeltaFloat=1,t._cachedTextZoomFactor=0,t._rafEmitter=new l.RAFEmitter,t._htmlElement=document.querySelector("html"),t._listenForChanges(),t._checkForTextZoomChange(),t}return(0,u.default)(e,t),(0,s.default)(e,[{key:"_listenForChanges",value:function(){var t=this;window.addEventListener("resize",(function(e){t._checkForTextZoomChange()}))}},{key:"_checkForTextZoomChange",value:function(){var t=this,e=4;this._rafEmitter.on("update",(function(){e--;var n=t.getTextZoomDeltaAsFloat();n!=t._cachedTextZoomDeltaFloat?(t._cachedTextZoomDeltaFloat=n,t._cachedTextZoomDeltaFactor=t.getTextZoomAsFactor(),t._setTextZoomDataAttribute(),t.trigger("textZoomChange",{zoomAsFloat:t._cachedTextZoomDeltaFloat,zoomAsFactor:t._cachedTextZoomDeltaFactor})):e>0&&t._rafEmitter.run()})),this._rafEmitter.run()}},{key:"_setTextZoomDataAttribute",value:function(){var t=this;this._rafEmitter.on("draw",(function(){var e=t._cachedTextZoomDeltaFactor>0?"setAttribute":"removeAttribute";t._htmlElement[e]("data-text-zoom",t._cachedTextZoomDeltaFactor)}))}},{key:"getTextZoomAsFactor",value:function(){var t=0,e=this.getTextZoomDeltaAsFloat();return this.fontSizeDeltas.forEach((function(n){e>n&&t++})),t}},{key:"getTextZoomDeltaAsFloat",value:function(){return parseFloat(h.currentSize)/this.baseFontSize}}]),e}(c.EventEmitterMicro);e.exports=f},{116:116,198:198,55:55,61:61,63:63,66:66,67:67,68:68,76:76,85:85}],91:[function(t,e,n){"use strict";e.exports={"fitness-hero":{SectionClass:t(215),collectionUnits:t(227)},generic:{SectionClass:t(87),collectionUnits:t(228)},heroes:{SectionClass:t(87),collectionUnits:t(229)},promos:{SectionClass:t(87),collectionUnits:t(230)},ribbon:{SectionClass:t(87),collectionUnits:t(231)},"supports-shared-modals":{SectionClass:t(87),collectionUnits:t(232)}}},{215:215,227:227,228:228,229:229,230:230,231:231,232:232,87:87}],92:[function(t,e,n){"use strict";var i=t(55).EventEmitterMicro,r=t(32),s=t(33),o=t(107),a=t(94);function u(t){this._keysDown={},this._DOMKeyDown=this._DOMKeyDown.bind(this),this._DOMKeyUp=this._DOMKeyUp.bind(this),this._context=t||document,r(this._context,"keydown",this._DOMKeyDown,!0),r(this._context,"keyup",this._DOMKeyUp,!0),i.call(this)}var l=u.prototype=o(i.prototype);l.onDown=function(t,e){return this.on("keydown:"+t,e)},l.onceDown=function(t,e){return this.once("keydown:"+t,e)},l.offDown=function(t,e){return this.off("keydown:"+t,e)},l.onUp=function(t,e){return this.on("keyup:"+t,e)},l.onceUp=function(t,e){return this.once("keyup:"+t,e)},l.offUp=function(t,e){return this.off("keyup:"+t,e)},l.isDown=function(t){return t+="",this._keysDown[t]||!1},l.isUp=function(t){return!this.isDown(t)},l.destroy=function(){return s(this._context,"keydown",this._DOMKeyDown,!0),s(this._context,"keyup",this._DOMKeyUp,!0),this._keysDown=null,this._context=null,i.prototype.destroy.call(this),this},l._DOMKeyDown=function(t){var e=this._normalizeKeyboardEvent(t),n=e.keyCode+="";this._trackKeyDown(n),this.trigger("keydown:"+n,e)},l._DOMKeyUp=function(t){var e=this._normalizeKeyboardEvent(t),n=e.keyCode+="";this._trackKeyUp(n),this.trigger("keyup:"+n,e)},l._normalizeKeyboardEvent=function(t){return new a(t)},l._trackKeyUp=function(t){this._keysDown[t]&&(this._keysDown[t]=!1)},l._trackKeyDown=function(t){this._keysDown[t]||(this._keysDown[t]=!0)},e.exports=u},{107:107,32:32,33:33,55:55,94:94}],93:[function(t,e,n){"use strict";var i=t(92);e.exports=new i},{92:92}],94:[function(t,e,n){"use strict";var i=t(95),r=["keyLocation","keyIdentifier"];function s(t){var e;for(e in this.originalEvent=t,t)-1===r.indexOf(e)&&"function"!=typeof t[e]&&(this[e]=t[e]);this.keyCode||(this.keyCode=this._getKeyCode()),this.location=void 0!==this.originalEvent.location?this.originalEvent.location:this.originalEvent.keyLocation}s.prototype={preventDefault:function(){if("function"==typeof this.originalEvent.preventDefault)return this.originalEvent.preventDefault();this.originalEvent.returnValue=!1},stopPropagation:function(){return this.originalEvent.stopPropagation()},_getKeyCode:function(){return i[this.code]||-1}},e.exports=s},{95:95}],95:[function(t,e,n){"use strict";e.exports={Backspace:8,Tab:9,Enter:13,NumpadEnter:13,ShiftLeft:16,ShiftRight:16,ControlLeft:17,ControlRight:17,AltLeft:18,AltRight:18,CapsLock:20,Escape:27,PageUp:33,PageDown:34,End:35,Home:36,ArrowLeft:37,ArrowUp:38,ArrowRight:39,ArrowDown:40,Delete:46,Digit0:48,Digit1:49,Digit2:50,Digit3:51,Digit4:52,Digit5:53,Digit6:54,Digit7:55,Digit8:56,Digit9:57,KeyA:65,KeyB:66,KeyC:67,KeyD:68,KeyE:69,KeyF:70,KeyG:71,KeyH:72,KeyI:73,KeyJ:74,KeyK:75,KeyL:76,KeyM:77,KeyN:78,KeyO:79,KeyP:80,KeyQ:81,KeyR:82,KeyS:83,KeyT:84,KeyU:85,KeyV:86,KeyW:87,KeyX:88,KeyY:89,KeyZ:90,Numpad0:96,Numpad1:97,Numpad2:98,Numpad3:99,Numpad4:100,Numpad5:101,Numpad6:102,Numpad7:103,Numpad8:104,Numpad9:105,NumpadMultiply:106,NumpadAdd:107,NumpadSubtract:109,NumpadDecimal:110,NumpadDivide:111,NumpadEqual:187,Backquote:192,BracketLeft:219,BracketRight:221,Backslash:220,Semicolon:186,Quote:222,Space:32,Equal:187,Comma:188,Minus:189,Period:190,Slash:191}},{}],96:[function(t,e,n){"use strict";e.exports={BACKSPACE:8,TAB:9,ENTER:13,SHIFT:16,CONTROL:17,ALT:18,COMMAND:91,CAPSLOCK:20,ESCAPE:27,PAGE_UP:33,PAGE_DOWN:34,END:35,HOME:36,ARROW_LEFT:37,ARROW_UP:38,ARROW_RIGHT:39,ARROW_DOWN:40,DELETE:46,ZERO:48,ONE:49,TWO:50,THREE:51,FOUR:52,FIVE:53,SIX:54,SEVEN:55,EIGHT:56,NINE:57,A:65,B:66,C:67,D:68,E:69,F:70,G:71,H:72,I:73,J:74,K:75,L:76,M:77,N:78,O:79,P:80,Q:81,R:82,S:83,T:84,U:85,V:86,W:87,X:88,Y:89,Z:90,NUMPAD_ZERO:96,NUMPAD_ONE:97,NUMPAD_TWO:98,NUMPAD_THREE:99,NUMPAD_FOUR:100,NUMPAD_FIVE:101,NUMPAD_SIX:102,NUMPAD_SEVEN:103,NUMPAD_EIGHT:104,NUMPAD_NINE:105,NUMPAD_ASTERISK:106,NUMPAD_PLUS:107,NUMPAD_DASH:109,NUMPAD_DOT:110,NUMPAD_SLASH:111,NUMPAD_EQUALS:187,TICK:192,LEFT_BRACKET:219,RIGHT_BRACKET:221,BACKSLASH:220,SEMICOLON:186,APOSTRAPHE:222,APOSTROPHE:222,SPACEBAR:32,CLEAR:12,COMMA:188,DOT:190,SLASH:191}},{}],97:[function(t,e,n){"use strict";e.exports={Modal:t(98),Renderer:t(99),classNames:t(100),dataAttributes:t(101)}},{100:100,101:101,98:98,99:99}],98:[function(t,e,n){"use strict";var i={addEventListener:t(28),removeEventListener:t(29),target:t(31)},r={getScrollX:t(34),getScrollY:t(35)},s={create:t(107),defaults:t(108)},o=t(93),a=t(96),u=t(55).EventEmitterMicro,l=t(99),c={retainScrollPosition:!1};function h(t,e){u.call(this),this.options=s.defaults(c,t),this.renderer=new l(e),this.opened=!1,this._keysToClose=[a.ESCAPE],this._attachedKeysToClose=[],this.close=this.close.bind(this)}var d=h.prototype=s.create(u.prototype);d.open=function(){this.options.retainScrollPosition&&this._saveScrollPosition(),this.opened||(this._attachEvents(),this.trigger("willopen"),this.renderer.open(),this.opened=!0,this.trigger("open"))},d.close=function(t){var e,n;if(this.opened){if(t&&"click"===t.type&&(e=i.target(t),n=this.renderer.options.dataAttributes.close,!e.hasAttribute(n)))return;this.trigger("willclose"),this._removeEvents(),this.renderer.close(),this.options.retainScrollPosition&&this._restoreScrollPosition(),this.opened=!1,this.trigger("close")}},d.render=function(){this.renderer.render()},d.appendContent=function(t,e){this.renderer.appendContent(t,e)},d.removeContent=function(t){this.renderer.removeContent(t)},d.destroy=function(){for(var t in this._removeEvents(),this.renderer.destroy(),this)this.hasOwnProperty(t)&&(this[t]=null)},d.addKeyToClose=function(t){-1===this._keysToClose.indexOf(t)&&(this._keysToClose.push(t),this._bindKeyToClose(t))},d.removeKeyToClose=function(t){var e=this._keysToClose.indexOf(t);-1!==e&&this._keysToClose.splice(e,1),this._releaseKeyToClose(t)},d._bindKeyToClose=function(t){-1===this._attachedKeysToClose.indexOf(t)&&(o.onUp(t,this.close),this._attachedKeysToClose.push(t))},d._releaseKeyToClose=function(t){var e=this._attachedKeysToClose.indexOf(t);-1!==e&&(o.offUp(t,this.close),this._attachedKeysToClose.splice(e,1))},d._removeEvents=function(){this.renderer.modalElement&&i.removeEventListener(this.renderer.modalElement,"click",this.close),this._keysToClose.forEach(this._releaseKeyToClose,this)},d._attachEvents=function(){this.renderer.modalElement&&i.addEventListener(this.renderer.modalElement,"click",this.close),this._keysToClose.forEach(this._bindKeyToClose,this)},d._restoreScrollPosition=function(){window.scrollTo(this._scrollX||0,this._scrollY||0)},d._saveScrollPosition=function(){this._scrollX=r.getScrollX(),this._scrollY=r.getScrollY()},e.exports=h},{107:107,108:108,28:28,29:29,31:31,34:34,35:35,55:55,93:93,96:96,99:99}],99:[function(t,e,n){"use strict";var i={add:t(22),remove:t(27)},r={defaults:t(108)},s={remove:t(45),isElement:t(42)},o={modalElement:null,contentElement:null,closeButton:null,classNames:t(100),dataAttributes:t(101)},a=function(t){t=t||{},this.options=r.defaults(o,t),this.options.classNames=r.defaults(o.classNames,t.classNames),this.options.dataAttributes=r.defaults(o.dataAttributes,t.dataAttributes),this.modalElement=this.options.modalElement,this.contentElement=this.options.contentElement,this.closeButton=this.options.closeButton},u=a.prototype;u.render=function(){return s.isElement(this.modalElement)||(this.modalElement=this.renderModalElement(this.options.classNames.modalElement)),s.isElement(this.contentElement)||(this.contentElement=this.renderContentElement(this.options.classNames.contentElement)),!1!==this.closeButton&&(s.isElement(this.closeButton)||(this.closeButton=this.renderCloseButton(this.options.classNames.closeButton)),this.modalElement.appendChild(this.closeButton)),this.modalElement.appendChild(this.contentElement),document.body.appendChild(this.modalElement),this.modalElement},u.renderCloseButton=function(t){var e;return t=t||this.options.classNames.closeButton,(e=this._renderElement("button",t)).setAttribute(this.options.dataAttributes.close,""),e},u.renderModalElement=function(t){return t=t||this.options.classNames.modalElement,this._renderElement("div",t)},u.renderContentElement=function(t){return t=t||this.options.classNames.contentElement,this._renderElement("div",t)},u.appendContent=function(t,e){s.isElement(t)&&(void 0===arguments[1]?this.contentElement.appendChild(t):s.isElement(e)&&e.appendChild(t))},u.removeContent=function(t){t?this.modalElement.contains(t)&&s.remove(t):this._emptyContent()},u.open=function(){var t=[document.documentElement].concat(this.options.classNames.documentElement),e=[this.modalElement].concat(this.options.classNames.modalOpen);i.add.apply(null,t),i.add.apply(null,e)},u.close=function(){var t=[document.documentElement].concat(this.options.classNames.documentElement),e=[this.modalElement].concat(this.options.classNames.modalOpen);i.remove.apply(null,t),i.remove.apply(null,e)},u.destroy=function(){var t=[document.documentElement].concat(this.options.classNames.documentElement);for(var e in this.modalElement&&document.body.contains(this.modalElement)&&(this.close(),document.body.removeChild(this.modalElement)),i.remove.apply(null,t),this)this.hasOwnProperty(e)&&(this[e]=null)},u._renderElement=function(t,e){var n=document.createElement(t),r=[n];return e&&(r=r.concat(e)),i.add.apply(null,r),n},u._emptyContent=function(){this.contentElement.innerHTML=""},e.exports=a},{100:100,101:101,108:108,22:22,27:27,42:42,45:45}],100:[function(t,e,n){"use strict";e.exports={modalElement:"modal",modalOpen:"modal-open",documentElement:"has-modal",contentElement:"modal-content",closeButton:"modal-close"}},{}],101:[function(t,e,n){"use strict";e.exports={close:"data-modal-close"}},{}],102:[function(t,e,n){"use strict";e.exports={Modal:t(103),createStandardModal:t(105),createFullViewportModal:t(104)}},{103:103,104:104,105:105}],103:[function(t,e,n){"use strict";var i=t(97).Modal,r=t(55).EventEmitterMicro,s=t(13);function o(t){r.call(this),this.options=t||{},this._modal=new i(t,this.options.renderer),this.opened=!1,this._render(),this.closeButton=this._modal.renderer.closeButton,this.modalElement=this._modal.renderer.modalElement,this.contentElement=this._modal.renderer.contentElement,this.modalElement.setAttribute("role","dialog"),this.modalElement.setAttribute("aria-label","Modal"),this.modalElement.setAttribute("tabindex","-1"),this.closeButton.setAttribute("aria-label","Close"),this._circularTab=new s(this.modalElement),this._onWillOpen=this._onWillOpen.bind(this),this._onOpen=this._onOpen.bind(this),this._onWillClose=this._onWillClose.bind(this),this._onClose=this._onClose.bind(this),this._bindEvents()}var a=o.prototype=Object.create(r.prototype);a.open=function(){this._modal.open(),this.opened=this._modal.opened},a.close=function(){this._modal.close()},a.appendContent=function(t){this._modal.appendContent(t)},a.removeContent=function(t){this._modal.removeContent(t)},a.destroy=function(){for(var t in this._releaseEvents(),this._modal.destroy(),this._removeModalFocus(),this._circularTab.destroy(),this._focusObj=null,this)this.hasOwnProperty(t)&&(this[t]=null)},a.addKeyToClose=function(t){this._modal.addKeyToClose(t)},a.removeKeyToClose=function(t){this._modal.removeKeyToClose(t)},a._render=function(){this._modal.render(),this._modal.renderer.modalElement.setAttribute("aria-hidden","true")},a._bindEvents=function(){this._modal.on("willopen",this._onWillOpen),this._modal.on("open",this._onOpen),this._modal.on("willclose",this._onWillClose),this._modal.on("close",this._onClose)},a._releaseEvents=function(){this._modal.off("willopen",this._onWillOpen),this._modal.off("open",this._onOpen),this._modal.off("willclose",this._onWillClose),this._modal.off("close",this._onClose)},a._onWillOpen=function(){this.trigger("willopen")},a._onOpen=function(){this.opened=this._modal.opened,this._giveModalFocus(),this.trigger("open")},a._onWillClose=function(){this.trigger("willclose"),this._removeModalFocus()},a._onClose=function(){this.opened=this._modal.opened,this.trigger("close")},a._giveModalFocus=function(){this.modalElement.removeAttribute("aria-hidden"),this._activeElement=document.activeElement,this.modalElement.focus(),this._circularTab.start()},a._removeModalFocus=function(){this._circularTab.stop(),this.modalElement.setAttribute("aria-hidden","true"),this._activeElement&&(this._activeElement.focus(),this._activeElement=null)},e.exports=o},{13:13,55:55,97:97}],104:[function(t,e,n){"use strict";var i=t(103),r=t(97).classNames,s={retainScrollPosition:!0,renderer:{classNames:{documentElement:[r.documentElement].concat("has-modal-full-viewport"),modalElement:[r.modalElement].concat("modal-full-viewport")}}};e.exports=function(t,e){var n=new i(s),r=e||{};return t&&n.appendContent(t),r.removeContainerPadding&&n.modalElement.classList.add("remove-container-padding"),n}},{103:103,97:97}],105:[function(t,e,n){"use strict";var i=t(103),r=t(97).classNames,s=t(97).dataAttributes,o={add:t(22)},a={renderer:{classNames:{documentElement:[r.documentElement].concat("has-modal-standard"),modalElement:[r.modalElement].concat("modal-standard")}}};e.exports=function(t){var e=new i(a);t&&e.appendContent(t);var n=document.createElement("div"),r=document.createElement("div"),u=document.createElement("div"),l=document.createElement("div");return o.add(n,"content-table"),o.add(r,"content-cell"),o.add(u,"content-wrapper"),o.add(l,"content-padding","large-8","medium-10"),e.modalElement.setAttribute(s.close,""),u.setAttribute(s.close,""),r.setAttribute(s.close,""),n.appendChild(r),r.appendChild(u),u.appendChild(l),e.modalElement.appendChild(n),l.appendChild(e.contentElement),l.appendChild(e.closeButton),e}},{103:103,22:22,97:97}],106:[function(t,e,n){"use strict";var i=t(68)(t(81));t("@marcom/ac-polyfills/Array/isArray");var r=t(109),s=Object.prototype.hasOwnProperty;e.exports=function(t,e){return e?function t(e,n){var r;for(r in n)s.call(n,r)&&(null===n[r]?e[r]=null:"object"===(0,i.default)(n[r])?(e[r]=Array.isArray(n[r])?[]:{},t(e[r],n[r])):e[r]=n[r]);return e}({},t):r({},t)}},{109:109,68:68,81:81,undefined:void 0}],107:[function(t,e,n){"use strict";var i=t(68)(t(81)),r=function(){};e.exports=function(t){if(arguments.length>1)throw new Error("Second argument not supported");if(null===t||"object"!==(0,i.default)(t))throw new TypeError("Object prototype may only be an Object.");return"function"==typeof Object.create?Object.create(t):(r.prototype=t,new r)}},{68:68,81:81}],108:[function(t,e,n){"use strict";var i=t(68)(t(81)),r=t(109);e.exports=function(t,e){if("object"!==(0,i.default)(t))throw new TypeError("defaults: must provide a defaults object");if(e=e||{},"object"!==(0,i.default)(e))throw new TypeError("defaults: options must be a typeof object");return r({},t,e)}},{109:109,68:68,81:81}],109:[function(t,e,n){"use strict";t("@marcom/ac-polyfills/Array/prototype.forEach");var i=Object.prototype.hasOwnProperty;e.exports=function(){var t,e;return t=arguments.length<2?[{},arguments[0]]:[].slice.call(arguments),e=t.shift(),t.forEach((function(t){if(null!=t)for(var n in t)i.call(t,n)&&(e[n]=t[n])})),e}},{undefined:void 0}],110:[function(t,e,n){"use strict";var i=t(114),r=t(111),s=t(113),o=t(112),a={};e.exports=function t(e,n){var u,l,c;if(n=n||"div",e=e.toLowerCase(),n in a||(a[n]={}),e in(l=a[n]))return l[e];if(i(e,n))return l[e]=e;if(e in r)for(c=0;c<r[e].length;c++)if(u=r[e][c],i(u.toLowerCase(),n))return l[e]=u;for(c=0;c<o.evt.length;c++)if(u=o.evt[c]+e,i(u,n))return o.reduce(c),l[e]=u;return"window"!==n&&s.indexOf(e)?l[e]=t(e,"window"):l[e]=!1}},{111:111,112:112,113:113,114:114}],111:[function(t,e,n){"use strict";e.exports={transitionend:["webkitTransitionEnd","MSTransitionEnd"],animationstart:["webkitAnimationStart","MSAnimationStart"],animationend:["webkitAnimationEnd","MSAnimationEnd"],animationiteration:["webkitAnimationIteration","MSAnimationIteration"],fullscreenchange:["MSFullscreenChange"],fullscreenerror:["MSFullscreenError"]}},{}],112:[function(t,e,n){"use strict";var i=["-webkit-","-moz-","-ms-"],r=["Webkit","Moz","ms"],s=["webkit","moz","ms"],o=function(){this.initialize()},a=o.prototype;a.initialize=function(){this.reduced=!1,this.css=i,this.dom=r,this.evt=s},a.reduce=function(t){this.reduced||(this.reduced=!0,this.css=[this.css[t]],this.dom=[this.dom[t]],this.evt=[this.evt[t]])},e.exports=new o},{}],113:[function(t,e,n){"use strict";e.exports=["transitionend","animationstart","animationend","animationiteration"]},{}],114:[function(t,e,n){"use strict";var i={window:window,document:document};e.exports=function(t,e){var n;return t="on"+t,e in i||(i[e]=document.createElement(e)),t in(n=i[e])||"setAttribute"in n&&(n.setAttribute(t,"return;"),"function"==typeof n[t])}},{}],115:[function(t,e,n){"use strict";var i=t(130).SharedInstance,r=function(){this._currentID=0};r.prototype.getNewID=function(){return this._currentID++,"raf:"+this._currentID},e.exports=i.share("ac-raf-emitter-id-generator:sharedRAFEmitterIDGeneratorInstance","1.0.3",r)},{130:130}],116:[function(t,e,n){"use strict";e.exports={RAFEmitter:t(117),ThrottledRAFEmitter:t(121),update:t(127),external:t(126),draw:t(125),cancelUpdate:t(124),cancelExternal:t(123),cancelDraw:t(122)}},{117:117,121:121,122:122,123:123,124:124,125:125,126:126,127:127}],117:[function(t,e,n){"use strict";var i,r=t(55).EventEmitterMicro,s=t(129),o=t(115);function a(t){t=t||{},r.call(this),this.id=o.getNewID(),this.executor=t.executor||s,this._reset(),this._willRun=!1,this._didDestroy=!1}(i=a.prototype=Object.create(r.prototype)).run=function(){return this._willRun||(this._willRun=!0),this._subscribe()},i.cancel=function(){this._unsubscribe(),this._willRun&&(this._willRun=!1),this._reset()},i.destroy=function(){var t=this.willRun();return this.cancel(),this.executor=null,r.prototype.destroy.call(this),this._didDestroy=!0,t},i.willRun=function(){return this._willRun},i.isRunning=function(){return this._isRunning},i._subscribe=function(){return this.executor.subscribe(this)},i._unsubscribe=function(){return this.executor.unsubscribe(this)},i._onAnimationFrameStart=function(t){this._isRunning=!0,this._willRun=!1,this._didEmitFrameData||(this._didEmitFrameData=!0,this.trigger("start",t))},i._onAnimationFrameEnd=function(t){this._willRun||(this.trigger("stop",t),this._reset())},i._reset=function(){this._didEmitFrameData=!1,this._isRunning=!1},e.exports=a},{115:115,129:129,55:55}],118:[function(t,e,n){"use strict";var i=t(120),r=function(t){this.rafEmitter=new i,this.rafEmitter.on(t,this._onRAFExecuted.bind(this)),this.requestAnimationFrame=this.requestAnimationFrame.bind(this),this.cancelAnimationFrame=this.cancelAnimationFrame.bind(this),this._frameCallbacks=[],this._nextFrameCallbacks=[],this._currentFrameID=-1,this._cancelFrameIdx=-1,this._frameCallbackLength=0,this._nextFrameCallbacksLength=0,this._frameCallbackIteration=0},s=r.prototype;s.requestAnimationFrame=function(t){return this._currentFrameID=this.rafEmitter.run(),this._nextFrameCallbacks.push(this._currentFrameID,t),this._nextFrameCallbacksLength+=2,this._currentFrameID},s.cancelAnimationFrame=function(t){this._cancelFrameIdx=this._nextFrameCallbacks.indexOf(t),-1!==this._cancelFrameIdx&&(this._nextFrameCallbacks.splice(this._cancelFrameIdx,2),this._nextFrameCallbacksLength-=2,0===this._nextFrameCallbacksLength&&this.rafEmitter.cancel())},s._onRAFExecuted=function(t){for(this._frameCallbacks=this._nextFrameCallbacks,this._frameCallbackLength=this._nextFrameCallbacksLength,this._nextFrameCallbacks=[],this._nextFrameCallbacksLength=0,this._frameCallbackIteration=0;this._frameCallbackIteration<this._frameCallbackLength;this._frameCallbackIteration+=2)this._frameCallbacks[this._frameCallbackIteration+1](t.time,t)},e.exports=r},{120:120}],119:[function(t,e,n){"use strict";var i=t(118),r=function(){this.events={}},s=r.prototype;s.requestAnimationFrame=function(t){return this.events[t]||(this.events[t]=new i(t)),this.events[t].requestAnimationFrame},s.cancelAnimationFrame=function(t){return this.events[t]||(this.events[t]=new i(t)),this.events[t].cancelAnimationFrame},e.exports=new r},{118:118}],120:[function(t,e,n){"use strict";var i=t(117),r=function(t){i.call(this,t)};(r.prototype=Object.create(i.prototype))._subscribe=function(){return this.executor.subscribe(this,!0)},e.exports=r},{117:117}],121:[function(t,e,n){"use strict";var i,r=t(117),s=t(106),o=t(55).EventEmitterMicro;function a(t,e){o.call(this),e=e||{},this._fps=t||0,this._delta=0,this._currentFps=0,this._rafEmitter=e.rafEmitter||new r,this._lastThrottledTime=0,this._didEmitFrameData=!1,this._rafEmitterEvent=null,this._shouldDraw=!1,this._boundOnRAFEmitterUpdate=this._onRAFEmitterUpdate.bind(this),this._boundOnRAFEmitterDraw=this._onRAFEmitterDraw.bind(this),this._boundOnRAFEmitterStop=this._onRAFEmitterStop.bind(this),this._rafEmitter.on("update",this._boundOnRAFEmitterUpdate),this._rafEmitter.on("draw",this._boundOnRAFEmitterDraw),this._rafEmitter.on("stop",this._boundOnRAFEmitterStop)}(i=a.prototype=Object.create(o.prototype)).setFps=function(t){return t!==this._fps&&(this._fps=t,!0)},i.getFps=function(){return this._fps},i.run=function(){return this._rafEmitter.run()},i.cancel=function(){return this._rafEmitter.cancel()},i.willRun=function(){return this._rafEmitter.willRun()},i.isRunning=function(){return this._rafEmitter.isRunning()},i.destroy=function(){var t=this._rafEmitter.destroy();return o.prototype.destroy.call(this),this._rafEmitter=null,this._boundOnRAFEmitterUpdate=null,this._boundOnRAFEmitterDraw=null,this._boundOnRAFEmitterStop=null,this._rafEmitterEvent=null,t},i._onRAFEmitterUpdate=function(t){if(0===this._lastThrottledTime&&(this._lastThrottledTime=this._rafEmitter.executor.lastFrameTime),this._delta=t.time-this._lastThrottledTime,!this._fps)throw new TypeError("FPS is not defined.");this._currentFps=1e3/this._delta,this._currentFps>this._fps?this._rafEmitter.run():(this._rafEmitterEvent=s(t),this._rafEmitterEvent.delta=this._delta,this._rafEmitterEvent.fps=this._currentFps,this._lastThrottledTime=this._rafEmitterEvent.time,this._shouldDraw=!0,this._didEmitFrameData||(this.trigger("start",this._rafEmitterEvent),this._didEmitFrameData=!0),this.trigger("update",this._rafEmitterEvent))},i._onRAFEmitterDraw=function(){this._shouldDraw&&(this._shouldDraw=!1,this.trigger("draw",this._rafEmitterEvent))},i._onRAFEmitterStop=function(){this._lastThrottledTime=0,this._didEmitFrameData=!1,this.trigger("stop",this._rafEmitterEvent)},e.exports=a},{106:106,117:117,55:55}],122:[function(t,e,n){"use strict";var i=t(119);e.exports=i.cancelAnimationFrame("draw")},{119:119}],123:[function(t,e,n){"use strict";var i=t(119);e.exports=i.cancelAnimationFrame("external")},{119:119}],124:[function(t,e,n){"use strict";var i=t(119);e.exports=i.cancelAnimationFrame("update")},{119:119}],125:[function(t,e,n){"use strict";var i=t(119);e.exports=i.requestAnimationFrame("draw")},{119:119}],126:[function(t,e,n){"use strict";var i=t(119);e.exports=i.requestAnimationFrame("external")},{119:119}],127:[function(t,e,n){"use strict";var i=t(119);e.exports=i.requestAnimationFrame("update")},{119:119}],128:[function(t,e,n){"use strict";var i;function r(t){t=t||{},this._reset(),this._willRun=!1,this._totalSubscribeCount=-1,this._requestAnimationFrame=window.requestAnimationFrame,this._cancelAnimationFrame=window.cancelAnimationFrame,this._boundOnAnimationFrame=this._onAnimationFrame.bind(this),this._boundOnExternalAnimationFrame=this._onExternalAnimationFrame.bind(this)}t("@marcom/ac-polyfills/performance/now"),(i=r.prototype).subscribe=function(t,e){return this._totalSubscribeCount++,this._nextFrameSubscribers[t.id]||(e?this._nextFrameSubscribersOrder.unshift(t.id):this._nextFrameSubscribersOrder.push(t.id),this._nextFrameSubscribers[t.id]=t,this._nextFrameSubscriberArrayLength++,this._nextFrameSubscriberCount++,this._run()),this._totalSubscribeCount},i.unsubscribe=function(t){return!!this._nextFrameSubscribers[t.id]&&(this._nextFrameSubscribers[t.id]=null,this._nextFrameSubscriberCount--,0===this._nextFrameSubscriberCount&&this._cancel(),!0)},i.trigger=function(t,e){var n;for(n=0;n<this._subscriberArrayLength;n++)null!==this._subscribers[this._subscribersOrder[n]]&&!1===this._subscribers[this._subscribersOrder[n]]._didDestroy&&this._subscribers[this._subscribersOrder[n]].trigger(t,e)},i.destroy=function(){var t=this._cancel();return this._subscribers=null,this._subscribersOrder=null,this._nextFrameSubscribers=null,this._nextFrameSubscribersOrder=null,this._rafData=null,this._boundOnAnimationFrame=null,this._onExternalAnimationFrame=null,t},i.useExternalAnimationFrame=function(t){if("boolean"==typeof t){var e=this._isUsingExternalAnimationFrame;return t&&this._animationFrame&&(this._cancelAnimationFrame.call(window,this._animationFrame),this._animationFrame=null),!this._willRun||t||this._animationFrame||(this._animationFrame=this._requestAnimationFrame.call(window,this._boundOnAnimationFrame)),this._isUsingExternalAnimationFrame=t,t?this._boundOnExternalAnimationFrame:e||!1}},i._run=function(){if(!this._willRun)return this._willRun=!0,0===this.lastFrameTime&&(this.lastFrameTime=performance.now()),this._animationFrameActive=!0,this._isUsingExternalAnimationFrame||(this._animationFrame=this._requestAnimationFrame.call(window,this._boundOnAnimationFrame)),!0},i._cancel=function(){var t=!1;return this._animationFrameActive&&(this._animationFrame&&(this._cancelAnimationFrame.call(window,this._animationFrame),this._animationFrame=null),this._animationFrameActive=!1,this._willRun=!1,t=!0),this._isRunning||this._reset(),t},i._onSubscribersAnimationFrameStart=function(t){var e;for(e=0;e<this._subscriberArrayLength;e++)null!==this._subscribers[this._subscribersOrder[e]]&&!1===this._subscribers[this._subscribersOrder[e]]._didDestroy&&this._subscribers[this._subscribersOrder[e]]._onAnimationFrameStart(t)},i._onSubscribersAnimationFrameEnd=function(t){var e;for(e=0;e<this._subscriberArrayLength;e++)null!==this._subscribers[this._subscribersOrder[e]]&&!1===this._subscribers[this._subscribersOrder[e]]._didDestroy&&this._subscribers[this._subscribersOrder[e]]._onAnimationFrameEnd(t)},i._onAnimationFrame=function(t){this._subscribers=this._nextFrameSubscribers,this._subscribersOrder=this._nextFrameSubscribersOrder,this._subscriberArrayLength=this._nextFrameSubscriberArrayLength,this._subscriberCount=this._nextFrameSubscriberCount,this._nextFrameSubscribers={},this._nextFrameSubscribersOrder=[],this._nextFrameSubscriberArrayLength=0,this._nextFrameSubscriberCount=0,this._isRunning=!0,this._willRun=!1,this._didRequestNextRAF=!1,this._rafData.delta=t-this.lastFrameTime,this.lastFrameTime=t,this._rafData.fps=0,this._rafData.delta>=1e3&&(this._rafData.delta=0),0!==this._rafData.delta&&(this._rafData.fps=1e3/this._rafData.delta),this._rafData.time=t,this._rafData.naturalFps=this._rafData.fps,this._rafData.timeNow=Date.now(),this._onSubscribersAnimationFrameStart(this._rafData),this.trigger("update",this._rafData),this.trigger("external",this._rafData),this.trigger("draw",this._rafData),this._onSubscribersAnimationFrameEnd(this._rafData),this._willRun||this._reset()},i._onExternalAnimationFrame=function(t){this._isUsingExternalAnimationFrame&&this._onAnimationFrame(t)},i._reset=function(){this._rafData={time:0,delta:0,fps:0,naturalFps:0,timeNow:0},this._subscribers={},this._subscribersOrder=[],this._subscriberArrayLength=0,this._subscriberCount=0,this._nextFrameSubscribers={},this._nextFrameSubscribersOrder=[],this._nextFrameSubscriberArrayLength=0,this._nextFrameSubscriberCount=0,this._didEmitFrameData=!1,this._animationFrame=null,this._animationFrameActive=!1,this._isRunning=!1,this._shouldReset=!1,this.lastFrameTime=0},e.exports=r},{undefined:void 0}],129:[function(t,e,n){"use strict";var i=t(130).SharedInstance,r=t(128);e.exports=i.share("ac-raf-executor:sharedRAFExecutorInstance","2.0.1",r)},{128:128,130:130}],130:[function(t,e,n){"use strict";e.exports={SharedInstance:t(131)}},{131:131}],131:[function(t,e,n){"use strict";var i,r=t(68)(t(81)),s=window,o=s.AC,a=(i={},{get:function(t,e){var n=null;return i[t]&&i[t][e]&&(n=i[t][e]),n},set:function(t,e,n){return i[t]||(i[t]={}),i[t][e]="function"==typeof n?new n:n,i[t][e]},share:function(t,e,n){var i=this.get(t,e);return i||(i=this.set(t,e,n)),i},remove:function(t,e){var n=(0,r.default)(e);if("string"!==n&&"number"!==n)i[t]&&(i[t]=null);else{if(!i[t]||!i[t][e])return;i[t][e]=null}}});o||(o=s.AC={}),o.SharedInstance||(o.SharedInstance=a),e.exports=o.SharedInstance},{68:68,81:81}],132:[function(t,e,n){"use strict";var i=t(68),r=i(t(61)),s=i(t(63)),o=function(){function t(){var e=this,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};(0,r.default)(this,t),this.options=n,"loading"===document.readyState?document.addEventListener("readystatechange",(function(t){"interactive"===document.readyState&&e._init()})):this._init()}return(0,s.default)(t,[{key:"_init",value:function(){if(this._images=Array.from(document.querySelectorAll("*[".concat(t.DATA_ATTRIBUTE,"]"))),this.AnimSystem=this._findAnim(),null===this.AnimSystem)return null;this._addKeyframesToImages()}},{key:"_defineKeyframeOptions",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,n=e.getAttribute(t.DATA_DOWNLOAD_AREA_KEYFRAME)||"{}";return Object.assign({},{start:"t - 200vh",end:"b + 100vh",event:"AnimLazyImage"},JSON.parse(n))}},{key:"_addKeyframesToImages",value:function(){var t=this;this._scrollGroup=this.AnimSystem.getGroupForTarget(document.body),this._images.forEach((function(e){t.AnimSystem.getGroupForTarget(e)&&(t._scrollGroup=t.AnimSystem.getGroupForTarget(e));var n=t._defineKeyframeOptions(e);t._scrollGroup.addKeyframe(e,n).controller.once("AnimLazyImage:enter",(function(){t._imageIsInLoadRange(e)}))}))}},{key:"_cleanUpImageAttributes",value:function(e){var n=!1;try{n=this._scrollGroup.getControllerForTarget(e).getNearestKeyframeForAttribute("AnimLazyImage").isCurrentlyInRange}catch(t){n=!1}n||e.setAttribute(t.DATA_ATTRIBUTE,"")}},{key:"_downloadingImageAttributes",value:function(e){e.removeAttribute(t.DATA_ATTRIBUTE)}},{key:"_imageIsInLoadRange",value:function(t){this._downloadImage(t)}},{key:"_downloadImage",value:function(t){this._downloadingImageAttributes(t)}},{key:"_findAnim",value:function(){var t=Array.from(document.querySelectorAll("[data-anim-group],[data-anim-scroll-group],[data-anim-time-group]"));return t.map((function(t){return t._animInfo?t._animInfo.group:null})).filter((function(t){return null!==t})),t[0]&&t[0]._animInfo?t[0]._animInfo.group.anim:(console.error("AnimLazyImage: AnimSystem not found, please initialize anim before instantiating"),null)}}]),t}();o.DATA_DOWNLOAD_AREA_KEYFRAME="data-download-area-keyframe",o.DATA_ATTRIBUTE="data-anim-lazy-image",e.exports=o},{61:61,63:63,68:68}],133:[function(t,e,n){arguments[4][55][0].apply(n,arguments)},{134:134,55:55}],134:[function(t,e,n){arguments[4][56][0].apply(n,arguments)},{56:56}],135:[function(t,e,n){"use strict";e.exports={majorVersionNumber:"3.x"}},{}],136:[function(t,e,n){"use strict";var i,r=t(133).EventEmitterMicro,s=t(145),o=t(144);function a(t){t=t||{},r.call(this),this.id=o.getNewID(),this.executor=t.executor||s,this._reset(),this._willRun=!1,this._didDestroy=!1}(i=a.prototype=Object.create(r.prototype)).run=function(){return this._willRun||(this._willRun=!0),this._subscribe()},i.cancel=function(){this._unsubscribe(),this._willRun&&(this._willRun=!1),this._reset()},i.destroy=function(){var t=this.willRun();return this.cancel(),this.executor=null,r.prototype.destroy.call(this),this._didDestroy=!0,t},i.willRun=function(){return this._willRun},i.isRunning=function(){return this._isRunning},i._subscribe=function(){return this.executor.subscribe(this)},i._unsubscribe=function(){return this.executor.unsubscribe(this)},i._onAnimationFrameStart=function(t){this._isRunning=!0,this._willRun=!1,this._didEmitFrameData||(this._didEmitFrameData=!0,this.trigger("start",t))},i._onAnimationFrameEnd=function(t){this._willRun||(this.trigger("stop",t),this._reset())},i._reset=function(){this._didEmitFrameData=!1,this._isRunning=!1},e.exports=a},{133:133,144:144,145:145}],137:[function(t,e,n){"use strict";var i,r=t(134);function s(t){t=t||{},this._reset(),this.updatePhases(),this.eventEmitter=new r,this._willRun=!1,this._totalSubscribeCount=-1,this._requestAnimationFrame=window.requestAnimationFrame,this._cancelAnimationFrame=window.cancelAnimationFrame,this._boundOnAnimationFrame=this._onAnimationFrame.bind(this),this._boundOnExternalAnimationFrame=this._onExternalAnimationFrame.bind(this)}(i=s.prototype).frameRequestedPhase="requested",i.startPhase="start",i.runPhases=["update","external","draw"],i.endPhase="end",i.disabledPhase="disabled",i.beforePhaseEventPrefix="before:",i.afterPhaseEventPrefix="after:",i.subscribe=function(t,e){return this._totalSubscribeCount++,this._nextFrameSubscribers[t.id]||(e?this._nextFrameSubscribersOrder.unshift(t.id):this._nextFrameSubscribersOrder.push(t.id),this._nextFrameSubscribers[t.id]=t,this._nextFrameSubscriberArrayLength++,this._nextFrameSubscriberCount++,this._run()),this._totalSubscribeCount},i.subscribeImmediate=function(t,e){return this._totalSubscribeCount++,this._subscribers[t.id]||(e?this._subscribersOrder.splice(this._currentSubscriberIndex+1,0,t.id):this._subscribersOrder.unshift(t.id),this._subscribers[t.id]=t,this._subscriberArrayLength++,this._subscriberCount++),this._totalSubscribeCount},i.unsubscribe=function(t){return!!this._nextFrameSubscribers[t.id]&&(this._nextFrameSubscribers[t.id]=null,this._nextFrameSubscriberCount--,0===this._nextFrameSubscriberCount&&this._cancel(),!0)},i.getSubscribeID=function(){return this._totalSubscribeCount+=1},i.destroy=function(){var t=this._cancel();return this.eventEmitter.destroy(),this.eventEmitter=null,this.phases=null,this._subscribers=null,this._subscribersOrder=null,this._nextFrameSubscribers=null,this._nextFrameSubscribersOrder=null,this._rafData=null,this._boundOnAnimationFrame=null,this._onExternalAnimationFrame=null,t},i.useExternalAnimationFrame=function(t){if("boolean"==typeof t){var e=this._isUsingExternalAnimationFrame;return t&&this._animationFrame&&(this._cancelAnimationFrame.call(window,this._animationFrame),this._animationFrame=null),!this._willRun||t||this._animationFrame||(this._animationFrame=this._requestAnimationFrame.call(window,this._boundOnAnimationFrame)),this._isUsingExternalAnimationFrame=t,t?this._boundOnExternalAnimationFrame:e||!1}},i.updatePhases=function(){this.phases||(this.phases=[]),this.phases.length=0,this.phases.push(this.frameRequestedPhase),this.phases.push(this.startPhase),Array.prototype.push.apply(this.phases,this.runPhases),this.phases.push(this.endPhase),this._runPhasesLength=this.runPhases.length,this._phasesLength=this.phases.length},i._run=function(){if(!this._willRun)return this._willRun=!0,0===this.lastFrameTime&&(this.lastFrameTime=performance.now()),this._animationFrameActive=!0,this._isUsingExternalAnimationFrame||(this._animationFrame=this._requestAnimationFrame.call(window,this._boundOnAnimationFrame)),this.phase===this.disabledPhase&&(this.phaseIndex=0,this.phase=this.phases[this.phaseIndex]),!0},i._cancel=function(){var t=!1;return this._animationFrameActive&&(this._animationFrame&&(this._cancelAnimationFrame.call(window,this._animationFrame),this._animationFrame=null),this._animationFrameActive=!1,this._willRun=!1,t=!0),this._isRunning||this._reset(),t},i._onAnimationFrame=function(t){for(this._subscribers=this._nextFrameSubscribers,this._subscribersOrder=this._nextFrameSubscribersOrder,this._subscriberArrayLength=this._nextFrameSubscriberArrayLength,this._subscriberCount=this._nextFrameSubscriberCount,this._nextFrameSubscribers={},this._nextFrameSubscribersOrder=[],this._nextFrameSubscriberArrayLength=0,this._nextFrameSubscriberCount=0,this.phaseIndex=0,this.phase=this.phases[this.phaseIndex],this._isRunning=!0,this._willRun=!1,this._didRequestNextRAF=!1,this._rafData.delta=t-this.lastFrameTime,this.lastFrameTime=t,this._rafData.fps=0,this._rafData.delta>=1e3&&(this._rafData.delta=0),0!==this._rafData.delta&&(this._rafData.fps=1e3/this._rafData.delta),this._rafData.time=t,this._rafData.naturalFps=this._rafData.fps,this._rafData.timeNow=Date.now(),this.phaseIndex++,this.phase=this.phases[this.phaseIndex],this.eventEmitter.trigger(this.beforePhaseEventPrefix+this.phase),this._currentSubscriberIndex=0;this._currentSubscriberIndex<this._subscriberArrayLength;this._currentSubscriberIndex++)null!==this._subscribers[this._subscribersOrder[this._currentSubscriberIndex]]&&!1===this._subscribers[this._subscribersOrder[this._currentSubscriberIndex]]._didDestroy&&this._subscribers[this._subscribersOrder[this._currentSubscriberIndex]]._onAnimationFrameStart(this._rafData);for(this.eventEmitter.trigger(this.afterPhaseEventPrefix+this.phase),this._runPhaseIndex=0;this._runPhaseIndex<this._runPhasesLength;this._runPhaseIndex++){for(this.phaseIndex++,this.phase=this.phases[this.phaseIndex],this.eventEmitter.trigger(this.beforePhaseEventPrefix+this.phase),this._currentSubscriberIndex=0;this._currentSubscriberIndex<this._subscriberArrayLength;this._currentSubscriberIndex++)null!==this._subscribers[this._subscribersOrder[this._currentSubscriberIndex]]&&!1===this._subscribers[this._subscribersOrder[this._currentSubscriberIndex]]._didDestroy&&this._subscribers[this._subscribersOrder[this._currentSubscriberIndex]].trigger(this.phase,this._rafData);this.eventEmitter.trigger(this.afterPhaseEventPrefix+this.phase)}for(this.phaseIndex++,this.phase=this.phases[this.phaseIndex],this.eventEmitter.trigger(this.beforePhaseEventPrefix+this.phase),this._currentSubscriberIndex=0;this._currentSubscriberIndex<this._subscriberArrayLength;this._currentSubscriberIndex++)null!==this._subscribers[this._subscribersOrder[this._currentSubscriberIndex]]&&!1===this._subscribers[this._subscribersOrder[this._currentSubscriberIndex]]._didDestroy&&this._subscribers[this._subscribersOrder[this._currentSubscriberIndex]]._onAnimationFrameEnd(this._rafData);this.eventEmitter.trigger(this.afterPhaseEventPrefix+this.phase),this._willRun?(this.phaseIndex=0,this.phaseIndex=this.phases[this.phaseIndex]):this._reset()},i._onExternalAnimationFrame=function(t){this._isUsingExternalAnimationFrame&&this._onAnimationFrame(t)},i._reset=function(){this._rafData||(this._rafData={}),this._rafData.time=0,this._rafData.delta=0,this._rafData.fps=0,this._rafData.naturalFps=0,this._rafData.timeNow=0,this._subscribers={},this._subscribersOrder=[],this._currentSubscriberIndex=-1,this._subscriberArrayLength=0,this._subscriberCount=0,this._nextFrameSubscribers={},this._nextFrameSubscribersOrder=[],this._nextFrameSubscriberArrayLength=0,this._nextFrameSubscriberCount=0,this._didEmitFrameData=!1,this._animationFrame=null,this._animationFrameActive=!1,this._isRunning=!1,this._shouldReset=!1,this.lastFrameTime=0,this._runPhaseIndex=-1,this.phaseIndex=-1,this.phase=this.disabledPhase},e.exports=s},{134:134}],138:[function(t,e,n){"use strict";var i=t(140),r=function(t){this.phase=t,this.rafEmitter=new i,this._cachePhaseIndex(),this.requestAnimationFrame=this.requestAnimationFrame.bind(this),this.cancelAnimationFrame=this.cancelAnimationFrame.bind(this),this._onBeforeRAFExecutorStart=this._onBeforeRAFExecutorStart.bind(this),this._onBeforeRAFExecutorPhase=this._onBeforeRAFExecutorPhase.bind(this),this._onAfterRAFExecutorPhase=this._onAfterRAFExecutorPhase.bind(this),this.rafEmitter.on(this.phase,this._onRAFExecuted.bind(this)),this.rafEmitter.executor.eventEmitter.on("before:start",this._onBeforeRAFExecutorStart),this.rafEmitter.executor.eventEmitter.on("before:"+this.phase,this._onBeforeRAFExecutorPhase),this.rafEmitter.executor.eventEmitter.on("after:"+this.phase,this._onAfterRAFExecutorPhase),this._frameCallbacks=[],this._currentFrameCallbacks=[],this._nextFrameCallbacks=[],this._phaseActive=!1,this._currentFrameID=-1,this._cancelFrameIdx=-1,this._frameCallbackLength=0,this._currentFrameCallbacksLength=0,this._nextFrameCallbacksLength=0,this._frameCallbackIteration=0},s=r.prototype;s.requestAnimationFrame=function(t,e){return!0===e&&this.rafEmitter.executor.phaseIndex>0&&this.rafEmitter.executor.phaseIndex<=this.phaseIndex?this._phaseActive?(this._currentFrameID=this.rafEmitter.executor.subscribeImmediate(this.rafEmitter,!0),this._frameCallbacks.push(this._currentFrameID,t),this._frameCallbackLength+=2):(this._currentFrameID=this.rafEmitter.executor.subscribeImmediate(this.rafEmitter,!1),this._currentFrameCallbacks.push(this._currentFrameID,t),this._currentFrameCallbacksLength+=2):(this._currentFrameID=this.rafEmitter.run(),this._nextFrameCallbacks.push(this._currentFrameID,t),this._nextFrameCallbacksLength+=2),this._currentFrameID},s.cancelAnimationFrame=function(t){this._cancelFrameIdx=this._nextFrameCallbacks.indexOf(t),this._cancelFrameIdx>-1?this._cancelNextAnimationFrame():(this._cancelFrameIdx=this._currentFrameCallbacks.indexOf(t),this._cancelFrameIdx>-1?this._cancelCurrentAnimationFrame():(this._cancelFrameIdx=this._frameCallbacks.indexOf(t),this._cancelFrameIdx>-1&&this._cancelRunningAnimationFrame()))},s._onRAFExecuted=function(t){for(this._frameCallbackIteration=0;this._frameCallbackIteration<this._frameCallbackLength;this._frameCallbackIteration+=2)this._frameCallbacks[this._frameCallbackIteration+1](t.time,t);this._frameCallbacks.length=0,this._frameCallbackLength=0},s._onBeforeRAFExecutorStart=function(){Array.prototype.push.apply(this._currentFrameCallbacks,this._nextFrameCallbacks.splice(0,this._nextFrameCallbacksLength)),this._currentFrameCallbacksLength=this._nextFrameCallbacksLength,this._nextFrameCallbacks.length=0,this._nextFrameCallbacksLength=0},s._onBeforeRAFExecutorPhase=function(){this._phaseActive=!0,Array.prototype.push.apply(this._frameCallbacks,this._currentFrameCallbacks.splice(0,this._currentFrameCallbacksLength)),this._frameCallbackLength=this._currentFrameCallbacksLength,this._currentFrameCallbacks.length=0,this._currentFrameCallbacksLength=0},s._onAfterRAFExecutorPhase=function(){this._phaseActive=!1},s._cachePhaseIndex=function(){this.phaseIndex=this.rafEmitter.executor.phases.indexOf(this.phase)},s._cancelRunningAnimationFrame=function(){this._frameCallbacks.splice(this._cancelFrameIdx,2),this._frameCallbackLength-=2},s._cancelCurrentAnimationFrame=function(){this._currentFrameCallbacks.splice(this._cancelFrameIdx,2),this._currentFrameCallbacksLength-=2},s._cancelNextAnimationFrame=function(){this._nextFrameCallbacks.splice(this._cancelFrameIdx,2),this._nextFrameCallbacksLength-=2,0===this._nextFrameCallbacksLength&&this.rafEmitter.cancel()},e.exports=r},{140:140}],139:[function(t,e,n){"use strict";var i=t(138),r=function(){this.events={}},s=r.prototype;s.requestAnimationFrame=function(t){return this.events[t]||(this.events[t]=new i(t)),this.events[t].requestAnimationFrame},s.cancelAnimationFrame=function(t){return this.events[t]||(this.events[t]=new i(t)),this.events[t].cancelAnimationFrame},e.exports=new r},{138:138}],140:[function(t,e,n){"use strict";var i=t(136),r=function(t){i.call(this,t)};(r.prototype=Object.create(i.prototype))._subscribe=function(){return this.executor.subscribe(this,!0)},e.exports=r},{136:136}],141:[function(t,e,n){"use strict";var i=t(139);e.exports=i.cancelAnimationFrame("update")},{139:139}],142:[function(t,e,n){"use strict";var i=t(139);e.exports=i.requestAnimationFrame("draw")},{139:139}],143:[function(t,e,n){"use strict";var i=t(139);e.exports=i.requestAnimationFrame("external")},{139:139}],144:[function(t,e,n){"use strict";var i=t(147).SharedInstance,r=t(135).majorVersionNumber,s=function(){this._currentID=0};s.prototype.getNewID=function(){return this._currentID++,"raf:"+this._currentID},e.exports=i.share("@marcom/ac-raf-emitter/sharedRAFEmitterIDGeneratorInstance",r,s)},{135:135,147:147}],145:[function(t,e,n){"use strict";var i=t(147).SharedInstance,r=t(135).majorVersionNumber,s=t(137);e.exports=i.share("@marcom/ac-raf-emitter/sharedRAFExecutorInstance",r,s)},{135:135,137:137,147:147}],146:[function(t,e,n){"use strict";var i=t(139);e.exports=i.requestAnimationFrame("update")},{139:139}],147:[function(t,e,n){arguments[4][130][0].apply(n,arguments)},{130:130,148:148}],148:[function(t,e,n){arguments[4][131][0].apply(n,arguments)},{131:131,68:68,81:81}],149:[function(t,e,n){"use strict";e.exports={version:"3.3.5",major:"3.x",majorMinor:"3.3"}},{}],150:[function(t,e,n){"use strict";var i=t(68),r=i(t(61)),s=i(t(63)),o=i(t(76)),a=i(t(66)),u=i(t(59)),l=i(t(67)),c=t(55).EventEmitterMicro,h=t(157),d=t(152),f=t(153),m=t(155),p=t(172),v=t(173),y=t(174),g=t(149),_={};"undefined"!=typeof window&&(_.update=t(146),_.cancelUpdate=t(141),_.external=t(143),_.draw=t(142));var b=null,E=function(t){function e(){var t;if((0,r.default)(this,e),t=(0,o.default)(this,(0,a.default)(e).call(this)),b)throw"You cannot create multiple AnimSystems. You probably want to create multiple groups instead. You can have unlimited groups on a page";return b=(0,u.default)(t),t.groups=[],t.scrollSystems=[],t.timeSystems=[],t.tweenGroup=null,t._forceUpdateRAFId=-1,t.initialized=!1,t.model=h,t.version=g.version,t._resolveReady=function(){},t.ready=new Promise((function(e){return t._resolveReady=e})),t.onScroll=t.onScroll.bind((0,u.default)(t)),t.onResizedDebounced=t.onResizedDebounced.bind((0,u.default)(t)),t.onResizeImmediate=t.onResizeImmediate.bind((0,u.default)(t)),t}return(0,l.default)(e,t),(0,s.default)(e,[{key:"initialize",value:function(){return this.initialized||"undefined"==typeof window?this.ready:(this.initialized=!0,this.timeSystems=[],this.scrollSystems=[],this.groups=[],this.setupEvents(),this.initializeResizeFilter(),this.initializeModel(),this.createDOMGroups(),this.createDOMKeyframes(),this.tweenGroup=new y(null,this),this.groups.push(this.tweenGroup),this._resolveReady(),this.ready)}},{key:"remove",value:function(){var t=this;return this.initialized?Promise.all(this.groups.map((function(t){return t.remove()}))).then((function(){t.groups=null,t.scrollSystems=null,t.timeSystems=null,window.clearTimeout(h.RESIZE_TIMEOUT),window.removeEventListener("scroll",t.onScroll),window.removeEventListener("resize",t.onResizeImmediate),t._events={},t.initialized=!1,t.ready=new Promise((function(e){return t._resolveReady=e}))})):(this.ready=new Promise((function(e){return t._resolveReady=e})),Promise.resolve())}},{key:"destroy",value:function(){return this.remove()}},{key:"createTimeGroup",value:function(t){var e=new v(t,this);return this.groups.push(e),this.timeSystems.push(e),this.trigger(h.EVENTS.ON_GROUP_CREATED,e),e}},{key:"createScrollGroup",value:function(t){if(!t)throw"AnimSystem scroll based groups must supply an HTMLElement";var e=new p(t,this);return this.groups.push(e),this.scrollSystems.push(e),this.trigger(h.EVENTS.ON_GROUP_CREATED,e),e}},{key:"removeGroup",value:function(t){var e=this;return Promise.all(t.keyframeControllers.map((function(e){return t.removeKeyframeController(e)}))).then((function(){var n=e.groups.indexOf(t);-1!==n&&e.groups.splice(n,1),-1!==(n=e.scrollSystems.indexOf(t))&&e.scrollSystems.splice(n,1),-1!==(n=e.timeSystems.indexOf(t))&&e.timeSystems.splice(n,1),t.destroy()}))}},{key:"createDOMGroups",value:function(){var t=this;document.body.setAttribute("data-anim-scroll-group","body"),document.querySelectorAll("[data-anim-scroll-group]").forEach((function(e){return t.createScrollGroup(e)})),document.querySelectorAll("[data-anim-time-group]").forEach((function(e){return t.createTimeGroup(e)})),this.trigger(h.EVENTS.ON_DOM_GROUPS_CREATED,this.groups)}},{key:"createDOMKeyframes",value:function(){var t=this,e=[];["data-anim-keyframe",d.DATA_ATTRIBUTE,f.DATA_ATTRIBUTE,m.DATA_ATTRIBUTE].forEach((function(t){for(var n=0;n<12;n++)e.push(t+(0===n?"":"-"+(n-1)))}));for(var n=0;n<e.length;n++)for(var i=e[n],r=document.querySelectorAll("["+i+"]"),s=0;s<r.length;s++){var o=r[s],a=JSON.parse(o.getAttribute(i));this.addKeyframe(o,a)}_.update((function(){null!==t.groups&&(t.groups.forEach((function(t){return t.onKeyframesDirty({silent:!0})})),t.groups.forEach((function(t){return t.trigger(h.EVENTS.ON_DOM_KEYFRAMES_CREATED,t)})),t.trigger(h.EVENTS.ON_DOM_KEYFRAMES_CREATED,t),t.groups.forEach((function(t){t.forceUpdate({waitForNextUpdate:!1,silent:!0}),t.reconcile()})),t.onScroll())}),!0)}},{key:"initializeResizeFilter",value:function(){if(!h.cssDimensionsTracker){var t=document.querySelector(".cssDimensionsTracker")||document.createElement("div");t.setAttribute("cssDimensionsTracker","true"),t.style.position="fixed",t.style.top="0",t.style.width="100%",t.style.height="100vh",t.style.pointerEvents="none",t.style.visibility="hidden",t.style.zIndex="-1",document.documentElement.appendChild(t),h.cssDimensionsTracker=t}}},{key:"initializeModel",value:function(){h.pageMetrics.windowHeight=h.cssDimensionsTracker.clientHeight,h.pageMetrics.windowWidth=h.cssDimensionsTracker.clientWidth,h.pageMetrics.scrollY=window.scrollY||window.pageYOffset,h.pageMetrics.scrollX=window.scrollX||window.pageXOffset,h.pageMetrics.breakpoint=h.getBreakpoint();var t=document.documentElement.getBoundingClientRect();h.pageMetrics.documentOffsetX=t.left+h.pageMetrics.scrollX,h.pageMetrics.documentOffsetY=t.top+h.pageMetrics.scrollY}},{key:"setupEvents",value:function(){window.removeEventListener("scroll",this.onScroll),window.addEventListener("scroll",this.onScroll),window.removeEventListener("resize",this.onResizeImmediate),window.addEventListener("resize",this.onResizeImmediate)}},{key:"onScroll",value:function(){h.pageMetrics.scrollY=window.scrollY||window.pageYOffset,h.pageMetrics.scrollX=window.scrollX||window.pageXOffset;for(var t=0,e=this.scrollSystems.length;t<e;t++)this.scrollSystems[t].updateTimeline();this.trigger(h.PageEvents.ON_SCROLL,h.pageMetrics)}},{key:"onResizeImmediate",value:function(){var t=h.cssDimensionsTracker.clientWidth,e=h.cssDimensionsTracker.clientHeight;if(t!==h.pageMetrics.windowWidth||e!==h.pageMetrics.windowHeight){h.pageMetrics.windowWidth=t,h.pageMetrics.windowHeight=e,h.pageMetrics.scrollY=window.scrollY||window.pageYOffset,h.pageMetrics.scrollX=window.scrollX||window.pageXOffset;var n=document.documentElement.getBoundingClientRect();h.pageMetrics.documentOffsetX=n.left+h.pageMetrics.scrollX,h.pageMetrics.documentOffsetY=n.top+h.pageMetrics.scrollY,window.clearTimeout(h.RESIZE_TIMEOUT),h.RESIZE_TIMEOUT=window.setTimeout(this.onResizedDebounced,250),this.trigger(h.PageEvents.ON_RESIZE_IMMEDIATE,h.pageMetrics)}}},{key:"onResizedDebounced",value:function(){var t=this;_.update((function(){var e=h.pageMetrics.breakpoint,n=h.getBreakpoint();if(n!==e){h.pageMetrics.previousBreakpoint=e,h.pageMetrics.breakpoint=n;for(var i=0,r=t.groups.length;i<r;i++)t.groups[i]._onBreakpointChange();t.trigger(h.PageEvents.ON_BREAKPOINT_CHANGE,h.pageMetrics)}for(var s=0,o=t.groups.length;s<o;s++)t.groups[s].forceUpdate({waitForNextUpdate:!1});t.trigger(h.PageEvents.ON_RESIZE_DEBOUNCED,h.pageMetrics)}),!0)}},{key:"forceUpdate",value:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=e.waitForNextUpdate,i=void 0===n||n,r=e.silent,s=void 0!==r&&r;-1!==this._forceUpdateRAFId&&_.cancelUpdate(this._forceUpdateRAFId);var o=function(){for(var e=0,n=t.groups.length;e<n;e++){t.groups[e].forceUpdate({waitForNextUpdate:!1,silent:s})}return-1};this._forceUpdateRAFId=i?_.update(o,!0):o()}},{key:"addKeyframe",value:function(t,e){var n=this.getGroupForTarget(t);return(n=n||this.getGroupForTarget(document.body)).addKeyframe(t,e)}},{key:"addEvent",value:function(t,e){var n=this.getGroupForTarget(t);return(n=n||this.getGroupForTarget(document.body)).addEvent(t,e)}},{key:"getTimeGroupForTarget",value:function(t){return this._getGroupForTarget(t,(function(t){return t instanceof v}))}},{key:"getScrollGroupForTarget",value:function(t){return this._getGroupForTarget(t,(function(t){return!(t instanceof v)}))}},{key:"getGroupForTarget",value:function(t){return this._getGroupForTarget(t,(function(){return!0}))}},{key:"_getGroupForTarget",value:function(t,e){if(t._animInfo&&t._animInfo.group&&e(t._animInfo.group))return t._animInfo.group;for(var n=t;n;){if(n._animInfo&&n._animInfo.isGroup&&e(n._animInfo.group))return n._animInfo.group;n=n.parentElement}}},{key:"getControllerForTarget",value:function(t){return t._animInfo&&t._animInfo.controller?t._animInfo.controller:null}},{key:"addTween",value:function(t,e){return this.tweenGroup.addKeyframe(t,e)}}]),e}(c);e.exports="undefined"==typeof window?new E:window.AC.SharedInstance.share("AnimSystem",g.major,E),e.exports.default=e.exports},{141:141,142:142,143:143,146:146,149:149,152:152,153:153,155:155,157:157,172:172,173:173,174:174,55:55,59:59,61:61,63:63,66:66,67:67,68:68,76:76}],151:[function(t,e,n){"use strict";var i=t(68),r=i(t(61)),s=i(t(63)),o=t(157),a=function(){function t(e,n){(0,r.default)(this,t),this._index=0,this.keyframe=e,n&&(this.name=n)}return(0,s.default)(t,[{key:"start",get:function(){return this.keyframe.jsonProps.start}},{key:"index",set:function(t){this._index=t},get:function(){return this._index}}]),t}(),u=function(){function t(e){(0,r.default)(this,t),this.timeGroup=e,this.chapters=[],this.chapterNames={},this.currentChapter=null,this.clip=null}return(0,s.default)(t,[{key:"addChapter",value:function(t){var e=t.position,n=t.name;if(void 0===e)throw ReferenceError("Cannot add chapter without target position.");t._impIsFirst||0!==this.chapters.length||this.addChapter({position:0,_impIsFirst:!0});var i=this.timeGroup.addKeyframe(this,{start:e,end:e,event:"Chapter"});this.timeGroup.forceUpdate({waitForNextFrame:!1,silent:!0});var r=new a(i,n);if(this.chapters.push(r),n){if(this.chapterNames.hasOwnProperty(n))throw ReferenceError('Duplicate chapter name assigned - "'.concat(n,'" is already in use'));this.chapterNames[n]=r}return this.chapters.sort((function(t,e){return t.start-e.start})).forEach((function(t,e){return t.index=e})),this.currentChapter=this.currentChapter||this.chapters[0],r}},{key:"playToChapter",value:function(t){var e,n=this;if(t.hasOwnProperty("index"))e=this.chapters[t.index];else{if(!t.hasOwnProperty("name"))throw ReferenceError("Cannot play to chapter without target index or name");e=this.chapterNames[t.name]}if(e&&(this.currentChapter!==e||!0===t.force)){var i=t.ease||"easeInOutCubic";this.clip&&(this.clip.destroy(),i="easeOutQuint"),this.timeGroup.timeScale(t.timeScale||1);var r=void 0!==t.duration?t.duration:this.getDurationToChapter(e),s=this.timeGroup.time(),a=e.start,u=!1;this.tween=this.timeGroup.anim.addTween({time:s},{easeFunction:i,duration:r,time:[s,a],onStart:function(){return n.timeGroup.trigger(o.EVENTS.ON_CHAPTER_INITIATED,{player:n,next:e})},onDraw:function(t){var i=t.tweenProps.time.current;n.timeGroup.time(i),t.keyframe.curvedT>.5&&!u&&(u=!0,n.currentIndex=e.index,n.currentChapter=e,n.timeGroup.trigger(o.EVENTS.ON_CHAPTER_OCCURRED,{player:n,current:e}))},onComplete:function(){n.timeGroup.trigger(o.EVENTS.ON_CHAPTER_COMPLETED,{player:n,current:e}),n.timeGroup.paused(!0),n.clip=null}})}}},{key:"getDurationToChapter",value:function(t){var e=this.chapters[t.index-1]||this.chapters[t.index+1];return Math.abs(e.start-t.start)}}]),t}();e.exports=u},{157:157,61:61,63:63,68:68}],152:[function(t,e,n){"use strict";var i=t(68),r=i(t(61)),s=i(t(63)),o=t(157),a=t(165),u=t(194),l=t(159),c=t(168),h=t(164),d=t(175),f=t(176),m=t(167),p=function(){function t(e,n){(0,r.default)(this,t),this.controller=e,this.anchors=[],this.jsonProps=n,this.ease=e.group.defaultEase,this.easeFunction=l.linear,this.start=0,this.end=0,this.localT=0,this.curvedT=0,this.id=0,this.event="",this.needsEventDispatch=!1,this.snapAtCreation=!1,this.isEnabled=!1,this.animValues={},this.breakpointMask="SMLX",this.disabledWhen=[],this.keyframeType=o.KeyframeTypes.Interpolation,this.hold=!1,this.preserveState=!1,this.markedForRemoval=!1;var i=!1;Object.defineProperty(this,"hidden",{get:function(){return i},set:function(t){i=t,e.group.keyframesDirty=!0}}),this.uuid=m(),this.destroyed=!1}return(0,s.default)(t,[{key:"destroy",value:function(){this.destroyed=!0,this.controller=null,this.disabledWhen=null,this.anchors=null,this.jsonProps=null,this.easeFunction=null,this.animValues=null}},{key:"remove",value:function(){return this.controller.removeKeyframe(this)}},{key:"parseOptions",value:function(t){var e=this;for(var n in this.jsonProps=t,t.relativeTo&&console.error("KeyframeError: relativeTo has been removed. Use 'anchors' property instead. Found 'relativeTo':\"".concat(t.relativeTo,'"')),void 0===t.end&&void 0===t.duration&&(t.end=t.start),""!==t.anchors&&t.anchors?(this.anchors=[],t.anchors=Array.isArray(t.anchors)?t.anchors:[t.anchors],t.anchors.forEach((function(n,i){var r=f(n,e.controller.group.element);if(!r){var s="";return"string"==typeof n&&(s=" Provided value was a string, so a failed attempt was made to find anchor with the provided querystring in group.element, or in the document."),void console.warn("Keyframe on",e.controller.element," failed to find anchor at index ".concat(i," in array"),t.anchors,". Anchors must be JS Object references, Elements references, or valid query selector strings. ".concat(s))}e.anchors.push(r),e.controller.group.metrics.add(r)}))):(this.anchors=[],t.anchors=[]),t.ease?this.ease=parseFloat(t.ease):t.ease=this.ease,t.hasOwnProperty("snapAtCreation")?this.snapAtCreation=t.snapAtCreation:t.snapAtCreation=this.snapAtCreation,t.easeFunction||(t.easeFunction=o.KeyframeDefaults.easeFunctionString),t.breakpointMask?this.breakpointMask=t.breakpointMask:t.breakpointMask=this.breakpointMask,t.disabledWhen?this.disabledWhen=Array.isArray(t.disabledWhen)?t.disabledWhen:[t.disabledWhen]:t.disabledWhen=this.disabledWhen,t.hasOwnProperty("hold")?this.hold=t.hold:t.hold=this.hold,t.hasOwnProperty("preserveState")?this.preserveState=t.preserveState:t.preserveState=o.KeyframeDefaults.preserveState,this.easeFunction=l[t.easeFunction],l.hasOwnProperty(t.easeFunction)||(t.easeFunction.includes("bezier")?this.easeFunction=c.fromCSSString(t.easeFunction):t.easeFunction.includes("spring")?this.easeFunction=h.fromCSSString(t.easeFunction):console.error("Keyframe parseOptions cannot find 'easeFunction' named '"+t.easeFunction+"'")),t)if(-1===o.KeyframeJSONReservedWords.indexOf(n)){var i=t[n];if(Array.isArray(i)){if(1===i.length&&(i[0]=null,i[1]=i[0]),this.animValues[n]=this.controller.group.expressionParser.parseArray(this,i),void 0===this.controller.tweenProps[n]||!this.controller._ownerIsElement){var r=0;this.controller._ownerIsElement||(r=this.controller.element[n]||0);var s=new a(r,o.KeyframeDefaults.epsilon,this.snapAtCreation);this.controller.tweenProps[n]=s}var u=this.controller.tweenProps[n];if(t.epsilon)u.epsilon=t.epsilon;else{var d=Math.abs(this.animValues[n][0]-this.animValues[n][1]),m=Math.min(.001*d,u.epsilon,o.KeyframeDefaults.epsilon);u.epsilon=Math.max(m,1e-4)}}}this.keyframeType=this.hold?o.KeyframeTypes.InterpolationForward:o.KeyframeTypes.Interpolation,t.event&&(this.event=t.event)}},{key:"overwriteProps",value:function(t){this.animValues={};var e=Object.assign({},this.jsonProps,t);this.controller.updateKeyframe(this,e)}},{key:"updateLocalProgress",value:function(t){if(this.start===this.end||t<this.start||t>this.end)return this.localT=t<this.start?this.hold?this.localT:0:t>this.end?1:0,void(this.curvedT=this.easeFunction(this.localT));var e=(t-this.start)/(this.end-this.start),n=this.hold?this.localT:0;this.localT=u.clamp(e,n,1),this.curvedT=this.easeFunction(this.localT)}},{key:"reconcile",value:function(t){var e=this.animValues[t],n=this.controller.tweenProps[t];n.initialValue=e[0],n.target=e[0]+this.curvedT*(e[1]-e[0]),n.current!==n.target&&(n.current=n.target,this.needsEventDispatch||(this.needsEventDispatch=!0,this.controller.keyframesRequiringDispatch.push(this)))}},{key:"reset",value:function(t){this.localT=t||0;var e=this.ease;for(var n in this.ease=1,this.animValues)this.reconcile(n);this.ease=e}},{key:"onDOMRead",value:function(t){var e=this.animValues[t],n=this.controller.tweenProps[t];n.target=e[0]+this.curvedT*(e[1]-e[0]);var i=n.current;n.current+=(n.target-n.current)*this.ease;var r=n.current-n.target;r<n.epsilon&&r>-n.epsilon&&(n.current=n.target,r=0),""===this.event||this.needsEventDispatch||(r>n.epsilon||r<-n.epsilon||0===r&&i!==n.current)&&(this.needsEventDispatch=!0,this.controller.keyframesRequiringDispatch.push(this))}},{key:"isInRange",value:function(t){return t>=this.start&&t<=this.end}},{key:"setEnabled",value:function(t){t=t||d(Array.from(document.documentElement.classList));var e=-1!==this.breakpointMask.indexOf(o.pageMetrics.breakpoint),n=!1;return this.disabledWhen.length>0&&(n=this.disabledWhen.some((function(e){return void 0!==t[e]}))),this.isEnabled=e&&!n,this.isEnabled}},{key:"evaluateConstraints",value:function(){this.start=this.controller.group.expressionParser.parseTimeValue(this,this.jsonProps.start),this.end=this.controller.group.expressionParser.parseTimeValue(this,this.jsonProps.end),this.evaluateInterpolationConstraints()}},{key:"evaluateInterpolationConstraints",value:function(){for(var t in this.animValues){var e=this.jsonProps[t];this.animValues[t]=this.controller.group.expressionParser.parseArray(this,e)}}}]),t}();p.DATA_ATTRIBUTE="data-anim-tween",e.exports=p},{157:157,159:159,164:164,165:165,167:167,168:168,175:175,176:176,194:194,61:61,63:63,68:68}],153:[function(t,e,n){"use strict";var i=t(68),r=i(t(81)),s=i(t(61)),o=i(t(63)),a=i(t(76)),u=i(t(66)),l=i(t(67)),c=t(152),h=t(157),d=t(165),f=function(t){function e(t,n){var i;return(0,s.default)(this,e),(i=(0,a.default)(this,(0,u.default)(e).call(this,t,n))).keyframeType=h.KeyframeTypes.CSSClass,i._triggerType=e.TRIGGER_TYPE_CSS_CLASS,i.cssClass="",i.friendlyName="",i.style={on:null,off:null},i.toggle=!1,i.isApplied=!1,i}return(0,l.default)(e,t),(0,o.default)(e,[{key:"parseOptions",value:function(t){if(!this.controller._ownerIsElement)throw new TypeError("CSS Keyframes cannot be applied to JS Objects");if(t.x=void 0,t.y=void 0,t.z=void 0,t.scale=void 0,t.scaleX=void 0,t.scaleY=void 0,t.rotationX=void 0,t.rotationY=void 0,t.rotationZ=void 0,t.rotation=void 0,t.opacity=void 0,t.hold=void 0,void 0!==t.toggle&&(this.toggle=t.toggle),void 0!==t.cssClass)this._triggerType=e.TRIGGER_TYPE_CSS_CLASS,this.cssClass=t.cssClass,this.friendlyName="."+this.cssClass,void 0===this.controller.tweenProps.targetClasses&&(this.controller.tweenProps.targetClasses={add:[],remove:[]});else{if(void 0===t.style||!this.isValidStyleProperty(t.style))throw new TypeError("KeyframeCSSClass no 'cssClass` property found. If using `style` property its also missing or invalid");if(this._triggerType=e.TRIGGER_TYPE_STYLE_PROPERTY,this.style=t.style,this.friendlyName="style",this.toggle=void 0!==this.style.off||this.toggle,this.toggle&&void 0===this.style.off)for(var n in this.style.off={},this.style.on)this.style.off[n]="";void 0===this.controller.tweenProps.targetStyles&&(this.controller.tweenProps.targetStyles={})}if(void 0===t.end&&(t.end=t.start),t.toggle=this.toggle,this._triggerType===e.TRIGGER_TYPE_CSS_CLASS)this.isApplied=this.controller.element.classList.contains(this.cssClass);else{var i=getComputedStyle(this.controller.element);for(var r in this.isApplied=!0,this.style.on)if(i[r]!==this.style.on[r]){this.isApplied=!1;break}}c.prototype.parseOptions.call(this,t),this.animValues[this.friendlyName]=[0,0],void 0===this.controller.tweenProps[this.friendlyName]&&(this.controller.tweenProps[this.friendlyName]=new d(0,1,!1)),this.keyframeType=h.KeyframeTypes.CSSClass}},{key:"updateLocalProgress",value:function(t){this.isApplied&&!this.toggle||(this.start!==this.end?!this.isApplied&&t>=this.start&&t<=this.end?this._apply():this.isApplied&&this.toggle&&(t<this.start||t>this.end)&&this._unapply():!this.isApplied&&t>=this.start?this._apply():this.isApplied&&this.toggle&&t<this.start&&this._unapply())}},{key:"_apply",value:function(){if(this._triggerType===e.TRIGGER_TYPE_CSS_CLASS)this.controller.tweenProps.targetClasses.add.push(this.cssClass),this.controller.needsClassUpdate=!0;else{for(var t in this.style.on)this.controller.tweenProps.targetStyles[t]=this.style.on[t];this.controller.needsStyleUpdate=!0}this.isApplied=!0}},{key:"_unapply",value:function(){if(this._triggerType===e.TRIGGER_TYPE_CSS_CLASS)this.controller.tweenProps.targetClasses.remove.push(this.cssClass),this.controller.needsClassUpdate=!0;else{for(var t in this.style.off)this.controller.tweenProps.targetStyles[t]=this.style.off[t];this.controller.needsStyleUpdate=!0}this.isApplied=!1}},{key:"isValidStyleProperty",value:function(t){if(!t.hasOwnProperty("on"))return!1;if("object"!==(0,r.default)(t.on))throw new TypeError("KeyframeCSSClass `style` property should be in the form of: {on:{visibility:'hidden', otherProperty: 'value'}}");if(this.toggle&&t.hasOwnProperty("off")&&"object"!==(0,r.default)(t.off))throw new TypeError("KeyframeCSSClass `style` property should be in the form of: {on:{visibility:'hidden', otherProperty: 'value'}}");return!0}},{key:"reconcile",value:function(t){}},{key:"onDOMRead",value:function(t){}},{key:"evaluateInterpolationConstraints",value:function(){}}]),e}(c);f.TRIGGER_TYPE_CSS_CLASS=0,f.TRIGGER_TYPE_STYLE_PROPERTY=1,f.DATA_ATTRIBUTE="data-anim-classname",e.exports=f},{152:152,157:157,165:165,61:61,63:63,66:66,67:67,68:68,76:76,81:81}],154:[function(t,e,n){"use strict";var i=t(68),r=i(t(61)),s=i(t(63)),o=i(t(76)),a=i(t(59)),u=i(t(66)),l=i(t(65)),c=i(t(67)),h=t(157),d=t(165),f=t(158),m=t(161),p=t(156),v=(t(152),t(153)),y=t(162),g=t(175),_=t(167),b=t(55).EventEmitterMicro,E=t(191),w={};"undefined"!=typeof window&&(w.update=t(146),w.external=t(143),w.draw=t(142));var x=Math.PI/180,k=["x","y","z","scale","scaleX","scaleY","rotation","rotationX","rotationY","rotationZ"],A=["borderRadius","bottom","fontSize","fontWeight","height","left","lineHeight","marginBottom","marginLeft","marginRight","marginTop","maxHeight","maxWidth","opacity","paddingBottom","paddingLeft","paddingRight","paddingTop","right","top","width","zIndex","strokeDashoffset"],S=["currentTime","scrollLeft","scrollTop"],O={create:t(210),rotateX:t(211),rotateY:t(212),rotateZ:t(213),scale:t(214)},T=function(t){function e(t,n){var i;return(0,r.default)(this,e),(i=(0,o.default)(this,(0,u.default)(e).call(this)))._events.draw=[],i.uuid=_(),i.group=t,i.element=n,i._ownerIsElement=i.element instanceof Element,i._ownerIsElement?i.friendlyName=i.element.tagName+"."+Array.from(i.element.classList).join("."):i.friendlyName=i.element.friendlyName||i.uuid,i.element._animInfo=i.element._animInfo||new p(t,(0,a.default)(i)),i.element._animInfo.controller=(0,a.default)(i),i.element._animInfo.group=i.group,i.element._animInfo.controllers.push((0,a.default)(i)),i.tweenProps=i.element._animInfo.tweenProps,i.eventObject=new m((0,a.default)(i)),i.needsStyleUpdate=!1,i.needsClassUpdate=!1,i.elementMetrics=i.group.metrics.add(i.element),i.attributes=[],i.cssAttributes=[],i.domAttributes=[],i.keyframes={},i._allKeyframes=[],i._activeKeyframes=[],i.keyframesRequiringDispatch=[],i.updateCachedValuesFromElement(),i.boundsMin=0,i.boundsMax=0,i.mat2d=new Float32Array(6),i.mat4=O.create(),i.needsWrite=!0,i.onDOMWriteImp=i._ownerIsElement?i.onDOMWriteForElement:i.onDOMWriteForObject,i}return(0,c.default)(e,t),(0,s.default)(e,[{key:"destroy",value:function(){if(this.element._animInfo){this.element._animInfo.controller===this&&(this.element._animInfo.controller=null);var t=this.element._animInfo.controllers.indexOf(this);if(-1!==t&&this.element._animInfo.controllers.splice(t,1),0===this.element._animInfo.controllers.length)this.element._animInfo=null;else{var n=this.element._animInfo.controllers.find((function(t){return t.group!==t.group.anim.tweenGroup}));n&&(this.element._animInfo.controller=n,this.element._animInfo.group=n.group)}}this.eventObject.controller=null,this.eventObject.element=null,this.eventObject.keyframe=null,this.eventObject.tweenProps=null,this.eventObject=null,this.elementMetrics=null,this.group=null,this.keyframesRequiringDispatch=null;for(var i=0;i<this._allKeyframes.length;i++)this._allKeyframes[i].destroy();this._allKeyframes=null,this._activeKeyframes=null,this.attributes=null,this.keyframes=null,this.element=null,this.tweenProps=null,this.destroyed=!0,(0,l.default)((0,u.default)(e.prototype),"destroy",this).call(this)}},{key:"remove",value:function(){return this.group.removeKeyframeController(this)}},{key:"updateCachedValuesFromElement",value:function(){var t=this;if(this._ownerIsElement){var e=getComputedStyle(this.element),n=new DOMMatrix(e.getPropertyValue("transform")),i=E(n),r=h.KeyframeDefaults.epsilon;["x","y","z"].forEach((function(e,n){t.tweenProps[e]=new d(i.translation[n],r,!1)})),this.tweenProps.rotation=new d(i.rotation[2],r,!1),["rotationX","rotationY","rotationZ"].forEach((function(e,n){t.tweenProps[e]=new d(i.rotation[n],r,!1)})),this.tweenProps.scale=new d(i.scale[0],r,!1),["scaleX","scaleY","scaleZ"].forEach((function(e,n){t.tweenProps[e]=new d(i.scale[n],r,!1)})),A.forEach((function(n){var i=["zIndex"].includes(n),s=["opacity","zIndex","fontWeight"].includes(n)?void 0:"px",o=parseFloat(e[n]);isNaN(o)&&(o=0),t.tweenProps[n]=new f(o,r,!1,n,i,s)})),S.forEach((function(e){var n=isNaN(t.element[e])?0:t.element[e];t.tweenProps[e]=new f(n,r,!1,e,!1)}))}}},{key:"addKeyframe",value:function(t){var e=y(t);if(!e)throw new Error("AnimSystem Cannot create keyframe for from options `"+t+"`");var n=new e(this,t);return n.parseOptions(t),n.id=this._allKeyframes.length,this._allKeyframes.push(n),n}},{key:"needsUpdate",value:function(){for(var t=0,e=this.attributes.length;t<e;t++){var n=this.attributes[t],i=this.tweenProps[n];if(Math.abs(i.current-i.target)>i.epsilon)return!0}return!1}},{key:"updateLocalProgress",value:function(t){for(var e=0,n=this.attributes.length;e<n;e++){var i=this.attributes[e],r=this.keyframes[this.attributes[e]];if(1!==r.length){var s=this.getNearestKeyframeForAttribute(i,t);s&&s.updateLocalProgress(t)}else r[0].updateLocalProgress(t)}}},{key:"reconcile",value:function(){for(var t=0,e=this.attributes.length;t<e;t++){var n=this.attributes[t],i=this.getNearestKeyframeForAttribute(n,this.group.position.local);i.updateLocalProgress(this.group.position.local),i.snapAtCreation&&i.reconcile(n)}}},{key:"determineActiveKeyframes",value:function(t){var e=this;t=t||g(Array.from(document.documentElement.classList));var n=this._activeKeyframes,i=this.attributes,r={};this._activeKeyframes=[],this.attributes=[],this.keyframes={};for(var s=0;s<this._allKeyframes.length;s++){var o=this._allKeyframes[s];if(o.markedForRemoval||o.hidden||!o.setEnabled(t))for(var a in o.animValues)this.tweenProps[a].isActive=o.preserveState,o.preserveState&&(r[a]=!0);else for(var u in this._activeKeyframes.push(o),o.animValues)this.keyframes[u]=this.keyframes[u]||[],this.keyframes[u].push(o),-1===this.attributes.indexOf(u)&&(r[u]=!0,this.attributes.push(u),this.tweenProps[u].isActive=!0)}this.attributes.forEach((function(t){return e.tweenProps[t].isActive=!0})),this.cssAttributes=A.filter((function(t){return e.attributes.includes(t)})).map((function(t){return e.tweenProps[t]})),this.domAttributes=S.filter((function(t){return e.attributes.includes(t)})).map((function(t){return e.tweenProps[t]}));var l=n.filter((function(t){return-1===e._activeKeyframes.indexOf(t)}));if(0!==l.length){var c=i.filter((function(t){return-1===e.attributes.indexOf(t)&&!r.hasOwnProperty(t)}));if(0!==c.length)if(this.needsWrite=!0,this._ownerIsElement)w.external((function(){var t=c.some((function(t){return k.includes(t)})),n=t&&Object.keys(r).some((function(t){return k.includes(t)}));t&&!n&&e.element.style.removeProperty("transform");for(var i=0,s=c.length;i<s;++i){var o=c[i],a=e.tweenProps[o],u=a.isActive?a.target:a.initialValue;a.current=a.target=u,!a.isActive&&A.includes(o)&&(e.element.style[o]=null)}for(var h=0,d=l.length;h<d;++h){var f=l[h];f instanceof v&&!f.preserveState&&f._unapply()}}),!0);else for(var h=0,d=c.length;h<d;++h){var f=this.tweenProps[c[h]];f.current=f.target,f.isActive=!1}}}},{key:"onDOMRead",value:function(t){for(var e=0,n=this.attributes.length;e<n;e++){var i=this.attributes[e];this.tweenProps[i].previousValue=this.tweenProps[i].current;var r=this.getNearestKeyframeForAttribute(i,t);r&&r.onDOMRead(i),this.tweenProps[i].previousValue!==this.tweenProps[i].current&&(this.needsWrite=!0)}}},{key:"onDOMWrite",value:function(){(this.needsWrite||this.needsClassUpdate||this.needsStyleUpdate)&&(this.needsWrite=!1,this.onDOMWriteImp(),this.handleEventDispatch())}},{key:"onDOMWriteForObject",value:function(){for(var t=0,e=this.attributes.length;t<e;t++){var n=this.attributes[t];this.element[n]=this.tweenProps[n].current}}},{key:"onDOMWriteForElement",value:function(){var t=this.element.style;this.handleStyleTransform();for(var e=0,n=this.cssAttributes.length;e<n;e++)this.cssAttributes[e].set(t);for(var i=0,r=this.domAttributes.length;i<r;i++)this.domAttributes[i].set(this.element);if(this.needsStyleUpdate){for(var s in this.tweenProps.targetStyles)null!==this.tweenProps.targetStyles[s]&&(this.element.style[s]=this.tweenProps.targetStyles[s]),this.tweenProps.targetStyles[s]=null;this.needsStyleUpdate=!1}this.needsClassUpdate&&(this.tweenProps.targetClasses.add.length>0&&this.element.classList.add.apply(this.element.classList,this.tweenProps.targetClasses.add),this.tweenProps.targetClasses.remove.length>0&&this.element.classList.remove.apply(this.element.classList,this.tweenProps.targetClasses.remove),this.tweenProps.targetClasses.add.length=0,this.tweenProps.targetClasses.remove.length=0,this.needsClassUpdate=!1)}},{key:"handleStyleTransform",value:function(){var t=this.tweenProps,e=this.element.style;if(t.z.isActive||t.rotationX.isActive||t.rotationY.isActive){var n=this.mat4;n[0]=1,n[1]=0,n[2]=0,n[3]=0,n[4]=0,n[5]=1,n[6]=0,n[7]=0,n[8]=0,n[9]=0,n[10]=1,n[11]=0,n[12]=0,n[13]=0,n[14]=0,n[15]=1;var i=t.x.current,r=t.y.current,s=t.z.current;if(n[12]=n[0]*i+n[4]*r+n[8]*s+n[12],n[13]=n[1]*i+n[5]*r+n[9]*s+n[13],n[14]=n[2]*i+n[6]*r+n[10]*s+n[14],n[15]=n[3]*i+n[7]*r+n[11]*s+n[15],0!==t.rotation.current||0!==t.rotationZ.current){var o=(t.rotation.current||t.rotationZ.current)*x;O.rotateZ(n,n,o)}if(0!==t.rotationX.current){var a=t.rotationX.current*x;O.rotateX(n,n,a)}if(0!==t.rotationY.current){var u=t.rotationY.current*x;O.rotateY(n,n,u)}1===t.scale.current&&1===t.scaleX.current&&1===t.scaleY.current||O.scale(n,n,[t.scale.current,t.scale.current,1]),e.transform="matrix3d("+n[0]+","+n[1]+","+n[2]+","+n[3]+","+n[4]+","+n[5]+","+n[6]+","+n[7]+","+n[8]+","+n[9]+","+n[10]+","+n[11]+","+n[12]+","+n[13]+","+n[14]+","+n[15]+")"}else if(t.x.isActive||t.y.isActive||t.rotation.isActive||t.rotationZ.isActive||t.scale.isActive||t.scaleX.isActive||t.scaleY.isActive){var l=this.mat2d;l[0]=1,l[1]=0,l[2]=0,l[3]=1,l[4]=0,l[5]=0;var c=t.x.current,h=t.y.current,d=l[0],f=l[1],m=l[2],p=l[3],v=l[4],y=l[5];if(l[0]=d,l[1]=f,l[2]=m,l[3]=p,l[4]=d*c+m*h+v,l[5]=f*c+p*h+y,0!==t.rotation.current||0!==t.rotationZ.current){var g=(t.rotation.current||t.rotationZ.current)*x,_=l[0],b=l[1],E=l[2],w=l[3],k=l[4],A=l[5],S=Math.sin(g),T=Math.cos(g);l[0]=_*T+E*S,l[1]=b*T+w*S,l[2]=_*-S+E*T,l[3]=b*-S+w*T,l[4]=k,l[5]=A}t.scaleX.isActive||t.scaleY.isActive?(l[0]=l[0]*t.scaleX.current,l[1]=l[1]*t.scaleX.current,l[2]=l[2]*t.scaleY.current,l[3]=l[3]*t.scaleY.current):(l[0]=l[0]*t.scale.current,l[1]=l[1]*t.scale.current,l[2]=l[2]*t.scale.current,l[3]=l[3]*t.scale.current),e.transform="matrix("+l[0]+", "+l[1]+", "+l[2]+", "+l[3]+", "+l[4]+", "+l[5]+")"}}},{key:"handleEventDispatch",value:function(){if(0!==this.keyframesRequiringDispatch.length){for(var t=0,e=this.keyframesRequiringDispatch.length;t<e;t++){var n=this.keyframesRequiringDispatch[t];n.needsEventDispatch=!1,this.eventObject.keyframe=n,this.eventObject.pageMetrics=h.pageMetrics,this.eventObject.event=n.event,this.trigger(n.event,this.eventObject)}this.keyframesRequiringDispatch.length=0}if(0!==this._events.draw.length){this.eventObject.keyframe=null,this.eventObject.event="draw";for(var i=this._events.draw.length-1;i>=0;i--)this._events.draw[i](this.eventObject)}}},{key:"updateAnimationConstraints",value:function(){for(var t=this,e=0,n=this._activeKeyframes.length;e<n;e++)this._activeKeyframes[e].evaluateConstraints();this.attributes.forEach((function(e){1!==t.keyframes[e].length&&t.keyframes[e].sort(h.KeyframeComparison)})),this.updateDeferredPropertyValues()}},{key:"refreshMetrics",value:function(){var t=new Set([this.element]);this._allKeyframes.forEach((function(e){return e.anchors.forEach((function(e){return t.add(e)}))})),this.group.metrics.refreshCollection(t),this.group.keyframesDirty=!0}},{key:"updateDeferredPropertyValues",value:function(){for(var t=0,e=this.attributes.length;t<e;t++){var n=this.attributes[t],i=this.keyframes[n];if(!(i[0].keyframeType>h.KeyframeTypes.InterpolationForward))for(var r=0,s=i.length;r<s;r++){var o=i[r];null===o.jsonProps[n][0]&&(0===r?o.jsonProps[n][0]=o.animValues[n][0]=this.tweenProps[n].current:o.animValues[n][0]=i[r-1].animValues[n][1]),null===o.jsonProps[n][1]&&(o.animValues[n][1]=r===s-1?this.tweenProps[n].current:i[r+1].animValues[n][0]),o.snapAtCreation&&(o.jsonProps[n][0]=o.animValues[n][0],o.jsonProps[n][1]=o.animValues[n][1])}}}},{key:"getBounds",value:function(t){this.boundsMin=Number.MAX_VALUE,this.boundsMax=-Number.MAX_VALUE;for(var e=0,n=this.attributes.length;e<n;e++)for(var i=this.keyframes[this.attributes[e]],r=0;r<i.length;r++){var s=i[r];this.boundsMin=Math.min(s.start,this.boundsMin),this.boundsMax=Math.max(s.end,this.boundsMax),t.min=Math.min(s.start,t.min),t.max=Math.max(s.end,t.max)}}},{key:"getNearestKeyframeForAttribute",value:function(t,e){e=void 0!==e?e:this.group.position.local;var n=null,i=Number.POSITIVE_INFINITY,r=this.keyframes[t];if(void 0===r)return null;var s=r.length;if(0===s)return null;if(1===s)return r[0];for(var o=0;o<s;o++){var a=r[o];if(a.isInRange(e)){n=a;break}var u=Math.min(Math.abs(e-a.start),Math.abs(e-a.end));u<i&&(i=u,n=a)}return n}},{key:"getAllKeyframesForAttribute",value:function(t){return this.keyframes[t]}},{key:"updateKeyframe",value:function(t,e){var n=this;t.parseOptions(e),t.evaluateConstraints(),this.group.keyframesDirty=!0,w.update((function(){n.trigger(h.EVENTS.ON_KEYFRAME_UPDATED,t),n.group.trigger(h.EVENTS.ON_KEYFRAME_UPDATED,t)}),!0)}},{key:"removeKeyframe",value:function(t){var e=this;return t.controller!==this?Promise.resolve(null):(t.markedForRemoval=!0,this.group.keyframesDirty=!0,new Promise((function(n){e.group.rafEmitter.executor.eventEmitter.once("before:draw",(function(){n(t),t.destroy();var i=e._allKeyframes.indexOf(t);-1!==i&&e._allKeyframes.splice(i,1)}))})))}},{key:"updateAnimation",value:function(t,e){return this.group.gui&&console.warn("KeyframeController.updateAnimation(keyframe,props) has been deprecated. Please use updateKeyframe(keyframe,props)"),this.updateKeyframe(t,e)}}]),e}(b);e.exports=T},{142:142,143:143,146:146,152:152,153:153,156:156,157:157,158:158,161:161,162:162,165:165,167:167,175:175,191:191,210:210,211:211,212:212,213:213,214:214,55:55,59:59,61:61,63:63,65:65,66:66,67:67,68:68,76:76}],155:[function(t,e,n){"use strict";var i=t(68),r=i(t(61)),s=i(t(63)),o=i(t(76)),a=i(t(66)),u=i(t(65)),l=i(t(67)),c=t(152),h=t(157),d=t(165),f=function(t){function e(t,n){var i;return(0,r.default)(this,e),(i=(0,o.default)(this,(0,a.default)(e).call(this,t,n))).keyframeType=h.KeyframeTypes.Event,i.isApplied=!1,i.hasDuration=!1,i.isCurrentlyInRange=!1,i}return(0,l.default)(e,t),(0,s.default)(e,[{key:"parseOptions",value:function(t){t.x=void 0,t.y=void 0,t.scale=void 0,t.scaleX=void 0,t.scaleY=void 0,t.rotation=void 0,t.style=void 0,t.cssClass=void 0,t.rotation=void 0,t.opacity=void 0,t.hold=void 0,this.event=t.event,this.animValues[this.event]=[0,0],void 0===this.controller.tweenProps[this.event]&&(this.controller.tweenProps[this.event]=new d(0,1,!1)),(0,u.default)((0,a.default)(e.prototype),"parseOptions",this).call(this,t),this.keyframeType=h.KeyframeTypes.Event}},{key:"updateLocalProgress",value:function(t){if(this.hasDuration){var e=this.isCurrentlyInRange,n=t>=this.start&&t<=this.end;if(e===n)return;return this.isCurrentlyInRange=n,void(n&&!e?this._trigger(this.event+":enter"):e&&!n&&this._trigger(this.event+":exit"))}!this.isApplied&&t>=this.start?(this.isApplied=!0,this._trigger(this.event)):this.isApplied&&t<this.start&&(this.isApplied=!1,this._trigger(this.event+":reverse"))}},{key:"_trigger",value:function(t){this.controller.eventObject.event=t,this.controller.eventObject.keyframe=this,this.controller.trigger(t,this.controller.eventObject)}},{key:"evaluateConstraints",value:function(){(0,u.default)((0,a.default)(e.prototype),"evaluateConstraints",this).call(this),this.hasDuration=this.start!==this.end}},{key:"reset",value:function(t){this.isApplied=!1,this.isCurrentlyInRange=!1,(0,u.default)((0,a.default)(e.prototype),"reset",this).call(this,t)}},{key:"onDOMRead",value:function(t){}},{key:"reconcile",value:function(t){}},{key:"evaluateInterpolationConstraints",value:function(){}}]),e}(c);f.DATA_ATTRIBUTE="data-anim-event",e.exports=f},{152:152,157:157,165:165,61:61,63:63,65:65,66:66,67:67,68:68,76:76}],156:[function(t,e,n){"use strict";var i=t(68)(t(61)),r=t(166);e.exports=function t(e,n){var s=arguments.length>2&&void 0!==arguments[2]&&arguments[2];(0,i.default)(this,t),this.isGroup=s,this.group=e,this.controller=n,this.controllers=[],this.tweenProps=new r}},{166:166,61:61,68:68}],157:[function(t,e,n){"use strict";var i={GUI_INSTANCE:null,ANIM_INSTANCE:null,VIEWPORT_EMITTER_ELEMENT:void 0,LOCAL_STORAGE_KEYS:{GuiPosition:"anim-ui.position",GroupCollapsedStates:"anim-ui.group-collapsed-states",scrollY:"anim-ui.scrollY-position",path:"anim-ui.path"},RESIZE_TIMEOUT:-1,BREAKPOINTS:[{name:"S",mediaQuery:"only screen and (max-width: 734px)"},{name:"M",mediaQuery:"only screen and (max-width: 1068px)"},{name:"L",mediaQuery:"only screen and (min-width: 1069px)"}],getBreakpoint:function(){for(var t=0;t<i.BREAKPOINTS.length;t++){var e=i.BREAKPOINTS[t];if(window.matchMedia(e.mediaQuery).matches)return e.name}},KeyframeDefaults:{ease:1,epsilon:.05,preserveState:!1,easeFunctionString:"linear",easeFunction:"linear",hold:!1,snapAtCreation:!1,toggle:!1,breakpointMask:"SMLX",event:"",disabledWhen:[],cssClass:""},KeyframeTypes:{Interpolation:0,InterpolationForward:1,CSSClass:2,Event:3},EVENTS:{ON_DOM_KEYFRAMES_CREATED:"ON_DOM_KEYFRAMES_CREATED",ON_DOM_GROUPS_CREATED:"ON_DOM_GROUPS_CREATED",ON_GROUP_CREATED:"ON_GROUP_CREATED",ON_KEYFRAME_UPDATED:"ON_KEYFRAME_UPDATED",ON_TIMELINE_START:"ON_TIMELINE_START",ON_TIMELINE_UPDATE:"ON_TIMELINE_UPDATE",ON_TIMELINE_COMPLETE:"ON_TIMELINE_COMPLETE",ON_CHAPTER_INITIATED:"ON_CHAPTER_INITIATED",ON_CHAPTER_OCCURRED:"ON_CHAPTER_OCCURRED",ON_CHAPTER_COMPLETED:"ON_CHAPTER_COMPLETED"},PageEvents:{ON_SCROLL:"ON_SCROLL",ON_RESIZE_IMMEDIATE:"ON_RESIZE_IMMEDIATE",ON_RESIZE_DEBOUNCED:"ON_RESIZE_DEBOUNCED",ON_BREAKPOINT_CHANGE:"ON_BREAKPOINT_CHANGE"},KeyframeJSONReservedWords:["event","cssClass","style","anchors","start","end","epsilon","easeFunction","ease","breakpointMask","disabledWhen"],TweenProps:t(166),TargetValue:t(165),CSSTargetValue:t(158),pageMetrics:new function(){this.scrollX=0,this.scrollY=0,this.windowWidth=0,this.windowHeight=0,this.documentOffsetX=0,this.documentOffsetY=0,this.previousBreakpoint="",this.breakpoint=""},KeyframeComparison:function(t,e){return t.start<e.start?-1:t.start>e.start?1:0}};e.exports=i},{158:158,165:165,166:166}],158:[function(t,e,n){"use strict";var i=t(68),r=i(t(61)),s=i(t(63)),o=i(t(76)),a=i(t(66)),u=i(t(67)),l=function(t){function e(t,n,i,s){var u,l=arguments.length>4&&void 0!==arguments[4]&&arguments[4],c=arguments.length>5&&void 0!==arguments[5]?arguments[5]:void 0;return(0,r.default)(this,e),(u=(0,o.default)(this,(0,a.default)(e).call(this,t,n,i))).key=s,u.round=l,u.suffix=c,u}return(0,u.default)(e,t),(0,s.default)(e,[{key:"set",value:function(t){var e=this.current;this.round&&(e=Math.round(e)),this.suffix&&(e+=this.suffix),t[this.key]=e}}]),e}(t(165));e.exports=l},{165:165,61:61,63:63,66:66,67:67,68:68,76:76}],159:[function(t,e,n){"use strict";var i=t(68)(t(61));e.exports=new function t(){(0,i.default)(this,t),this.linear=function(t){return t},this.easeInQuad=function(t){return t*t},this.easeOutQuad=function(t){return t*(2-t)},this.easeInOutQuad=function(t){return t<.5?2*t*t:(4-2*t)*t-1},this.easeInSin=function(t){return 1+Math.sin(Math.PI/2*t-Math.PI/2)},this.easeOutSin=function(t){return Math.sin(Math.PI/2*t)},this.easeInOutSin=function(t){return(1+Math.sin(Math.PI*t-Math.PI/2))/2},this.easeInElastic=function(t){return 0===t?t:(.04-.04/t)*Math.sin(25*t)+1},this.easeOutElastic=function(t){return.04*t/--t*Math.sin(25*t)},this.easeInOutElastic=function(t){return(t-=.5)<0?(.02+.01/t)*Math.sin(50*t):(.02-.01/t)*Math.sin(50*t)+1},this.easeOutBack=function(t){return(t-=1)*t*(2.70158*t+1.70158)+1},this.easeInCubic=function(t){return t*t*t},this.easeOutCubic=function(t){return--t*t*t+1},this.easeInOutCubic=function(t){return t<.5?4*t*t*t:(t-1)*(2*t-2)*(2*t-2)+1},this.easeInQuart=function(t){return t*t*t*t},this.easeOutQuart=function(t){return 1- --t*t*t*t},this.easeInOutQuart=function(t){return t<.5?8*t*t*t*t:1-8*--t*t*t*t},this.easeInQuint=function(t){return t*t*t*t*t},this.easeOutQuint=function(t){return 1+--t*t*t*t*t},this.easeInOutQuint=function(t){return t<.5?16*t*t*t*t*t:1+16*--t*t*t*t*t}}},{61:61,68:68}],160:[function(t,e,n){"use strict";var i=t(68),r=i(t(61)),s=i(t(63)),o=t(157),a=function(t,e){return null==t?e:t},u=function(){function t(){(0,r.default)(this,t),this.clear()}return(0,s.default)(t,[{key:"clear",value:function(){this._metrics=new WeakMap}},{key:"destroy",value:function(){this._metrics=null}},{key:"add",value:function(t){var e=this._metrics.get(t);if(e)return e;var n=new l(t);return this._metrics.set(t,n),this._refreshMetrics(t,n)}},{key:"get",value:function(t){return this._metrics.get(t)}},{key:"refreshCollection",value:function(t){var e=this;t.forEach((function(t){return e._refreshMetrics(t,null)}))}},{key:"refreshMetrics",value:function(t){return this._refreshMetrics(t)}},{key:"_refreshMetrics",value:function(t,e){if(e=e||this._metrics.get(t),!(t instanceof Element))return e.width=a(t.width,0),e.height=a(t.height,0),e.top=a(t.top,a(t.y,0)),e.left=a(t.left,a(t.x,0)),e.right=e.left+e.width,e.bottom=e.top+e.height,e;if(void 0===t.offsetWidth){var n=t.getBoundingClientRect();return e.width=n.width,e.height=n.height,e.top=o.pageMetrics.scrollY+n.top,e.left=o.pageMetrics.scrollX+n.left,e.right=e.left+e.width,e.bottom=e.top+e.height,e}e.width=t.offsetWidth,e.height=t.offsetHeight,e.top=o.pageMetrics.documentOffsetY,e.left=o.pageMetrics.documentOffsetX;for(var i=t;i;)e.top+=i.offsetTop,e.left+=i.offsetLeft,i=i.offsetParent;return e.right=e.left+e.width,e.bottom=e.top+e.height,e}}]),t}(),l=function(){function t(e){(0,r.default)(this,t),this.top=0,this.bottom=0,this.left=0,this.right=0,this.height=0,this.width=0}return(0,s.default)(t,[{key:"toString",value:function(){return"top:".concat(this.top,", bottom:").concat(this.bottom,", left:").concat(this.left,", right:").concat(this.right,", height:").concat(this.height,", width:").concat(this.width)}},{key:"toObject",value:function(){return{top:this.top,bottom:this.bottom,left:this.left,right:this.right,height:this.height,width:this.width}}}]),t}();e.exports=u},{157:157,61:61,63:63,68:68}],161:[function(t,e,n){"use strict";var i=t(68)(t(61));e.exports=function t(e){(0,i.default)(this,t),this.controller=e,this.element=this.controller.element,this.keyframe=null,this.event="",this.tweenProps=this.controller.tweenProps}},{61:61,68:68}],162:[function(t,e,n){"use strict";var i=t(157),r=t(152),s=t(155),o=t(153),a=function(t){for(var e in t){var n=t[e];if(-1===i.KeyframeJSONReservedWords.indexOf(e)&&Array.isArray(n))return!0}return!1};e.exports=function(t){if(void 0!==t.cssClass||void 0!==t.style){if(a(t))throw"CSS Keyframes cannot tween values, please use multiple keyframes instead";return o}if(a(t))return r;if(t.event)return s;throw delete t.anchors,"Could not determine tween type based on ".concat(JSON.stringify(t))}},{152:152,153:153,155:155,157:157}],163:[function(t,e,n){"use strict";var i=t(68)(t(61));e.exports=function t(){(0,i.default)(this,t),this.local=0,this.localUnclamped=0,this.lastPosition=0}},{61:61,68:68}],164:[function(t,e,n){"use strict";var i=t(68),r=i(t(62)),s=i(t(80)),o=i(t(61)),a=i(t(63)),u=t(194).map,l={},c=function(){function t(e,n,i,r){(0,o.default)(this,t),this.mass=e,this.stiffness=n,this.damping=i,this.initialVelocity=r,this.m_w0=Math.sqrt(this.stiffness/this.mass),this.m_zeta=this.damping/(2*Math.sqrt(this.stiffness*this.mass)),this.m_zeta<1?(this.m_wd=this.m_w0*Math.sqrt(1-this.m_zeta*this.m_zeta),this.m_A=1,this.m_B=(this.m_zeta*this.m_w0-this.initialVelocity)/this.m_wd):(this.m_wd=0,this.m_A=1,this.m_B=-this.initialVelocity+this.m_w0)}return(0,a.default)(t,[{key:"solve",value:function(t){return 1-(t=this.m_zeta<1?Math.exp(-t*this.m_zeta*this.m_w0)*(this.m_A*Math.cos(this.m_wd*t)+this.m_B*Math.sin(this.m_wd*t)):(this.m_A+this.m_B*t)*Math.exp(-t*this.m_w0))}}]),t}(),h=/\d*\.?\d+/g;c.fromCSSString=function(t){var e=t.match(h);if(4!==e.length)throw"SpringEasing could not convert ".concat(cssString," to spring params");var n=e.map(Number),i=(0,r.default)(c,(0,s.default)(n)),o=i.solve.bind(i),a=0;var d=function(){if(l[t])return l[t];for(var e,n=0;;){if(1===o(a+=1/6)){if(++n>=16){e=a*(1/6);break}}else n=0}return l[t]=e,l[t]}();return function(t){return 0===t||1===t?t:o(u(t,0,1,0,d))}},e.exports=c},{194:194,61:61,62:62,63:63,68:68,80:80}],165:[function(t,e,n){"use strict";var i=t(68)(t(61));e.exports=function t(e,n,r){(0,i.default)(this,t),this.epsilon=parseFloat(n),this.snapAtCreation=r,this.initialValue=e,this.target=e,this.current=e,this.previousValue=e,this.isActive=!1}},{61:61,68:68}],166:[function(t,e,n){"use strict";var i=t(68)(t(61));e.exports=function t(){(0,i.default)(this,t)}},{61:61,68:68}],167:[function(t,e,n){"use strict";e.exports=function(){return Math.random().toString(16).slice(-4)}},{}],168:[function(t,e,n){"use strict";var i=t(68),r=i(t(61)),s=i(t(63)),o=Math.abs,a=function(){function t(e,n,i,s){(0,r.default)(this,t),this.cp=new Float32Array(6),this.cp[0]=3*e,this.cp[1]=3*(i-e)-this.cp[0],this.cp[2]=1-this.cp[0]-this.cp[1],this.cp[3]=3*n,this.cp[4]=3*(s-n)-this.cp[3],this.cp[5]=1-this.cp[3]-this.cp[4]}return(0,s.default)(t,[{key:"sampleCurveX",value:function(t){return((this.cp[2]*t+this.cp[1])*t+this.cp[0])*t}},{key:"sampleCurveY",value:function(t){return((this.cp[5]*t+this.cp[4])*t+this.cp[3])*t}},{key:"sampleCurveDerivativeX",value:function(t){return(3*this.cp[2]*t+2*this.cp[1])*t+this.cp[0]}},{key:"solveCurveX",value:function(t){var e,n,i,r,s,a;for(i=t,a=0;a<5;a++){if(r=this.sampleCurveX(i)-t,o(r)<1e-5)return i;if(s=this.sampleCurveDerivativeX(i),o(s)<1e-5)break;i-=r/s}if((i=t)<(e=0))return e;if(i>(n=1))return n;for(;e<n;){if(r=this.sampleCurveX(i),o(r-t)<1e-5)return i;t>r?e=i:n=i,i=.5*(n-e)+e}return i}},{key:"solve",value:function(t){return this.sampleCurveY(this.solveCurveX(t))}}]),t}(),u=/\d*\.?\d+/g;a.fromCSSString=function(t){var e=t.match(u);if(4!==e.length)throw"UnitBezier could not convert ".concat(t," to cubic-bezier");var n=e.map(Number),i=new a(n[0],n[1],n[2],n[3]);return i.solve.bind(i)},e.exports=a},{61:61,63:63,68:68}],169:[function(t,e,n){"use strict";var i=t(68)(t(61));e.exports=function t(e,n){(0,i.default)(this,t),this.a=e.top-n,this.a<0&&(this.a=e.top),this.b=e.top,this.d=e.bottom,this.c=Math.max(this.d-n,this.b)}},{61:61,68:68}],170:[function(t,e,n){"use strict";var i=t(68),r=i(t(81)),s=i(t(61)),o=i(t(63)),a=t(171),u=new(t(160)),l=function(){function t(e){(0,s.default)(this,t),this.group=e,this.data={target:null,anchors:null,metrics:this.group.metrics}}return(0,o.default)(t,[{key:"parseArray",value:function(t,e){return[this.parseExpression(t,e[0]),this.parseExpression(t,e[1])]}},{key:"parseExpression",value:function(e,n){if(!n)return null;if("number"==typeof n)return n;if("string"!=typeof n)throw"Expression must be a string, received ".concat((0,r.default)(n),": ").concat(n);return this.data.target=e.controller.element,this.data.anchors=e.anchors,this.data.keyframe=e.keyframe,t._parse(n,this.data)}},{key:"parseTimeValue",value:function(t,e){if("number"==typeof e)return e;var n=this.group.expressionParser.parseExpression(t,e);return this.group.convertScrollPositionToTValue(n)}},{key:"destroy",value:function(){this.group=null}}],[{key:"parse",value:function(e,n){return(n=n||{})&&(u.clear(),n.target&&u.add(n.target),n.anchors&&n.anchors.forEach((function(t){return u.add(t)}))),n.metrics=u,t._parse(e,n)}},{key:"_parse",value:function(t,e){return a.Parse(t).execute(e)}}]),t}();l.programs=a.programs,"undefined"!=typeof window&&(window.ExpressionParser=l),e.exports=l},{160:160,171:171,61:61,63:63,68:68,81:81}],171:[function(t,e,n){"use strict";var i=t(68),r=i(t(63)),s=i(t(76)),o=i(t(66)),a=i(t(67)),u=i(t(61)),l=t(157),c=t(194),h={},d={smoothstep:function(t,e,n){return(n=d.clamp((n-t)/(e-t),0,1))*n*(3-2*n)},deg:function(t){return 180*t/Math.PI},rad:function(t){return t*Math.PI/180},random:function(t,e){return Math.random()*(e-t)+t},atan:Math.atan2};Object.getOwnPropertyNames(Math).forEach((function(t){return d[t]?null:d[t.toLowerCase()]=Math[t]})),Object.getOwnPropertyNames(c).forEach((function(t){return d[t]?null:d[t.toLowerCase()]=c[t]}));var f=null,m="a",p="ALPHA",v="(",y=")",g="PLUS",_="MINUS",b="MUL",E="DIV",w="INTEGER_CONST",x="FLOAT_CONST",k=",",A="EOF",S={NUMBERS:/\d|\d\.\d/,DIGIT:/\d/,OPERATOR:/[-+*/]/,PAREN:/[()]/,WHITE_SPACE:/\s/,ALPHA:/[a-zA-Z]|%/,ALPHANUMERIC:/[a-zA-Z0-9]/,OBJECT_UNIT:/^(t|l|b|r|%w|%h|%|h|w)$/,GLOBAL_METRICS_UNIT:/^(px|vh|vw)$/,ANY_UNIT:/^(t|l|b|r|%w|%h|%|h|w|px|vh|vw)$/,MATH_FUNCTION:new RegExp("\\b(".concat(Object.keys(d).join("|"),")\\b"),"i")},O=function(t,e,n){arguments.length>3&&void 0!==arguments[3]&&arguments[3];var i=e.slice(Math.max(n,0),Math.min(e.length,n+3)),r=new Error("Expression Error. ".concat(t,' in expression "').concat(e,'", near "').concat(i,'"'));throw console.error(r.message,f?f.keyframe||f.target:""),r},T={round:1,clamp:3,lerp:3,random:2,atan:2,floor:1,ceil:1,abs:1,cos:1,sin:1,smoothstep:3,rad:1,deg:1,pow:2,calc:1},C=function t(e,n){(0,u.default)(this,t),this.type=e,this.value=n};C.ONE=new C("100",100),C.EOF=new C(A,null);var M=function t(e){(0,u.default)(this,t),this.type=e},F=function(t){function e(t,n){var i;return(0,u.default)(this,e),(i=(0,s.default)(this,(0,o.default)(e).call(this,"UnaryOp"))).token=i.op=t,i.expr=n,i}return(0,a.default)(e,t),e}(M),I=function(t){function e(t,n,i){var r;return(0,u.default)(this,e),(r=(0,s.default)(this,(0,o.default)(e).call(this,"BinOp"))).left=t,r.op=n,r.right=i,r}return(0,a.default)(e,t),e}(M),P=function(t){function e(t,n){var i;if((0,u.default)(this,e),(i=(0,s.default)(this,(0,o.default)(e).call(this,"MathOp"))).op=t,i.list=n,T[t.value]&&n.length!==T[t.value])throw new Error("Incorrect number of arguments for '".concat(t.value,"'. Received ").concat(n.length,", expected ").concat(T[t.value]));return i}return(0,a.default)(e,t),e}(M),D=function(t){function e(t){var n;return(0,u.default)(this,e),(n=(0,s.default)(this,(0,o.default)(e).call(this,"Num"))).token=t,n.value=t.value,n}return(0,a.default)(e,t),e}(M),R=function(t){function e(t,n,i){var r;return(0,u.default)(this,e),(r=(0,s.default)(this,(0,o.default)(e).call(this,"RefValue"))).num=t,r.ref=n,r.unit=i,r}return(0,a.default)(e,t),e}(M),L=function(t){function e(t,n){var i;return(0,u.default)(this,e),(i=(0,s.default)(this,(0,o.default)(e).call(this,"CSSValue"))).ref=t,i.propertyName=n,i}return(0,a.default)(e,t),e}(M),N=function(t){function e(t,n){var i;return(0,u.default)(this,e),(i=(0,s.default)(this,(0,o.default)(e).call(this,"PropValue"))).ref=t,i.propertyName=n,i}return(0,a.default)(e,t),e}(M),U=function(){function t(e){var n;for((0,u.default)(this,t),this.text=e,this.pos=0,this.char=this.text[this.pos],this.tokens=[];(n=this.getNextToken())&&n!==C.EOF;)this.tokens.push(n);this.tokens.push(n)}return(0,r.default)(t,[{key:"advance",value:function(){this.char=this.text[++this.pos]}},{key:"skipWhiteSpace",value:function(){for(;null!=this.char&&S.WHITE_SPACE.test(this.char);)this.advance()}},{key:"name",value:function(){for(var t="";null!=this.char&&S.ALPHA.test(this.char);)t+=this.char,this.advance();return new C(p,t)}},{key:"number",value:function(){var t="";for("."===this.char&&(t+=this.char,this.advance());null!=this.char&&S.DIGIT.test(this.char);)t+=this.char,this.advance();if(null!=this.char&&"."===this.char)for(t.includes(".")&&O("Number appears to contain 2 decimal points",this.text,this.pos),t+=this.char,this.advance();null!=this.char&&S.DIGIT.test(this.char);)t+=this.char,this.advance();return"."===t&&O("Attempted to parse a number, but found only a decimal point",this.text,this.pos),t.includes(".")?new C(x,parseFloat(t)):new C(w,parseInt(t))}},{key:"getNextToken",value:function(){for(;null!=this.char;)if(S.WHITE_SPACE.test(this.char))this.skipWhiteSpace();else{if("."===this.char||S.DIGIT.test(this.char))return this.number();if(","===this.char)return this.advance(),new C(k,",");if(S.OPERATOR.test(this.char)){var t="",e=this.char;switch(e){case"+":t=g;break;case"-":t=_;break;case"*":t=b;break;case"/":t=E}return this.advance(),new C(t,e)}if(S.PAREN.test(this.char)){var n="",i=this.char;switch(i){case"(":n=v;break;case")":n=y}return this.advance(),new C(n,i)}if(S.ALPHA.test(this.char))return this.name();O('Unexpected character "'.concat(this.char,'"'),this.text,this.pos)}return C.EOF}}]),t}(),V=function(){function t(e){(0,u.default)(this,t),this.lexer=e,this.pos=0}return(0,r.default)(t,[{key:"error",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";O(t,e,this.lexer.text,this.pos)}},{key:"consume",value:function(t){var e=this.currentToken;return e.type===t?this.pos+=1:this.error("Invalid token ".concat(this.currentToken.value,", expected ").concat(t)),e}},{key:"consumeList",value:function(t){t.includes(this.currentToken)?this.pos+=1:this.error("Invalid token ".concat(this.currentToken.value,", expected ").concat(tokenType))}},{key:"expr",value:function(){for(var t=this.term();this.currentToken.type===g||this.currentToken.type===_;){var e=this.currentToken;switch(e.value){case"+":this.consume(g);break;case"-":this.consume(_)}t=new I(t,e,this.term())}return t}},{key:"term",value:function(){for(var t=this.factor();this.currentToken.type===b||this.currentToken.type===E;){var e=this.currentToken;switch(e.value){case"*":this.consume(b);break;case"/":this.consume(E)}t=new I(t,e,this.factor())}return t}},{key:"factor",value:function(){if(this.currentToken.type===g)return new F(this.consume(g),this.factor());if(this.currentToken.type===_)return new F(this.consume(_),this.factor());if(this.currentToken.type===w||this.currentToken.type===x){var t=new D(this.currentToken);if(this.pos+=1,S.OPERATOR.test(this.currentToken.value)||this.currentToken.type===y||this.currentToken.type===k||this.currentToken.type===A)return t;if(this.currentToken.type===p&&this.currentToken.value===m)return this.consume(p),new R(t,this.anchorIndex(),this.unit(S.ANY_UNIT));if(this.currentToken.type===p)return"%a"===this.currentToken.value&&this.error("%a is invalid, try removing the %"),new R(t,null,this.unit());this.error("Expected a scaling unit type","Such as 'h' / 'w'")}else{if(S.OBJECT_UNIT.test(this.currentToken.value))return new R(new D(C.ONE),null,this.unit());if(this.currentToken.value===m){this.consume(p);var e=this.anchorIndex();if(S.OBJECT_UNIT.test(this.currentToken.value))return new R(new D(C.ONE),e,this.unit())}else if(this.currentToken.type===p){if("calc"===this.currentToken.value)return this.consume(p),this.expr();if("css"===this.currentToken.value||"var"===this.currentToken.value||"prop"===this.currentToken.value){var n="prop"!==this.currentToken.value?L:N;this.consume(p),this.consume(v);var i=this.propertyName(),r=null;return this.currentToken.type===k&&(this.consume(k),this.consume(p),r=this.anchorIndex()),this.consume(y),new n(r,i)}if(S.MATH_FUNCTION.test(this.currentToken.value)){var s=this.currentToken.value.toLowerCase();if("number"==typeof d[s])return this.consume(p),new D(new C(p,d[s]));var o=C[s]||new C(s,s),a=[];this.consume(p),this.consume(v);var u=null;do{this.currentToken.value===k&&this.consume(k),u=this.expr(),a.push(u)}while(this.currentToken.value===k);return this.consume(y),new P(o,a)}}else if(this.currentToken.type===v){this.consume(v);var l=this.expr();return this.consume(y),l}}this.error("Unexpected token ".concat(this.currentToken.value))}},{key:"propertyName",value:function(){for(var t="";this.currentToken.type===p||this.currentToken.type===_;)t+=this.currentToken.value,this.pos+=1;return t}},{key:"unit",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:S.ANY_UNIT,e=this.currentToken;if(e.type===p&&t.test(e.value))return this.consume(p),new C(p,e.value=e.value.replace(/%(h|w)/,"$1").replace("%","h"));this.error("Expected unit type")}},{key:"anchorIndex",value:function(){var t=this.currentToken;if(t.type===w)return this.consume(w),new D(t);this.error("Invalid anchor reference",". Should be something like a0, a1, a2")}},{key:"parse",value:function(){var t=this.expr();return this.currentToken!==C.EOF&&this.error("Unexpected token ".concat(this.currentToken.value)),t}},{key:"currentToken",get:function(){return this.lexer.tokens[this.pos]}}]),t}(),j=function(){function t(e){(0,u.default)(this,t),this.parser=e,this.root=e.parse()}return(0,r.default)(t,[{key:"visit",value:function(t){var e=this[t.type];if(!e)throw new Error("No visit method named, ".concat(e));return e.call(this,t)}},{key:"BinOp",value:function(t){switch(t.op.type){case g:return this.visit(t.left)+this.visit(t.right);case _:return this.visit(t.left)-this.visit(t.right);case b:return this.visit(t.left)*this.visit(t.right);case E:return this.visit(t.left)/this.visit(t.right)}}},{key:"RefValue",value:function(t){var e=this.unwrapReference(t),n=t.unit.value,i=t.num.value,r=f.metrics.get(e);switch(n){case"h":return.01*i*r.height;case"t":return.01*i*r.top;case"vh":return.01*i*l.pageMetrics.windowHeight;case"vw":return.01*i*l.pageMetrics.windowWidth;case"px":return i;case"w":return.01*i*r.width;case"b":return.01*i*r.bottom;case"l":return.01*i*r.left;case"r":return.01*i*r.right}}},{key:"PropValue",value:function(t){return(null===t.ref?f.target:f.anchors[t.ref.value])[t.propertyName]}},{key:"CSSValue",value:function(e){var n=this.unwrapReference(e),i=getComputedStyle(n).getPropertyValue(e.propertyName);return""===i?0:t.Parse(i).execute(f)}},{key:"Num",value:function(t){return t.value}},{key:"UnaryOp",value:function(t){return t.op.type===g?+this.visit(t.expr):t.op.type===_?-this.visit(t.expr):void 0}},{key:"MathOp",value:function(t){var e=this,n=t.list.map((function(t){return e.visit(t)}));return d[t.op.value].apply(null,n)}},{key:"unwrapReference",value:function(t){return null===t.ref?f.target:(t.ref.value>=f.anchors.length&&console.error("Not enough anchors supplied for expression ".concat(this.parser.lexer.text),f.target),f.anchors[t.ref.value])}},{key:"execute",value:function(t){return f=t,this.visit(this.root)}}],[{key:"Parse",value:function(e){return h[e]||(h[e]=new t(new V(new U(e))))}}]),t}();j.programs=h,e.exports=j},{157:157,194:194,61:61,63:63,66:66,67:67,68:68,76:76}],172:[function(t,e,n){"use strict";var i=t(68),r=i(t(61)),s=i(t(63)),o=i(t(76)),a=i(t(59)),u=i(t(66)),l=i(t(65)),c=i(t(67)),h=t(55).EventEmitterMicro,d=t(194),f=t(175),m=t(157),p=t(156),v=t(163),y=t(169),g=t(160),_=t(170),b=t(154),E={};"undefined"!=typeof window&&(E.create=t(136),E.update=t(146),E.draw=t(142));var w=0,x=function(t){function e(t,n){var i;return(0,r.default)(this,e),(i=(0,o.default)(this,(0,u.default)(e).call(this))).anim=n,i.element=t,i.name=i.name||t.getAttribute("data-anim-scroll-group"),i.isEnabled=!0,i.position=new v,i.metrics=new g,i.metrics.add(i.element),i.expressionParser=new _((0,a.default)(i)),i.boundsMin=0,i.boundsMax=0,i.timelineUpdateRequired=!1,i._keyframesDirty=!1,i.viewableRange=i.createViewableRange(),i.defaultEase=m.KeyframeDefaults.ease,i.keyframeControllers=[],i.updateProgress(i.getPosition()),i.onDOMRead=i.onDOMRead.bind((0,a.default)(i)),i.onDOMWrite=i.onDOMWrite.bind((0,a.default)(i)),i.gui=null,i.finalizeInit(),i}return(0,c.default)(e,t),(0,s.default)(e,[{key:"finalizeInit",value:function(){this.element._animInfo=new p(this,null,!0),this.setupRAFEmitter()}},{key:"destroy",value:function(){this.destroyed=!0,this.expressionParser.destroy(),this.expressionParser=null;for(var t=0,n=this.keyframeControllers.length;t<n;t++)this.keyframeControllers[t].destroy();this.keyframeControllers=null,this.position=null,this.viewableRange=null,this.gui&&(this.gui.destroy(),this.gui=null),this.metrics.destroy(),this.metrics=null,this.rafEmitter.destroy(),this.rafEmitter=null,this.anim=null,this.element._animInfo&&this.element._animInfo.group===this&&(this.element._animInfo.group=null,this.element._animInfo=null),this.element=null,this.isEnabled=!1,(0,l.default)((0,u.default)(e.prototype),"destroy",this).call(this)}},{key:"removeKeyframeController",value:function(t){var e=this;return this.keyframeControllers.includes(t)?(t._allKeyframes.forEach((function(t){return t.markedForRemoval=!0})),this.keyframesDirty=!0,new Promise((function(n){E.draw((function(){var i=e.keyframeControllers.indexOf(t);-1!==i?(e.keyframeControllers.splice(i,1),t.onDOMWrite(),t.destroy(),e.gui&&e.gui.create(),n()):n()}))}))):Promise.resolve()}},{key:"remove",value:function(){return this.anim.removeGroup(this)}},{key:"clear",value:function(){var t=this;return Promise.all(this.keyframeControllers.map((function(e){return t.removeKeyframeController(e)})))}},{key:"setupRAFEmitter",value:function(t){var e=this;this.rafEmitter&&this.rafEmitter.destroy(),this.rafEmitter=t||new E.create,this.rafEmitter.on("update",this.onDOMRead),this.rafEmitter.on("draw",this.onDOMWrite),this.rafEmitter.once("external",(function(){return e.reconcile()}))}},{key:"requestDOMChange",value:function(){return!!this.isEnabled&&this.rafEmitter.run()}},{key:"onDOMRead",value:function(){this.keyframesDirty&&this.onKeyframesDirty();for(var t=0,e=this.keyframeControllers.length;t<e;t++)this.keyframeControllers[t].onDOMRead(this.position.local)}},{key:"onDOMWrite",value:function(){for(var t=0,e=this.keyframeControllers.length;t<e;t++)this.keyframeControllers[t].onDOMWrite();this.needsUpdate()&&this.requestDOMChange()}},{key:"needsUpdate",value:function(){if(this._keyframesDirty)return!0;for(var t=0,e=this.keyframeControllers.length;t<e;t++)if(this.keyframeControllers[t].needsUpdate())return!0;return!1}},{key:"addKeyframe",value:function(t,e){var n=this.getControllerForTarget(t);return null===n&&(n=new b(this,t),this.keyframeControllers.push(n)),this.keyframesDirty=!0,n.addKeyframe(e)}},{key:"addEvent",value:function(t,e){e.event=e.event||"Generic-Event-Name-"+w++;var n=void 0!==e.end&&e.end!==e.start,i=this.addKeyframe(t,e);return n?(e.onEnterOnce&&i.controller.once(e.event+":enter",e.onEnterOnce),e.onExitOnce&&i.controller.once(e.event+":exit",e.onExitOnce),e.onEnter&&i.controller.on(e.event+":enter",e.onEnter),e.onExit&&i.controller.on(e.event+":exit",e.onExit)):(e.onEventOnce&&i.controller.once(e.event,e.onEventOnce),e.onEventReverseOnce&&i.controller.once(e.event+":reverse",e.onEventReverseOnce),e.onEvent&&i.controller.on(e.event,e.onEvent),e.onEventReverse&&i.controller.on(e.event+":reverse",e.onEventReverse)),i}},{key:"forceUpdate",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.waitForNextUpdate,n=void 0===e||e,i=t.silent,r=void 0!==i&&i;this.isEnabled&&(this.refreshMetrics(),this.timelineUpdateRequired=!0,n?this.keyframesDirty=!0:this.onKeyframesDirty({silent:r}))}},{key:"onKeyframesDirty",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.silent,n=void 0!==e&&e;this.determineActiveKeyframes(),this.keyframesDirty=!1,this.metrics.refreshMetrics(this.element),this.viewableRange=this.createViewableRange();for(var i=0,r=this.keyframeControllers.length;i<r;i++)this.keyframeControllers[i].updateAnimationConstraints();this.updateBounds(),this.updateProgress(this.getPosition()),n||this.updateTimeline(),this.gui&&this.gui.create()}},{key:"refreshMetrics",value:function(){var t=new Set([this.element]);this.keyframeControllers.forEach((function(e){t.add(e.element),e._allKeyframes.forEach((function(e){return e.anchors.forEach((function(e){return t.add(e)}))}))})),this.metrics.refreshCollection(t),this.viewableRange=this.createViewableRange()}},{key:"reconcile",value:function(){for(var t=0,e=this.keyframeControllers.length;t<e;t++)this.keyframeControllers[t].reconcile()}},{key:"determineActiveKeyframes",value:function(t){t=t||f(Array.from(document.documentElement.classList));for(var e=0,n=this.keyframeControllers.length;e<n;e++)this.keyframeControllers[e].determineActiveKeyframes(t)}},{key:"updateBounds",value:function(){if(0===this.keyframeControllers.length)return this.boundsMin=0,void(this.boundsMax=0);for(var t={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY},e=0,n=this.keyframeControllers.length;e<n;e++)this.keyframeControllers[e].getBounds(t);var i=this.convertTValueToScrollPosition(t.min),r=this.convertTValueToScrollPosition(t.max);r-i<m.pageMetrics.windowHeight?(t.min=this.convertScrollPositionToTValue(i-.5*m.pageMetrics.windowHeight),t.max=this.convertScrollPositionToTValue(r+.5*m.pageMetrics.windowHeight)):(t.min-=.001,t.max+=.001),this.boundsMin=t.min,this.boundsMax=t.max,this.timelineUpdateRequired=!0}},{key:"createViewableRange",value:function(){return new y(this.metrics.get(this.element),m.pageMetrics.windowHeight)}},{key:"_onBreakpointChange",value:function(t,e){this.keyframesDirty=!0,this.determineActiveKeyframes()}},{key:"updateProgress",value:function(t){this.hasDuration()?(this.position.localUnclamped=(t-this.viewableRange.a)/(this.viewableRange.d-this.viewableRange.a),this.position.local=d.clamp(this.position.localUnclamped,this.boundsMin,this.boundsMax)):this.position.local=this.position.localUnclamped=0}},{key:"performTimelineDispatch",value:function(){for(var t=0,e=this.keyframeControllers.length;t<e;t++)this.keyframeControllers[t].updateLocalProgress(this.position.local);this.trigger(m.EVENTS.ON_TIMELINE_UPDATE,this.position.local),this.trigger("update",this.position.local),this.timelineUpdateRequired=!1,this.position.lastPosition!==this.position.local&&(this.position.lastPosition<=this.boundsMin&&this.position.localUnclamped>this.boundsMin?(this.trigger(m.EVENTS.ON_TIMELINE_START,this),this.trigger("start",this)):this.position.lastPosition>=this.boundsMin&&this.position.localUnclamped<this.boundsMin?(this.trigger(m.EVENTS.ON_TIMELINE_START+":reverse",this),this.trigger("start:reverse",this)):this.position.lastPosition<=this.boundsMax&&this.position.localUnclamped>=this.boundsMax?(this.trigger(m.EVENTS.ON_TIMELINE_COMPLETE,this),this.trigger("complete",this)):this.position.lastPosition>=this.boundsMax&&this.position.localUnclamped<this.boundsMax&&(this.trigger(m.EVENTS.ON_TIMELINE_COMPLETE+":reverse",this),this.trigger("complete:reverse",this))),null!==this.gui&&this.gui.onScrollUpdate(this.position)}},{key:"updateTimeline",value:function(t){if(!this.isEnabled)return!1;void 0===t&&(t=this.getPosition()),this.updateProgress(t);var e=this.position.lastPosition===this.boundsMin||this.position.lastPosition===this.boundsMax,n=this.position.localUnclamped===this.boundsMin||this.position.localUnclamped===this.boundsMax;if(!this.timelineUpdateRequired&&e&&n&&this.position.lastPosition===t)this.position.local=this.position.localUnclamped;else{if(this.timelineUpdateRequired||this.position.localUnclamped>this.boundsMin&&this.position.localUnclamped<this.boundsMax)return this.performTimelineDispatch(),this.requestDOMChange(),void(this.position.lastPosition=this.position.localUnclamped);var i=this.position.lastPosition>this.boundsMin&&this.position.lastPosition<this.boundsMax,r=this.position.localUnclamped<=this.boundsMin||this.position.localUnclamped>=this.boundsMax;if(i&&r)return this.performTimelineDispatch(),this.requestDOMChange(),void(this.position.lastPosition=this.position.localUnclamped);var s=this.position.lastPosition<this.boundsMin&&this.position.localUnclamped>this.boundsMax,o=this.position.lastPosition>this.boundsMax&&this.position.localUnclamped<this.boundsMax;(s||o)&&(this.performTimelineDispatch(),this.requestDOMChange(),this.position.lastPosition=this.position.localUnclamped),null!==this.gui&&this.gui.onScrollUpdate(this.position)}}},{key:"_onScroll",value:function(t){this.updateTimeline(t)}},{key:"convertScrollPositionToTValue",value:function(t){return this.hasDuration()?d.map(t,this.viewableRange.a,this.viewableRange.d,0,1):0}},{key:"convertTValueToScrollPosition",value:function(t){return this.hasDuration()?d.map(t,0,1,this.viewableRange.a,this.viewableRange.d):0}},{key:"hasDuration",value:function(){return this.viewableRange.a!==this.viewableRange.d}},{key:"getPosition",value:function(){return m.pageMetrics.scrollY}},{key:"getControllerForTarget",value:function(t){if(!t._animInfo||!t._animInfo.controllers)return null;if(t._animInfo.controller&&t._animInfo.controller.group===this)return t._animInfo.controller;for(var e=t._animInfo.controllers,n=0,i=e.length;n<i;n++)if(e[n].group===this)return e[n];return null}},{key:"trigger",value:function(t,e){if(void 0!==this._events[t])for(var n=this._events[t].length-1;n>=0;n--)void 0!==e?this._events[t][n](e):this._events[t][n]()}},{key:"keyframesDirty",set:function(t){this._keyframesDirty=t,this._keyframesDirty&&this.requestDOMChange()},get:function(){return this._keyframesDirty}}]),e}(h);e.exports=x},{136:136,142:142,146:146,154:154,156:156,157:157,160:160,163:163,169:169,170:170,175:175,194:194,55:55,59:59,61:61,63:63,65:65,66:66,67:67,68:68,76:76}],173:[function(t,e,n){"use strict";var i=t(68),r=i(t(61)),s=i(t(63)),o=i(t(76)),a=i(t(59)),u=i(t(66)),l=i(t(65)),c=i(t(67)),h=t(172),d=t(151),f=t(194),m=0,p={};"undefined"!=typeof window&&(p.create=t(136));var v=function(t){function e(t,n){var i;return(0,r.default)(this,e),t||((t=document.createElement("div")).className="TimeGroup-"+m++),(i=(0,o.default)(this,(0,u.default)(e).call(this,t,n))).name=i.name||t.getAttribute("data-anim-time-group"),i._isPaused=!0,i._repeats=0,i._isReversed=!1,i._timeScale=1,i._chapterPlayer=new d((0,a.default)(i)),i.now=performance.now(),i}return(0,c.default)(e,t),(0,s.default)(e,[{key:"finalizeInit",value:function(){if(!this.anim)throw"TimeGroup not instantiated correctly. Please use `AnimSystem.createTimeGroup(el)`";this.onPlayTimeUpdate=this.onPlayTimeUpdate.bind(this),(0,l.default)((0,u.default)(e.prototype),"finalizeInit",this).call(this)}},{key:"progress",value:function(t){if(void 0===t)return 0===this.boundsMax?0:this.position.local/this.boundsMax;var e=t*this.boundsMax;this.timelineUpdateRequired=!0,this.updateTimeline(e)}},{key:"time",value:function(t){if(void 0===t)return this.position.local;t=f.clamp(t,this.boundsMin,this.duration),this.timelineUpdateRequired=!0,this.updateTimeline(t)}},{key:"play",value:function(t){this.reversed(!1),this.isEnabled=!0,this._isPaused=!1,this.time(t),this.now=performance.now(),this._playheadEmitter.run()}},{key:"reverse",value:function(t){this.reversed(!0),this.isEnabled=!0,this._isPaused=!1,this.time(t),this.now=performance.now(),this._playheadEmitter.run()}},{key:"reversed",value:function(t){if(void 0===t)return this._isReversed;this._isReversed=t}},{key:"restart",value:function(){this._isReversed?(this.progress(1),this.reverse(this.time())):(this.progress(0),this.play(this.time()))}},{key:"pause",value:function(t){this.time(t),this._isPaused=!0}},{key:"paused",value:function(t){return void 0===t?this._isPaused:(this._isPaused=t,this._isPaused||this.play(),this)}},{key:"onPlayTimeUpdate",value:function(){if(!this._isPaused){var t=performance.now(),n=(t-this.now)/1e3;this.now=t,this._isReversed&&(n=-n);var i=this.time()+n*this._timeScale;if(this._repeats===e.REPEAT_FOREVER||this._repeats>0){var r=!1;!this._isReversed&&i>this.boundsMax?(i-=this.boundsMax,r=!0):this._isReversed&&i<0&&(i=this.boundsMax+i,r=!0),r&&(this._repeats=this._repeats===e.REPEAT_FOREVER?e.REPEAT_FOREVER:this._repeats-1)}this.time(i);var s=!this._isReversed&&this.position.local!==this.duration,o=this._isReversed&&0!==this.position.local;s||o?this._playheadEmitter.run():this.paused(!0)}}},{key:"updateProgress",value:function(t){this.hasDuration()?(this.position.localUnclamped=t,this.position.local=f.clamp(this.position.localUnclamped,this.boundsMin,this.boundsMax)):this.position.local=this.position.localUnclamped=0}},{key:"updateBounds",value:function(){if(0===this.keyframeControllers.length)return this.boundsMin=0,void(this.boundsMax=0);for(var t={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY},e=0,n=this.keyframeControllers.length;e<n;e++)this.keyframeControllers[e].getBounds(t);this.boundsMin=0,this.boundsMax=t.max,this.viewableRange.a=this.viewableRange.b=0,this.viewableRange.c=this.viewableRange.d=this.boundsMax,this.timelineUpdateRequired=!0}},{key:"setupRAFEmitter",value:function(t){this._playheadEmitter=new p.create,this._playheadEmitter.on("update",this.onPlayTimeUpdate),(0,l.default)((0,u.default)(e.prototype),"setupRAFEmitter",this).call(this,t)}},{key:"timeScale",value:function(t){return void 0===t?this._timeScale:(this._timeScale=t,this)}},{key:"repeats",value:function(t){if(void 0===t)return this._repeats;this._repeats=t}},{key:"getPosition",value:function(){return this.position.local}},{key:"addChapter",value:function(t){return this._chapterPlayer.addChapter(t)}},{key:"playToChapter",value:function(t){this._chapterPlayer.playToChapter(t)}},{key:"convertScrollPositionToTValue",value:function(t){return t}},{key:"convertTValueToScrollPosition",value:function(t){return t}},{key:"hasDuration",value:function(){return this.duration>0}},{key:"destroy",value:function(){this._playheadEmitter.destroy(),this._playheadEmitter=null,(0,l.default)((0,u.default)(e.prototype),"destroy",this).call(this)}},{key:"duration",get:function(){return this.keyframesDirty&&this.onKeyframesDirty({silent:!0}),this.boundsMax}},{key:"timelineProgress",set:function(t){this.progress(t)},get:function(){return this.progress()}}]),e}(h);v.REPEAT_FOREVER=-1,e.exports=v},{136:136,151:151,172:172,194:194,59:59,61:61,63:63,65:65,66:66,67:67,68:68,76:76}],174:[function(t,e,n){"use strict";var i=t(68),r=i(t(80)),s=i(t(61)),o=i(t(63)),a=i(t(76)),u=i(t(66)),l=i(t(65)),c=i(t(67)),h=t(172),d=(t(151),t(194)),f=0,m={};"undefined"!=typeof window&&(m.create=t(136));var p=function(t){function e(t,n){var i;return(0,s.default)(this,e),t||((t=document.createElement("div")).className="TweenGroup-"+f++),(i=(0,a.default)(this,(0,u.default)(e).call(this,t,n))).name="Tweens",i.keyframes=[],i._isPaused=!1,i.now=performance.now(),i}return(0,c.default)(e,t),(0,o.default)(e,[{key:"finalizeInit",value:function(){this.onTimeEmitterUpdate=this.onTimeEmitterUpdate.bind(this),this.removeExpiredKeyframeControllers=this.removeExpiredKeyframeControllers.bind(this),(0,l.default)((0,u.default)(e.prototype),"finalizeInit",this).call(this)}},{key:"destroy",value:function(){this._timeEmitter.destroy(),this._timeEmitter=null,this._keyframes=[],(0,l.default)((0,u.default)(e.prototype),"destroy",this).call(this)}},{key:"setupRAFEmitter",value:function(t){this.now=performance.now(),this._timeEmitter=new m.create,this._timeEmitter.on("update",this.onTimeEmitterUpdate),this._timeEmitter.run(),(0,l.default)((0,u.default)(e.prototype),"setupRAFEmitter",this).call(this,t)}},{key:"addKeyframe",value:function(t,n){if(void 0!==n.start||void 0!==n.end)throw Error("Tweens do not have a start or end, they can only have a duration. Consider using a TimeGroup instead");if("number"!=typeof n.duration)throw Error("Tween options.duration is undefined, or is not a number");var i,r;n.start=(n.delay||0)+this.position.localUnclamped,n.end=n.start+n.duration,n.preserveState=!0,n.snapAtCreation=!0,t._animInfo&&(i=t._animInfo.group,r=t._animInfo.controller);var s=(0,l.default)((0,u.default)(e.prototype),"addKeyframe",this).call(this,t,n);return t._animInfo.group=i,t._animInfo.controller=r,n.onStart&&s.controller.once("draw",(function(t){t.keyframe=s,n.onStart(t),t.keyframe=null})),n.onDraw&&s.controller.on("draw",(function(t){t.keyframe=s,n.onDraw(t),t.keyframe=null})),this.removeOverlappingProps(s),this.keyframes.push(s),this._timeEmitter.willRun()||(this.now=performance.now(),this._timeEmitter.run()),s}},{key:"removeOverlappingProps",value:function(t){if(!(t.controller._allKeyframes.length<=1))for(var e=Object.keys(t.animValues),n=t.controller,i=function(i,r){var s=n._allKeyframes[i];if(s===t)return"continue";if(s.markedForRemoval)return"continue";var o=Object.keys(s.animValues),a=o.filter((function(t){return e.includes(t)}));if(a.length===o.length)return s.markedForRemoval=!0,"continue";a.forEach((function(t){return delete s.animValues[t]}))},r=0,s=n._allKeyframes.length;r<s;r++)i(r)}},{key:"onTimeEmitterUpdate",value:function(t){if(!this._isPaused&&0!==this.keyframeControllers.length){var e=performance.now(),n=(e-this.now)/1e3;this.now=e;var i=this.position.local+n;this.position.local=this.position.localUnclamped=i,this.onTimeUpdate()}}},{key:"onTimeUpdate",value:function(){for(var t=0,e=this.keyframes.length;t<e;t++)this.keyframes[t].updateLocalProgress(this.position.localUnclamped);this.requestDOMChange(),this._timeEmitter.run(),null!==this.gui&&this.gui.onScrollUpdate(this.position)}},{key:"onDOMRead",value:function(){if(this.keyframesDirty&&this.onKeyframesDirty(),0!==this.keyframes.length)for(var t=0,e=this.keyframes.length;t<e;t++)for(var n in this.keyframes[t].controller.needsWrite=!0,this.keyframes[t].animValues)this.keyframes[t].onDOMRead(n)}},{key:"onDOMWrite",value:function(){(0,l.default)((0,u.default)(e.prototype),"onDOMWrite",this).call(this),this.removeExpiredKeyframes()}},{key:"removeExpiredKeyframes",value:function(){for(var t=this.keyframes.length,e=t;t--;){var n=this.keyframes[t];n.destroyed?this.keyframes.splice(t,1):(n.markedForRemoval&&(n.jsonProps.onComplete&&1===n.localT&&(n.controller.eventObject.keyframe=n,n.jsonProps.onComplete(n.controller.eventObject),n.jsonProps.onComplete=null),null!==this.gui&&this.gui.isDraggingPlayhead||(n.remove(),this.keyframes.splice(t,1))),1===n.localT&&(n.markedForRemoval=!0))}this.keyframes.length===e&&0!==this.keyframes.length||this._timeEmitter.executor.eventEmitter.once("after:draw",this.removeExpiredKeyframeControllers)}},{key:"removeExpiredKeyframeControllers",value:function(){for(var t=0,e=this.keyframeControllers.length;t<e;t++){for(var n=!0,i=this.keyframeControllers[t],r=0,s=i._allKeyframes.length;r<s;r++)if(!i._allKeyframes[r].destroyed){n=!1;break}n&&i.remove()}}},{key:"updateBounds",value:function(){this.boundsMin=Math.min.apply(Math,(0,r.default)(this.keyframes.map((function(t){return t.start})))),this.boundsMax=Math.max.apply(Math,(0,r.default)(this.keyframes.map((function(t){return t.end}))))}},{key:"play",value:function(){this.isEnabled=!0,this._isPaused=!1,this.now=performance.now(),this._timeEmitter.run()}},{key:"pause",value:function(){this._isPaused=!0}},{key:"paused",value:function(){return this._isPaused}},{key:"time",value:function(t){if(void 0===t)return this.position.local;this.position.local=this.position.localUnclamped=d.clamp(t,this.boundsMin,this.boundsMax),this.onTimeUpdate()}},{key:"performTimelineDispatch",value:function(){}},{key:"hasDuration",value:function(){return!0}},{key:"getPosition",value:function(){return this.position.local}},{key:"updateProgress",value:function(t){}},{key:"duration",get:function(){return this.boundsMax}}]),e}(h);e.exports=p},{136:136,151:151,172:172,194:194,61:61,63:63,65:65,66:66,67:67,68:68,76:76,80:80}],175:[function(t,e,n){"use strict";e.exports=function(t){return t.reduce((function(t,e){return t[e]=e,t}),{})}},{}],176:[function(t,e,n){"use strict";e.exports=function(t,e){if("string"!=typeof t)return t;try{return(e||document).querySelector(t)||document.querySelector(t)}catch(t){return!1}}},{}],177:[function(t,e,n){arguments[4][135][0].apply(n,arguments)},{135:135}],178:[function(t,e,n){arguments[4][136][0].apply(n,arguments)},{136:136,184:184,185:185,55:55}],179:[function(t,e,n){arguments[4][137][0].apply(n,arguments)},{137:137,56:56}],180:[function(t,e,n){arguments[4][138][0].apply(n,arguments)},{138:138,182:182}],181:[function(t,e,n){arguments[4][139][0].apply(n,arguments)},{139:139,180:180}],182:[function(t,e,n){arguments[4][140][0].apply(n,arguments)},{140:140,178:178}],183:[function(t,e,n){arguments[4][142][0].apply(n,arguments)},{142:142,181:181}],184:[function(t,e,n){arguments[4][144][0].apply(n,arguments)},{130:130,144:144,177:177}],185:[function(t,e,n){arguments[4][145][0].apply(n,arguments)},{130:130,145:145,177:177,179:179}],186:[function(t,e,n){arguments[4][146][0].apply(n,arguments)},{146:146,181:181}],187:[function(t,e,n){"use strict";var i=t(68),r=i(t(61)),s=i(t(63)),o=i(t(76)),a=i(t(66)),u=i(t(65)),l=i(t(67)),c=t(55).EventEmitterMicro,h=t(157),d={create:t(178),update:t(186),draw:t(183)},f=function(){},m=0,p=function(t){function e(t){var n;return(0,r.default)(this,e),(n=(0,o.default)(this,(0,a.default)(e).call(this))).el=t.el,n.gum=t.gum,n.componentName=t.componentName,n._keyframeController=null,n}return(0,l.default)(e,t),(0,s.default)(e,[{key:"destroy",value:function(){this.el=null,this.gum=null,this._keyframeController=null,(0,u.default)((0,a.default)(e.prototype),"destroy",this).call(this)}},{key:"addKeyframe",value:function(t){var e=t.el||this.el;return(t.group||this.anim).addKeyframe(e,t)}},{key:"addDiscreteEvent",value:function(t){t.event=t.event||"Generic-Event-Name-"+m++;var e=void 0!==t.end&&t.end!==t.start,n=this.addKeyframe(t);return e?(t.onEnterOnce&&n.controller.once(t.event+":enter",t.onEnterOnce),t.onExitOnce&&n.controller.once(t.event+":exit",t.onExitOnce),t.onEnter&&n.controller.on(t.event+":enter",t.onEnter),t.onExit&&n.controller.on(t.event+":exit",t.onExit)):(t.onEventOnce&&n.controller.once(t.event,t.onEventOnce),t.onEventReverseOnce&&n.controller.once(t.event+":reverse",t.onEventReverseOnce),t.onEvent&&n.controller.on(t.event,t.onEvent),t.onEventReverse&&n.controller.on(t.event+":reverse",t.onEventReverse)),n}},{key:"addRAFLoop",value:function(t){var e=["start","end"];if(e.every((function(e){return t.hasOwnProperty(e)}))){var n=new d.create;n.on("update",t.onUpdate||f),n.on("draw",t.onDraw||f),n.on("draw",(function(){return n.run()}));var i=t.onEnter,r=t.onExit;return t.onEnter=function(){n.run(),i&&i()},t.onExit=function(){n.cancel(),r&&r()},this.addDiscreteEvent(t)}console.log("BubbleGum.BaseComponent::addRAFLoop required options are missing: "+e.join(" "))}},{key:"addContinuousEvent",value:function(t){t.onDraw||console.log("BubbleGum.BaseComponent::addContinuousEvent required option `onDraw` is missing. Consider using a regular keyframe if you do not need a callback"),t.event=t.event||"Generic-Event-Name-"+m++;var e=this.addKeyframe(t);return e.controller.on(t.event,t.onDraw),e}},{key:"mounted",value:function(){}},{key:"onResizeImmediate",value:function(t){}},{key:"onResizeDebounced",value:function(t){}},{key:"onBreakpointChange",value:function(t){}},{key:"anim",get:function(){return this.gum.anim}},{key:"keyframeController",get:function(){return this._keyframeController||(this._keyframeController=this.anim.getControllerForTarget(this.el))}},{key:"pageMetrics",get:function(){return h.pageMetrics}}]),e}(c);e.exports=p},{157:157,178:178,183:183,186:186,55:55,61:61,63:63,65:65,66:66,67:67,68:68,76:76}],188:[function(t,e,n){"use strict";var i=t(68),r=i(t(61)),s=i(t(63)),o=i(t(76)),a=i(t(66)),u=i(t(67)),l=t(55).EventEmitterMicro,c=t(192),h=t(150),d=t(157),f=t(189),m={},p=function(t){function e(t){var n,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return(0,r.default)(this,e),(n=(0,o.default)(this,(0,a.default)(e).call(this))).el=t,n.anim=h,n.componentAttribute=i.attribute||"data-component-list",n.components=[],n.componentsInitialized=!1,n.el.getAttribute("data-anim-scroll-group")||n.el.setAttribute("data-anim-scroll-group","bubble-gum-group"),c.add((function(){h.initialize().then((function(){n.initComponents(),n.setupEvents(),n.components.forEach((function(t){return t.mounted()})),n.trigger(e.EVENTS.DOM_COMPONENTS_MOUNTED)}))})),n}return(0,u.default)(e,t),(0,s.default)(e,[{key:"initComponents",value:function(){var t=Array.prototype.slice.call(this.el.querySelectorAll("[".concat(this.componentAttribute,"]")));this.el.hasAttribute(this.componentAttribute)&&t.push(this.el);for(var e=0;e<t.length;e++)for(var n=t[e],i=n.getAttribute(this.componentAttribute).split(" "),r=0,s=i.length;r<s;r++){var o=i[r];""!==o&&" "!==o&&this.addComponent({el:n,componentName:o})}this.componentsInitialized=!0}},{key:"setupEvents",value:function(){this.onResizeDebounced=this.onResizeDebounced.bind(this),this.onResizeImmediate=this.onResizeImmediate.bind(this),this.onBreakpointChange=this.onBreakpointChange.bind(this),h.on(d.PageEvents.ON_RESIZE_IMMEDIATE,this.onResizeImmediate),h.on(d.PageEvents.ON_RESIZE_DEBOUNCED,this.onResizeDebounced),h.on(d.PageEvents.ON_BREAKPOINT_CHANGE,this.onBreakpointChange)}},{key:"addComponent",value:function(t){var n=t.el,i=t.componentName,r=t.data;if(!f.hasOwnProperty(i))throw"BubbleGum::addComponent could not add component to '"+n.className+"'. No component type '"+i+"' found!";var s=f[i];if(!e.componentIsSupported(s,i))return void 0===m[i]&&(console.log("BubbleGum::addComponent unsupported component '"+i+"'. Reason: '"+i+".IS_SUPPORTED' returned false"),m[i]=!0),null;var o=n.dataset.componentList||"";o.includes(i)||(n.dataset.componentList=o.split(" ").concat(i).join(" "));var a=new s({el:n,data:r,componentName:t.componentName,gum:this,pageMetrics:d.pageMetrics});return this.components.push(a),this.componentsInitialized&&a.mounted(),a}},{key:"removeComponent",value:function(t){var e=this.components.indexOf(t);-1!==e&&(this.components.splice(e,1),t.el.dataset.componentList=t.el.dataset.componentList.split(" ").filter((function(e){return e!==t.componentName})).join(" "),t.destroy())}},{key:"getComponentOfType",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:document.documentElement,n="[".concat(this.componentAttribute,"*=").concat(t,"]"),i=e.matches(n)?e:e.querySelector(n);return i?this.components.find((function(e){return e instanceof f[t]&&e.el===i})):null}},{key:"getComponentsOfType",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:document.documentElement,n="[".concat(this.componentAttribute,"*=").concat(t,"]"),i=e.matches(n)?[e]:Array.from(e.querySelectorAll(n));return this.components.filter((function(e){return e instanceof f[t]&&i.includes(e.el)}))}},{key:"getComponentsForElement",value:function(t){return this.components.filter((function(e){return e.el===t}))}},{key:"onResizeImmediate",value:function(){this.components.forEach((function(t){return t.onResizeImmediate(d.pageMetrics)}))}},{key:"onResizeDebounced",value:function(){this.components.forEach((function(t){return t.onResizeDebounced(d.pageMetrics)}))}},{key:"onBreakpointChange",value:function(){this.components.forEach((function(t){return t.onBreakpointChange(d.pageMetrics)}))}}],[{key:"componentIsSupported",value:function(t,e){var n=t.IS_SUPPORTED;if(void 0===n)return!0;if("function"!=typeof n)return console.error('BubbleGum::addComponent error in "'+e+'".IS_SUPPORTED - it should be a function which returns true/false'),!0;var i=t.IS_SUPPORTED();return void 0===i?(console.error('BubbleGum::addComponent error in "'+e+'".IS_SUPPORTED - it should be a function which returns true/false'),!0):i}}]),e}(l);p.EVENTS={DOM_COMPONENTS_MOUNTED:"DOM_COMPONENTS_MOUNTED"},e.exports=p},{150:150,157:157,189:189,192:192,55:55,61:61,63:63,66:66,67:67,68:68,76:76}],189:[function(t,e,n){"use strict";e.exports={BaseComponent:t(187)}},{187:187}],190:[function(t,e,n){"use strict";var i=t(68),r=i(t(61)),s=i(t(63)),o=t(5).ClientDetect,a=o.browser(),u={dataAttr:"data-download-button",dataAttrDisclaimer:"data-download-disclaimer"},l=function(){function t(e){(0,r.default)(this,t),e=e||{},this.options=Object.assign({},u,e),this.buttons=[].slice.call(document.querySelectorAll("[".concat(this.options.dataAttr,"]"))),this.disclaimers=[].slice.call(document.querySelectorAll("[".concat(this.options.dataAttrDisclaimer,"]"))),this.handleBtnClick=this._handleBtnClick.bind(this),this._handleDisclaimers()}return(0,s.default)(t,[{key:"initialize",value:function(){for(var t=0,e=this.buttons.length;t<e;t++)this.buttons[t].addEventListener("click",this.handleBtnClick)}},{key:"destroy",value:function(){for(var t=0,e=this.buttons.length;t<e;t++)this.buttons[t].removeEventListener("click",this.handleBtnClick)}},{key:"addButton",value:function(t){this.buttons.push(t),this._addEventListener(t)}},{key:"removeButton",value:function(t){this.buttons=this.buttons.filter((function(e){return e!==t})),this._removeEventListener(t)}},{key:"_handleBtnClick",value:function(t){t.preventDefault();var e=t.target,n=e.dataset.url,i=e.dataset.windowsFallback,r=e.dataset.androidFallback;n&&o.launchClient(n,(function(t,e){-1!==t&&0!==t||(!0!==e.isAndroid&&!0!==e.isLinux||(window.location.href=r),!0===e.isWindows&&(window.location.href=i))}))}},{key:"_addEventListener",value:function(t){t.addEventListener("click",this.handleBtnClick)}},{key:"_removeEventListener",value:function(t){t.removeEventListener("click",this.handleBtnClick)}},{key:"_handleDisclaimers",value:function(){for(var t=0,e=this.disclaimers.length;t<e;t++){var n=this.disclaimers[t].getAttribute(this.options.dataAttrDisclaimer);if(n){n=JSON.parse(n);var i=this._titleCaseStr(n.browser);i&&!0==!!a["is".concat(i)]&&(this.disclaimers[t].classList.remove("visuallyhidden"),this.disclaimers[t].setAttribute("aria-hidden","false"))}}}},{key:"_titleCaseStr",value:function(t){if(!t)return!1;for(var e=0,n=(t=t.toLowerCase().split(" ")).length;e<n;e++)t[e]=t[e].charAt(0).toUpperCase()+t[e].slice(1);return t.join("")}}]),t}();e.exports=l},{5:5,61:61,63:63,68:68}],191:[function(t,e,n){"use strict";var i=t(68)(t(78));"undefined"!=typeof window&&(window.DOMMatrix=window.DOMMatrix||window.WebKitCSSMatrix||window.CSSMatrix||window.MSCSSMatrix);var r=180/Math.PI,s=function(t){return Math.round(1e6*t)/1e6};function o(t){return Math.sqrt(t[0]*t[0]+t[1]*t[1]+t[2]*t[2])}function a(t,e){return 0===e?Array.from(t):[t[0]/e,t[1]/e,t[2]/e]}function u(t,e){return t[0]*e[0]+t[1]*e[1]+t[2]*e[2]}function l(t,e,n,i){return[t[0]*n+e[0]*i,t[1]*n+e[1]*i,t[2]*n+e[2]*i]}function c(t){var e=new Float32Array(4),n=new Float32Array(3),c=new Float32Array(3),h=new Float32Array(3);h[0]=t[3][0],h[1]=t[3][1],h[2]=t[3][2];for(var d=new Array(3),f=0;f<3;f++)d[f]=t[f].slice(0,3);n[0]=o(d[0]),d[0]=a(d[0],n[0]),c[0]=u(d[0],d[1]),d[1]=l(d[1],d[0],1,-c[0]),n[1]=o(d[1]),d[1]=a(d[1],n[1]),c[0]/=n[1],c[1]=u(d[0],d[2]),d[2]=l(d[2],d[0],1,-c[1]),c[2]=u(d[1],d[2]),d[2]=l(d[2],d[1],1,-c[2]),n[2]=o(d[2]),d[2]=a(d[2],n[2]),c[1]/=n[2],c[2]/=n[2];var m,p,v,y,g,_,b,E,w,x,k,A,S,O,T=(m=d[1],p=d[2],[m[1]*p[2]-m[2]*p[1],m[2]*p[0]-m[0]*p[2],m[0]*p[1]-m[1]*p[0]]);if(u(d[0],T)<0)for(var C=0;C<3;C++)n[C]*=-1,d[C][0]*=-1,d[C][1]*=-1,d[C][2]*=-1;return e[0]=.5*Math.sqrt(Math.max(1+d[0][0]-d[1][1]-d[2][2],0)),e[1]=.5*Math.sqrt(Math.max(1-d[0][0]+d[1][1]-d[2][2],0)),e[2]=.5*Math.sqrt(Math.max(1-d[0][0]-d[1][1]+d[2][2],0)),e[3]=.5*Math.sqrt(Math.max(1+d[0][0]+d[1][1]+d[2][2],0)),d[2][1]>d[1][2]&&(e[0]=-e[0]),d[0][2]>d[2][0]&&(e[1]=-e[1]),d[1][0]>d[0][1]&&(e[2]=-e[2]),e[0]<.001&&e[0]>=0&&e[1]<.001&&e[1]>=0?v=[0,0,s(180*Math.atan2(d[0][1],d[0][0])/Math.PI)]:(y=e,g=(0,i.default)(y,4),_=g[0],b=g[1],E=g[2],w=g[3],v=(S=_*b+E*w)>.49999*(O=w*w+(x=_*_)+(k=b*b)+(A=E*E))?[0,2*Math.atan2(_,w)*r,90]:S<-.49999*O?[0,-2*Math.atan2(_,w)*r,-90]:[s(Math.atan2(2*_*w-2*b*E,1-2*x-2*A)*r),s(Math.atan2(2*b*w-2*_*E,1-2*k-2*A)*r),s(Math.asin(2*_*b+2*E*w)*r)]),{translation:h,rotation:v,eulerRotation:v,scale:[s(n[0]),s(n[1]),s(n[2])]}}e.exports=function(t){t instanceof Element&&(t=String(getComputedStyle(t).transform).trim());for(var e=new DOMMatrix(t),n=new Array(4),i=1;i<5;i++)for(var r=n[i-1]=new Float32Array(4),s=1;s<5;s++)r[s-1]=e["m".concat(i).concat(s)];return c(n)}},{68:68,78:78}],192:[function(t,e,n){"use strict";var i=!1,r=!1,s=[],o=-1;e.exports={NUMBER_OF_FRAMES_TO_WAIT:30,add:function(t){var e=this;if(r&&t(),s.push(t),!i){i=!0;var n=document.documentElement.scrollHeight,a=0;o=requestAnimationFrame((function t(){var i=document.documentElement.scrollHeight;if(n!==i)a=0;else if(++a>=e.NUMBER_OF_FRAMES_TO_WAIT)return void s.forEach((function(t){return t()}));n=i,o=requestAnimationFrame(t)}))}},reset:function(){cancelAnimationFrame(o),i=!1,r=!1,s=[]}}},{}],193:[function(t,e,n){"use strict";var i=t(68),r=i(t(64)),s=i(t(74)),o=i(t(82)),a=i(t(61)),u=i(t(63)),l=i(t(76)),c=i(t(66)),h=i(t(67)),d=i(t(84)),f=i(t(60)),m=i(t(81));function p(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,i)}return n}function v(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?p(Object(n),!0).forEach((function(e){(0,r.default)(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):p(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}e.exports=function(t){var e={};function n(i){if(e[i])return e[i].exports;var r=e[i]={i:i,l:!1,exports:{}};return t[i].call(r.exports,r,r.exports,n),r.l=!0,r.exports}return n.m=t,n.c=e,n.d=function(t,e,i){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:i})},n.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"==(0,m.default)(t)&&t&&t.__esModule)return t;var i=Object.create(null);if(n.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var r in t)n.d(i,r,function(e){return t[e]}.bind(null,r));return i},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="",n(n.s=4)}([function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0}),e.validatorFactory=e.headerValueCreatorFactory=e.countZeroes=e.VERSION_BITMAP=void 0,e.VERSION_BITMAP={0:12,1:14};var i=new TextEncoder;function r(t){return Array.from(new Uint8Array(t)).slice(0,2).map((function(t){return t.toString(2).padStart(8,"0")})).reduce((function(t,e){return t+e}),"")}function s(t){return o.apply(this,arguments)}function o(){return(o=(0,f.default)(d.default.mark((function t(e){var n;return d.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,function(t){return crypto.subtle.digest("SHA-1",i.encode(t))}(e).then(r);case 2:return n=t.sent.indexOf("1"),t.abrupt("return",-1===n?16:n);case 4:case"end":return t.stop()}}),t)})))).apply(this,arguments)}e.countZeroes=s,e.headerValueCreatorFactory=function(t,n){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",r=(new Date).toISOString().slice(0,19).replace(/[-T:]/g,""),s="".concat(t,":").concat(e.VERSION_BITMAP[t],":").concat(r,":").concat(n,"::").concat(i,":");return function(t){return s+t.toString(16)}},e.validatorFactory=function(t){var n=e.VERSION_BITMAP[t];return(function(){var t=(0,f.default)(d.default.mark((function t(e){return d.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,s(e);case 2:return t.t0=t.sent,t.t1=n,t.abrupt("return",t.t0>=t.t1);case 5:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())}},function(t,e,n){var i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),n(5),n(6);var r=i(n(7)),s=function(t){function e(t){var n,i=t.challengeString,r=void 0===i?"":i,s=t.concurrency,o=t.userInput,u=t.version;if((0,a.default)(this,e),"string"!=typeof o||""===o)throw new Error("Invalid user input: "+o);return(n=(0,l.default)(this,(0,c.default)(e).call(this)))._complete=!1,n.counter=0,n.workers=[],n.challengeString=r,n.concurrency=s,n.userInput=o,n.version=u,n}return(0,h.default)(e,t),(0,u.default)(e,[{key:"handleWorkerError",value:function(t,e){this.trigger("error",e)}},{key:"handleWorkerMessage",value:function(t,e){var n=e.data;if(!this._complete)switch(n.type){case"result":return this.trigger("worker:result",{worker:t,message:n});default:return this.trigger("error",new Error("Invalid worker message"))}}},{key:"start",value:function(){for(var t=this,e=0;e<this.concurrency;e++){var n=new r.default;this.workers.push(n),n.onerror=this.handleWorkerError.bind(this,n),n.onmessage=this.handleWorkerMessage.bind(this,n),n.postMessage({type:"init",args:{challengeString:this.challengeString,initialCounter:e,stepSize:this.concurrency,userInput:this.userInput,version:this.version}})}this.on("worker:result",(function(e){return t._handleResultMessage(e)}))}},{key:"stop",value:function(){this._complete=!0,this.workers.forEach((function(t){t.postMessage({type:"close"})}))}},{key:"_handleResultMessage",value:function(t){var e=t.message;this.stop(),this.trigger("success",e.args.headerValue),this.destroy()}}]),e}(n(8).EventEmitterMicro);e.default=s},function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0}),e.SpamPreventionTimeoutError=e.ServerResponseError=e.ConfigurationError=void 0;var i=function(t){function e(t){var n;return(0,a.default)(this,e),(n=(0,l.default)(this,(0,c.default)(e).call(this,t))).name="ConfigurationError",n}return(0,h.default)(e,t),e}((0,o.default)(Error));e.ConfigurationError=i;var r=function(t){function e(t,n){var i;return(0,a.default)(this,e),(i=(0,l.default)(this,(0,c.default)(e).call(this,t))).name="ServerResponseError",i.serverStatusCode=n,i}return(0,h.default)(e,t),e}((0,o.default)(Error));e.ServerResponseError=r;var s=function(t){function e(t){var n;return(0,a.default)(this,e),(n=(0,l.default)(this,(0,c.default)(e).call(this,"Spam prevention timed out after ".concat(t,"ms")))).name="SpamPreventionTimeoutError",n}return(0,h.default)(e,t),e}((0,o.default)(Error));e.SpamPreventionTimeoutError=s},function(t,e,n){var i=window.URL||window.webkitURL;t.exports=function(t,e,n,r){try{try{var s;try{s=new window.Blob([t])}catch(e){(s=new(window.BlobBuilder||window.WebKitBlobBuilder||window.MozBlobBuilder||window.MSBlobBuilder)).append(t),s=s.getBlob()}var o=i.createObjectURL(s),a=new window[e](o,n);return i.revokeObjectURL(o),a}catch(i){return new window[e]("data:application/javascript,".concat(encodeURIComponent(t)),n)}}catch(t){if(!r)throw Error("Inline worker is not supported");return new window[e](r,n)}}},function(t,e,n){var i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),e.lib=void 0;var r=n(0),s=i(n(1)),o=n(10);Object.defineProperty(e,"readConfig",{enumerable:!0,get:function(){return o.default}});var a=n(11);Object.defineProperty(e,"signUp",{enumerable:!0,get:function(){return a.default}});var u=n(2);Object.defineProperty(e,"ConfigurationError",{enumerable:!0,get:function(){return u.ConfigurationError}}),e.lib={countZeroes:r.countZeroes,headerValueCreatorFactory:r.headerValueCreatorFactory,Manager:s.default,validatorFactory:r.validatorFactory}},function(t,e,n){},function(t,e,n){},function(t,e,n){n.r(e);var i=n(3),r=n.n(i);e.default=function(){return r()('!function(e){var t={};function r(n){if(t[n])return t[n].exports;var o=t[n]={i:n,l:!1,exports:{}};return e[n].call(o.exports,o,o.exports,r),o.l=!0,o.exports}r.m=e,r.c=t,r.d=function(e,t,n){r.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},r.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.t=function(e,t){if(1&t&&(e=r(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(r.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)r.d(n,o,function(t){return e[t]}.bind(null,o));return n},r.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="",r(r.s=0)}([function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(1),o=self;o.addEventListener("message",i);let a=!1;function i(e){const t=e.data;switch(t.type){case"init":!async function(e){const{args:t}=e,r=n.headerValueCreatorFactory(t.version,t.userInput,t.challengeString),i=n.validatorFactory(t.version);let u=t.initialCounter,c=r(u);for(;!await i(c);){if(a)return void close();u+=t.stepSize,c=r(u)}o.postMessage({type:"result",args:{headerValue:c}}),close()}(t);break;case"close":o.removeEventListener("message",i),a=!0;break;default:throw new Error("Invalid host event")}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.validatorFactory=t.headerValueCreatorFactory=t.countZeroes=t.VERSION_BITMAP=void 0,t.VERSION_BITMAP={0:12,1:14};const n=new TextEncoder;function o(e){return Array.from(new Uint8Array(e)).slice(0,2).map(e=>e.toString(2).padStart(8,"0")).reduce((e,t)=>e+t,"")}async function a(e){const t=(await function(e){return crypto.subtle.digest("SHA-1",n.encode(e))}(e).then(o)).indexOf("1");return-1===t?16:t}t.countZeroes=a,t.headerValueCreatorFactory=function(e,r,n=""){const o=(new Date).toISOString().slice(0,19).replace(/[-T:]/g,""),a=`${e}:${t.VERSION_BITMAP[e]}:${o}:${r}::${n}:`;return e=>a+e.toString(16)},t.validatorFactory=function(e){const r=t.VERSION_BITMAP[e];return async e=>await a(e)>=r}}]);\n',"Worker",void 0,void 0)}},function(t,e,n){t.exports={EventEmitterMicro:n(9)}},function(t,e,n){function i(){this._events={}}var r=i.prototype;r.on=function(t,e){this._events[t]=this._events[t]||[],this._events[t].unshift(e)},r.once=function(t,e){var n=this;this.on(t,(function i(r){n.off(t,i),void 0!==r?e(r):e()}))},r.off=function(t,e){if(this.has(t)){if(1===arguments.length)return this._events[t]=null,void delete this._events[t];var n=this._events[t].indexOf(e);-1!==n&&this._events[t].splice(n,1)}},r.trigger=function(t,e){if(this.has(t))for(var n=this._events[t].length-1;n>=0;n--)void 0!==e?this._events[t][n](e):this._events[t][n]()},r.has=function(t){return t in this._events!=0&&0!==this._events[t].length},r.destroy=function(){for(var t in this._events)this._events[t]=null;this._events=null},t.exports=i},function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t){var e={campaignId:"data-notify-campaign-id",endpoint:"data-notify-endpoint",locale:"data-notify-locale",referralId:"data-notify-referral-id"},n={};return["campaignId","endpoint","locale","referralId"].forEach((function(i){var r=e[i],s=t.getAttribute(r);"string"==typeof s&&(n[i]=s)})),n}},function(t,e,n){var i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var r=i(n(1)),o=n(0),a=n(2);function u(t){return l.apply(this,arguments)}function l(){return(l=(0,f.default)(d.default.mark((function t(e){var n,i,r,s,o,a,u,l;return d.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=e.campaignId,i=e.endpoint,r=e.headerValue,s=e.locale,o=e.referralId,a=e.value,u=JSON.stringify({campaignId:n,dataType:"EM",data:a,locale:s,userAgent:navigator.userAgent,referralId:o,signUpTime:""+Date.now()}),l={"Content-Type":"application/json"},void 0!==r&&(l["X-Apple-Hashcash"]=r),t.next=5,fetch(i,{method:"POST",body:u,headers:l,mode:"cors"});case 5:return t.abrupt("return",t.sent);case 6:case"end":return t.stop()}}),t)})))).apply(this,arguments)}e.default=function(){var t=(0,f.default)(d.default.mark((function t(e){var n,i,l,c,h,f;return d.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=e.maxSpamPreventionTimeout,i=void 0===n?3e4:n,l=e.version,c=void 0===l?0:l,h=(0,s.default)(e,["maxSpamPreventionTimeout","version"]),function(t){if(["campaignId","endpoint","locale","value"].forEach((function(e){var n=t[e];if("string"!=typeof n)throw new a.ConfigurationError("Expected a 'string' for '".concat(e,"', received '").concat((0,m.default)(n),"'"));if(0===n.length)throw new a.ConfigurationError("Configuration for '".concat(e,"' must be a non-empty string"))})),!(t.version in o.VERSION_BITMAP))throw new a.ConfigurationError("Version number must be 0 or 1.");if(!("number"==typeof t.maxSpamPreventionTimeout&&isFinite(t.maxSpamPreventionTimeout)&&t.maxSpamPreventionTimeout>0))throw new a.ConfigurationError("maxSpamPreventionTimeout must be a finite number greater than 0.")}(v({maxSpamPreventionTimeout:i,version:c},h)),f="number"==typeof navigator.hardwareConcurrency?navigator.hardwareConcurrency:4,t.next=5,new Promise((function(t,e){var n=new r.default({concurrency:f,userInput:h.value,version:c}),s=setTimeout((function(){n.stop();var e={error:new a.SpamPreventionTimeoutError(i),ok:!1};u(v({},h)).then((function(){return t(e)})).catch((function(){return t(e)}))}),i);n.on("error",(function(e){clearTimeout(s),t({error:e,ok:!1})})),n.on("success",(function(n){clearTimeout(s),u(v({headerValue:n},h)).then((function(e){return t(function(t){return t.ok?{error:null,ok:!0}:{error:new a.ServerResponseError(t.statusText,t.status),ok:!1}}(e))})).catch(e)})),n.start()}));case 5:return t.abrupt("return",t.sent);case 6:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}])},{60:60,61:61,63:63,64:64,66:66,67:67,68:68,74:74,76:76,81:81,82:82,84:84}],194:[function(t,e,n){"use strict";e.exports={lerp:function(t,e,n){return e+(n-e)*t},map:function(t,e,n,i,r){return i+(r-i)*(t-e)/(n-e)},mapClamp:function(t,e,n,i,r){var s=i+(r-i)*(t-e)/(n-e);return Math.max(i,Math.min(r,s))},norm:function(t,e,n){return(t-e)/(n-e)},clamp:function(t,e,n){return Math.max(e,Math.min(n,t))},randFloat:function(t,e){return Math.random()*(e-t)+t},randInt:function(t,e){return Math.floor(Math.random()*(e-t)+t)}}},{}],195:[function(t,e,n){"use strict";e.exports={browser:{safari:!1,chrome:!1,firefox:!1,ie:!1,opera:!1,android:!1,edge:!1,version:{string:"",major:0,minor:0,patch:0,documentMode:!1}},os:{osx:!1,ios:!1,android:!1,windows:!1,linux:!1,fireos:!1,chromeos:!1,version:{string:"",major:0,minor:0,patch:0}}}},{}],196:[function(t,e,n){"use strict";e.exports={browser:[{name:"edge",userAgent:"Edge",version:["rv","Edge"],test:function(t){return t.ua.indexOf("Edge")>-1||"Mozilla/5.0 (Windows NT 10.0; Win64; x64)"===t.ua}},{name:"chrome",userAgent:"Chrome"},{name:"firefox",test:function(t){return t.ua.indexOf("Firefox")>-1&&-1===t.ua.indexOf("Opera")},version:"Firefox"},{name:"android",userAgent:"Android"},{name:"safari",test:function(t){return t.ua.indexOf("Safari")>-1&&t.vendor.indexOf("Apple")>-1},version:"Version"},{name:"ie",test:function(t){return t.ua.indexOf("IE")>-1||t.ua.indexOf("Trident")>-1},version:["MSIE","rv"],parseDocumentMode:function(){var t=!1;return document.documentMode&&(t=parseInt(document.documentMode,10)),t}},{name:"opera",userAgent:"Opera",version:["Version","Opera"]}],os:[{name:"windows",test:function(t){return t.ua.indexOf("Windows")>-1},version:"Windows NT"},{name:"osx",userAgent:"Mac",test:function(t){return t.ua.indexOf("Macintosh")>-1}},{name:"ios",test:function(t){return t.ua.indexOf("iPhone")>-1||t.ua.indexOf("iPad")>-1},version:["iPhone OS","CPU OS"]},{name:"linux",userAgent:"Linux",test:function(t){return(t.ua.indexOf("Linux")>-1||t.platform.indexOf("Linux")>-1)&&-1===t.ua.indexOf("Android")}},{name:"fireos",test:function(t){return t.ua.indexOf("Firefox")>-1&&t.ua.indexOf("Mobile")>-1},version:"rv"},{name:"android",userAgent:"Android",test:function(t){return t.ua.indexOf("Android")>-1}},{name:"chromeos",userAgent:"CrOS"}]}},{}],197:[function(t,e,n){"use strict";var i=t(195),r=t(196);function s(t,e){if("function"==typeof t.parseVersion)return t.parseVersion(e);var n,i=t.version||t.userAgent;"string"==typeof i&&(i=[i]);for(var r,s=i.length,o=0;o<s;o++)if((r=e.match((n=i[o],new RegExp(n+"[a-zA-Z\\s/:]+([0-9_.]+)","i"))))&&r.length>1)return r[1].replace(/_/g,".");return!1}function o(t,e,n){for(var i,r,o=t.length,a=0;a<o;a++)if("function"==typeof t[a].test?!0===t[a].test(n)&&(i=t[a].name):n.ua.indexOf(t[a].userAgent)>-1&&(i=t[a].name),i){if(e[i]=!0,"string"==typeof(r=s(t[a],n.ua))){var u=r.split(".");e.version.string=r,u&&u.length>0&&(e.version.major=parseInt(u[0]||0),e.version.minor=parseInt(u[1]||0),e.version.patch=parseInt(u[2]||0))}else"edge"===i&&(e.version.string="12.0.0",e.version.major="12",e.version.minor="0",e.version.patch="0");return"function"==typeof t[a].parseDocumentMode&&(e.version.documentMode=t[a].parseDocumentMode()),e}return e}e.exports=function(t){var e={};return e.browser=o(r.browser,i.browser,t),e.os=o(r.os,i.os,t),e}},{195:195,196:196}],198:[function(t,e,n){"use strict";var i={ua:window.navigator.userAgent,platform:window.navigator.platform,vendor:window.navigator.vendor};e.exports=t(197)(i)},{197:197}],199:[function(t,e,n){arguments[4][135][0].apply(n,arguments)},{135:135}],200:[function(t,e,n){arguments[4][136][0].apply(n,arguments)},{136:136,205:205,206:206,55:55}],201:[function(t,e,n){arguments[4][137][0].apply(n,arguments)},{137:137,56:56}],202:[function(t,e,n){arguments[4][138][0].apply(n,arguments)},{138:138,204:204}],203:[function(t,e,n){arguments[4][139][0].apply(n,arguments)},{139:139,202:202}],204:[function(t,e,n){arguments[4][140][0].apply(n,arguments)},{140:140,200:200}],205:[function(t,e,n){arguments[4][144][0].apply(n,arguments)},{130:130,144:144,199:199}],206:[function(t,e,n){arguments[4][145][0].apply(n,arguments)},{130:130,145:145,199:199,201:201}],207:[function(t,e,n){arguments[4][146][0].apply(n,arguments)},{146:146,203:203}],208:[function(t,e,n){"use strict";var i=t(55).EventEmitterMicro,r=t(207),s="viewport-emitter",o={removeNamespace:!0},a="data-viewport-emitter-dispatch",u="data-viewport-emitter-state",l="only screen and (-webkit-min-device-pixel-ratio: 1.5), screen and (min-resolution: 1.5dppx), screen and (min-resolution: 144dpi)",c="only screen and (orientation: portrait)",h="only screen and (orientation: landscape)",d="change:any",f="change:orientation",m="change:retina",p="change:viewport";function v(t,e){i.call(this),this._id=t||s,this._options=Object.assign({},o,e),this._allowDOMEventDispatch=!1,this._allowElementStateData=!1,this._options.removeNamespace="boolean"!=typeof this._options.removeNamespace||this._options.removeNamespace,this._el=this._initViewportEl(this._id),this._resizing=!1,this._mediaQueryLists={resolution:{retina:window.matchMedia(l)},orientation:{portrait:window.matchMedia(c),landscape:window.matchMedia(h)}},this._viewport=this._getViewport(this._options.removeNamespace),this._retina=this._getRetina(this._mediaQueryLists.resolution.retina),this._orientation=this._initOrientation(),this._addListeners(),this._updateElementStateData()}Object.defineProperty(v,"DOM_DISPATCH_ATTRIBUTE",{get:function(){return a}}),Object.defineProperty(v,"DOM_STATE_ATTRIBUTE",{get:function(){return u}});var y=v.prototype=Object.create(i.prototype);Object.defineProperty(y,"id",{get:function(){return this._id}}),Object.defineProperty(y,"element",{get:function(){return this._el}}),Object.defineProperty(y,"mediaQueryLists",{get:function(){return this._mediaQueryLists}}),Object.defineProperty(y,"viewport",{get:function(){return this._viewport}}),Object.defineProperty(y,"retina",{get:function(){return this._retina}}),Object.defineProperty(y,"orientation",{get:function(){return this._orientation}}),Object.defineProperty(y,"hasDomDispatch",{get:function(){return this._allowDOMEventDispatch}}),y.destroy=function(){for(var t in this._removeListeners(),this._options)this._options[t]=null;for(var e in this._mediaQueryLists){var n=this._mediaQueryLists[e];for(var r in n)n[r]=null}this._id=null,this._el=null,this._viewport=null,this._retina=null,this._orientation=null,i.prototype.destroy.call(this)},y._initViewportEl=function(t){var e=document.getElementById(t);return e||((e=document.createElement("div")).id=t,e=document.body.appendChild(e)),e.hasAttribute(a)||(e.setAttribute(a,""),this._allowDOMEventDispatch=!0),e.hasAttribute(u)||(this._allowElementStateData=!0),e},y._dispatch=function(t,e){var n={viewport:this._viewport,orientation:this._orientation,retina:this._retina};if(this._allowDOMEventDispatch){var i=new CustomEvent(t,{detail:e}),r=new CustomEvent(d,{detail:n});this._el.dispatchEvent(i),this._el.dispatchEvent(r)}this.trigger(t,e),this.trigger(d,n)},y._addListeners=function(){this._onOrientationChange=this._onOrientationChange.bind(this),this._onRetinaChange=this._onRetinaChange.bind(this),this._onViewportChange=this._onViewportChange.bind(this),this._onViewportChangeUpdate=this._onViewportChangeUpdate.bind(this),this._mediaQueryLists.orientation.portrait.addListener(this._onOrientationChange),this._mediaQueryLists.orientation.landscape.addListener(this._onOrientationChange),this._mediaQueryLists.resolution.retina.addListener(this._onRetinaChange),window.addEventListener("resize",this._onViewportChange)},y._removeListeners=function(){this._mediaQueryLists.orientation.portrait.removeListener(this._onOrientationChange),this._mediaQueryLists.orientation.landscape.removeListener(this._onOrientationChange),this._mediaQueryLists.resolution.retina.removeListener(this._onRetinaChange),window.removeEventListener("resize",this._onViewportChange)},y._updateElementStateData=function(){if(this._allowElementStateData){var t=JSON.stringify({viewport:this._viewport,orientation:this._orientation,retina:this._retina});this._el.setAttribute(u,t)}},y._getViewport=function(t){var e=window.getComputedStyle(this._el,"::before").content;return e?(e=e.replace(/["']/g,""),t?e.split(":").pop():e):null},y._getRetina=function(t){return t.matches},y._getOrientation=function(t){var e=this._orientation;if(t.matches){return t.media.match(/portrait|landscape/)[0]}return e},y._initOrientation=function(){var t=this._getOrientation(this._mediaQueryLists.orientation.portrait);return t||this._getOrientation(this._mediaQueryLists.orientation.landscape)},y._onViewportChange=function(){this._resizing||(this._resizing=!0,r(this._onViewportChangeUpdate))},y._onViewportChangeUpdate=function(){var t=this._viewport;if(this._viewport=this._getViewport(this._options.removeNamespace),t!==this._viewport){var e={from:t,to:this._viewport};this._updateElementStateData(),this._dispatch(p,e)}this._resizing=!1},y._onRetinaChange=function(t){var e=this._retina;if(this._retina=this._getRetina(t),e!==this._retina){var n={from:e,to:this._retina};this._updateElementStateData(),this._dispatch(m,n)}},y._onOrientationChange=function(t){var e=this._orientation;if(this._orientation=this._getOrientation(t),e!==this._orientation){var n={from:e,to:this._orientation};this._updateElementStateData(),this._dispatch(f,n)}},e.exports=v},{207:207,55:55}],209:[function(t,e,n){"use strict";var i=t(208);e.exports=new i},{208:208}],210:[function(t,e,n){e.exports=function(){var t=new Float32Array(16);return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=1,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=1,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t}},{}],211:[function(t,e,n){e.exports=function(t,e,n){var i=Math.sin(n),r=Math.cos(n),s=e[4],o=e[5],a=e[6],u=e[7],l=e[8],c=e[9],h=e[10],d=e[11];e!==t&&(t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15]);return t[4]=s*r+l*i,t[5]=o*r+c*i,t[6]=a*r+h*i,t[7]=u*r+d*i,t[8]=l*r-s*i,t[9]=c*r-o*i,t[10]=h*r-a*i,t[11]=d*r-u*i,t}},{}],212:[function(t,e,n){e.exports=function(t,e,n){var i=Math.sin(n),r=Math.cos(n),s=e[0],o=e[1],a=e[2],u=e[3],l=e[8],c=e[9],h=e[10],d=e[11];e!==t&&(t[4]=e[4],t[5]=e[5],t[6]=e[6],t[7]=e[7],t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15]);return t[0]=s*r-l*i,t[1]=o*r-c*i,t[2]=a*r-h*i,t[3]=u*r-d*i,t[8]=s*i+l*r,t[9]=o*i+c*r,t[10]=a*i+h*r,t[11]=u*i+d*r,t}},{}],213:[function(t,e,n){e.exports=function(t,e,n){var i=Math.sin(n),r=Math.cos(n),s=e[0],o=e[1],a=e[2],u=e[3],l=e[4],c=e[5],h=e[6],d=e[7];e!==t&&(t[8]=e[8],t[9]=e[9],t[10]=e[10],t[11]=e[11],t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15]);return t[0]=s*r+l*i,t[1]=o*r+c*i,t[2]=a*r+h*i,t[3]=u*r+d*i,t[4]=l*r-s*i,t[5]=c*r-o*i,t[6]=h*r-a*i,t[7]=d*r-u*i,t}},{}],214:[function(t,e,n){e.exports=function(t,e,n){var i=n[0],r=n[1],s=n[2];return t[0]=e[0]*i,t[1]=e[1]*i,t[2]=e[2]*i,t[3]=e[3]*i,t[4]=e[4]*r,t[5]=e[5]*r,t[6]=e[6]*r,t[7]=e[7]*r,t[8]=e[8]*s,t[9]=e[9]*s,t[10]=e[10]*s,t[11]=e[11]*s,t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15],t}},{}],215:[function(t,e,n){const i=t(198);var r=t(88),s=t(157),{elementImagesLoaded:o,promiseTimeout:a,wait:u}=t(221),l=t(222);let c;try{c=t("@marcom/ac-analytics")}catch(t){}const h=l.countdownWait||2e3;e.exports=class extends r{constructor(t,...e){super(t,...e),this.sectionEl=t,this.analyticsSent=!1,this.isStatic()||(this.initialize(),this.trackScrollAway(),this.trackNavigatedAway())}async initialize(){await window.ringLoadReady,this.ring=window.fitnessHeroRing,await this.keyframe(),this.waitForImagePreload()}async keyframe(){this.timeGroup=this.AnimSystem.createTimeGroup();const t=this.timeGroup;window.heroTimeGroup=t;const e=this.sectionEl.querySelectorAll(".copy-fade-item");this.timerItems=this.sectionEl.querySelectorAll(".timer-item");const n=this.timerItems,i=this.sectionEl.querySelector(".cta-container"),r=this.sectionEl.querySelector(".timer-item-1 .timer-item-text"),a=this.sectionEl.querySelector(".watch"),l=this.sectionEl.querySelector(".watch .watch-end"),h=this.sectionEl.querySelector(".phone"),d=this.sectionEl.querySelector(".ring-container");let f=0;n.forEach((e,i)=>{const r=e.querySelector(".timer-item-image-container"),s=e.querySelector(".timer-item-text");if(0==i){t.addKeyframe(r,{start:f,end:f+.1,opacity:[0,1]}),t.addKeyframe(this.ring,{start:f,end:f+.15,alpha:[0,1]}),t.addKeyframe(this.ring,{start:f,end:f+2,progress:[0,1],easeFunction:"easeInOutQuad"}),t.addKeyframe(s,{start:f+2-.3,end:f+2-.1,opacity:[0,1],scale:[.2,1],easeFunction:"easeOutBack"}),f+=.3;const e=Math.max(0,1);f+=e+.14,t.addChapter({name:"readyStop",position:f+1-.14})}else t.addKeyframe(r,{start:f,end:f+.14,opacity:[0,1]}),t.addKeyframe(s,{start:f,end:f+.14,opacity:[0,1],scale:[.2,1],easeFunction:"easeOutBack"});t.addKeyframe(r,{start:f+1-.14,end:f+1,opacity:[null,0]}),i!==n.length-1&&t.addKeyframe(s,{start:f+1-.14,end:f+1,opacity:[null,0],scale:[1,.2]}),i<3&&t.addKeyframe(this.ring,{start:f+1-.14,end:f+1+1-.14,easeFunction:"easeOutQuart",progress:[1-i/3,1-(i+1)/3]}),f+=1}),t.addKeyframe(this.ring,{start:f-.15,end:f,alpha:[1,0]}),t.addKeyframe(this.ring,{start:f+.2,end:f+.46,weight:[1,0],easeFunction:"easeOutQuad"}),t.addKeyframe(r,{start:f+.2,end:f+.4,opacity:[1,0]}),t.addKeyframe(r,{start:f,end:f+1.5,scale:[1,.5],x:[0,"-700px"],y:[0,"300px"],easeFunction:"easeInOutQuart",breakpointMask:["L"]}),t.addKeyframe(r,{start:f,end:f+1.5,scale:[1,.5],x:[0,"-400px"],y:[0,"300px"],easeFunction:"easeInOutQuart",breakpointMask:["M"]}),t.addKeyframe(r,{start:f,end:f+1.5,scale:[1,.5],x:[0,"-100px"],y:[0,"100px"],easeFunction:"easeInOutQuart",breakpointMask:["S"]}),t.addKeyframe(d,{start:f+.2,end:f+.4,opacity:[1,0]}),t.addKeyframe(d,{start:f,end:f+1.5,scale:[1,.5],x:[0,"-100%"],y:[0,"58%"],easeFunction:"easeInOutQuart"}),t.addKeyframe(a,{start:f+.3,end:f+.6,opacity:[0,1]}),t.addKeyframe(a,{start:f,end:f+1.5,scale:[4,1],x:["113%",0],y:["-65%",0],easeFunction:"easeInOutQuart",breakpointMask:["L"]}),t.addKeyframe(a,{start:f,end:f+1.5,scale:[3.5,1],x:["70.5%",0],y:["-49%",0],easeFunction:"easeInOutQuart",breakpointMask:["M"]}),t.addKeyframe(a,{start:f,end:f+1.5,scale:[4.3,1],x:["48.5%",0],y:["-71%",0],easeFunction:"easeInOutQuart",breakpointMask:["S"]}),t.addKeyframe(l,{start:f+.5,end:f+.8,opacity:[0,1]}),t.addKeyframe(h,{start:f+.5,end:f+1.7,x:[null,0],easeFunction:"easeOutQuart"}),t.addKeyframe(h,{start:f+.7,end:f+1.4,opacity:[null,1]}),t.addKeyframe(i,{start:f+.6,end:f+.6,cssClass:"active"}),e.forEach((e,n)=>{t.addKeyframe(e,{start:f+.6+.15*n,end:f+.6+.15*n+.45,opacity:[0,1]})}),t.addKeyframe(this.sectionEl,{start:-.1,end:f+1.5+.1,toggle:!0,cssClass:"will-change"}),t.addEvent(this.sectionEl,{start:f,eventName:"illuminate",onEvent:()=>{this.sectionEl.querySelector(".background").classList.remove("dim-the-lights")},onEventReverse:()=>{this.sectionEl.querySelector(".background").classList.add("dim-the-lights")}}),t.addEvent(this.sectionEl,{start:this.timeGroup.duration,end:this.timeGroup.duration,eventName:"EndOfAnimation",onEvent:()=>{if(c&&!this.analyticsSent){this.analyticsSent=!0;let t={eVar70:"full"};c.passiveTracker(t)}}}),this.readyImageLoaded=o(n[0].querySelectorAll(".timer-item-image, .shadow")),await u(10),this.staticImagesLoaded=o(this.sectionEl.querySelectorAll(".fitness-plus-logo, .watch-hardware, .phone-hardware")),this.readyStopTriggered=new Promise(e=>{t.on(s.EVENTS.ON_CHAPTER_COMPLETED,t=>{"readyStop"==t.current.name&&e()})})}async waitForImagePreload(){await this.readyImageLoaded,document.querySelector(".timer-container").style.display="",this.timeGroup.time(.001),this.timeGroup.pause(),await u(10),this.timeGroup.playToChapter({name:"readyStop"}),this.middleImagesLoaded=Promise.all([o(this.timerItems[1].querySelectorAll(".timer-item-image, .shadow")),o(this.timerItems[2].querySelectorAll(".timer-item-image, .shadow")),o(this.timerItems[3].querySelectorAll(".timer-item-image, .shadow"))]),await this.readyStopTriggered,await this.staticImagesLoaded;try{await a(h,this.middleImagesLoaded),this.timeGroup.play()}catch(t){if(c&&!this.analyticsSent){this.analyticsSent=!0;let t={eVar70:"partial",eVar153:"low bandwidth"};c.passiveTracker(t)}this.timeGroup.progress(1)}}trackScrollAway(){this.leavingHeroGroup=this.AnimSystem.createScrollGroup(this.sectionEl),this.leavingHeroGroup.addEvent(this.sectionEl,{start:"b",end:"b",event:"leavingHero",onEvent:()=>{if(c&&!this.analyticsSent){this.analyticsSent=!0;let t={eVar70:"partial",eVar153:"scrolled away"};c.passiveTracker(t)}}})}trackNavigatedAway(){window.addEventListener("pagehide",()=>{if(c&&!this.analyticsSent){this.analyticsSent=!0;let t={eVar70:"partial",eVar153:"navigation"};c.passiveTracker(t)}},!1)}isStatic(){if(i.browser.ie||i.browser.edge||i.browser.android||document.documentElement.classList.contains("reduced-motion")){if(c&&!this.analyticsSent)if(this.analyticsSent=!0,document.documentElement.classList.contains("reduced-motion")){let t={eVar70:"static",eVar153:"prefers reduced motion"};c.passiveTracker(t)}else{let t={eVar70:"static",eVar153:"browser"};c.passiveTracker(t)}return!0}return!1}}},{157:157,198:198,221:221,222:222,88:88,undefined:void 0}],216:[function(t,e,n){var i=t(89),r=i.prototype;function s(t,e,n){i.apply(this,arguments),this.randomBackground()}(s.prototype=Object.create(r)).randomBackground=function(){const t=this.collectionUnitElement.querySelector(".unit-wrapper"),e=function(){if(t.classList.contains("alternate"))var e=["a","b"];else e=["a","b","c"];return e[Math.floor(Math.random()*e.length)]}();t.classList.add("bg-set-"+e)},e.exports=s},{89:89}],217:[function(t,e,n){var i=t(88),r=i.prototype,s=t(190);function o(t,e,n){i.apply(this,arguments),this.initialize()}(o.prototype=Object.create(r)).initialize=function(){return(new s).initialize(),this},e.exports=o},{190:190,88:88}],218:[function(t,e,n){var i=t(220),r=i.prototype,s=t(198);function o(t,e,n){this.applyButton(),i.apply(this,arguments)}(o.prototype=Object.create(r)).applyButton=function(){var t=document.querySelectorAll(".try-button-apple-news-plus"),e=document.documentElement.classList.contains("touch"),n=s.os.version.major,i=s.os.version.minor,r=s.os.ios&&n>=13,o=s.os.osx&&n>=10&&i>=15&&e,a=s.os.osx&&n>=10&&i>=15;(r||o||a)&&t.forEach((function(t){t.setAttribute("href",t.getAttribute("data-apply-action")),t.setAttribute("data-rid-relay",'{"285":"itsct"}'),t.setAttribute("data-analytics-exit-link",""),t.removeAttribute("data-analytics-intrapage-link"),t.removeAttribute("data-analytics-click")}))},e.exports=o},{198:198,220:220}],219:[function(t,e,n){var i=t(220),r=i.prototype,s=t(198);function o(t,e,n){this.applyButton(),i.apply(this,arguments)}(o.prototype=Object.create(r)).applyButton=function(){var t=document.querySelectorAll(".try-button-arcade-harmony"),e=document.documentElement.classList.contains("touch"),n=s.os.version.major,i=s.os.version.minor,r=s.os.ios&&n>=13,o=s.os.osx&&n>=10&&i>=15&&e,a=s.os.osx&&n>=10&&i>=15;(r||o||a)&&t.forEach((function(t){t.setAttribute("href",t.getAttribute("data-apply-action")),t.setAttribute("data-rid-relay",'{"288":"itsct"}'),t.setAttribute("data-analytics-exit-link",""),t.removeAttribute("data-analytics-intrapage-link"),t.removeAttribute("data-analytics-click")}))},e.exports=o},{198:198,220:220}],220:[function(t,e,n){var i=t(89),r=i.prototype;const s=t(102).createStandardModal,o=(t(127),t(125)),a=t(13);function u(t,e,n){i.apply(this,arguments),this._attachModalClickEvents()}var l=u.prototype=Object.create(r);l._openModal=function(){o(function(){this.iframeSrc&&this.iframe&&(this.iframe.src=this.iframeSrc),this.modal.open()}.bind(this))},l._createModal=function(){document.domain="apple.com";var t=(t=this.collectionUnitElement.querySelector(".module-modal")).parentNode.appendChild(t.cloneNode(!0));t=this.collectionUnitElement.querySelector(".module-modal");this.iframe=this.collectionUnitElement.querySelector("iframe"),this.iframe&&(this.iframeSrc=this.iframe.getAttribute("data-lazy-src")),this.modal=s(t),this.modal.modalElement.setAttribute("data-modal-from",[this.sectionObj.moduleTemplateName,this.id].join("-")),this.modal.on("open",function(){this._circularTab=new a(this.modal.modalElement),this.modal._giveModalFocus=function(){this.modalElement.removeAttribute("aria-hidden"),this._activeElement=document.activeElement,console.log(element,element),o(this.modal.modalElement),this._circularTab.start()}}.bind(this)),this.modal.on("close",function(){this.modal.destroy(),this.collectionUnitElement.querySelector("a[href$=modal]").focus()}.bind(this))},l._attachModalClickEvents=function(){this.collectionUnitElement.querySelectorAll("a[href$=modal]").forEach(function(t){t.addEventListener("click",function(t){t.preventDefault(),this._createModal(),this._openModal()}.bind(this))}.bind(this))},e.exports=u},{102:102,125:125,127:127,13:13,89:89}],221:[function(t,e,n){function i(t,e){return function(t){const e=t.match(/url\(\"(.*)\"\)/);return e&&e[1]}(t.getPropertyValue(e).toString())}function r(t){return function(t,e){const n=getComputedStyle(t);return e.map(t=>Array.isArray(t)?i(n,t.find(t=>""!==n.getPropertyValue(t))):i(n,t))}(t,["background-image",["mask-image","-webkit-mask-image"]]).filter(t=>!!t)}n.elementImagesLoaded=function(t){const e=Array.from(t).flatMap(t=>r(t)).map(t=>{const e=document.createElement("img");return e.src=t,e}).map(t=>new Promise(e=>{t.onload=()=>{e(t)}}));return Promise.all(e)},n.promiseTimeout=function(t,e){let n=new Promise((e,n)=>{let i=setTimeout(()=>{clearTimeout(i),n("Timed out in "+t+"ms.")},t)});return Promise.race([e,n])},n.wait=function(t){return new Promise(e=>{let n=setTimeout(()=>{clearTimeout(n),e(t)},t)})}},{}],222:[function(t,e,n){const i=function(t){for(var e={},n=t.substr(1).split("&"),i=0;i<n.length;i++)if(0!==n[i].length){var r=n[i].split("=");e[decodeURIComponent(r[0])]=decodeURIComponent(r[1]||"")}return e}(window.location.search);e.exports=i},{}],223:[function(t,e,n){"use strict";e.exports={NotifyModal:t(224)}},{224:224}],224:[function(t,e,n){"use strict";function i(t){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function r(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,i)}return n}function s(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?r(Object(n),!0).forEach((function(e){o(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):r(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function o(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function a(t,e,n,i,r,s,o){try{var a=t[s](o),u=a.value}catch(t){return void n(t)}a.done?e(u):Promise.resolve(u).then(i,r)}function u(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function l(t,e){return!e||"object"!==i(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function c(t){return(c=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function h(t,e){return(h=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var d=t(187),f=t(102).createStandardModal,m=t(193),p=m.signUp,v=m.readConfig,y=function(t){function e(t){var n;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),(n=l(this,c(e).call(this,t))).modalButton=document.querySelector(".notify-me-button"),n.modalContent=document.getElementById("modalContent"),n}var n,i,r;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&h(t,e)}(e,t),n=e,r=[{key:"IS_SUPPORTED",value:function(){var t=document.documentElement,e=document.querySelector(".main").querySelector(".notify-me-button");return!t.classList.contains("aow")&&!!e}}],(i=[{key:"mounted",value:function(){var t=f(this.modalContent);this.modalButton.addEventListener("click",(function(e){e.preventDefault(),document.querySelector(".notify-me-headline").focus(),t.open()}));var e=document.getElementById("notifyForm"),n=e.querySelector("button"),i=e.querySelector("input");n.addEventListener("mousedown",(function(t){t.preventDefault(),i.value&&i.focus()})),i.setAttribute("tabindex","-1"),t.on("open",(function(){i.removeAttribute("tabindex")})),t.on("close",(function(){i.value="",_("Form"),i.parentNode.classList.remove("is-error")})),i.addEventListener("input",(function(){""===i.value?i.classList.remove("form-textbox-entered"):i.classList.add("form-textbox-entered"),i.parentNode.classList.remove("is-error"),b("Validation")})),e.addEventListener("submit",(function(t){var n;t.preventDefault(),i.validity.valid?(i.parentNode.classList.remove("is-error"),navigator.onLine&&_("Sending"),(n=regeneratorRuntime.mark((function t(){var n,r,o;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n="Error",r=void 0,t.prev=2,t.next=5,Promise.all([p(s({value:i.value},v(e))),g(1500)]);case 5:(o=t.sent[0]).ok&&(n="Success"),o.error&&(r=500===o.error.serverStatusCode?"Server":"Unknown"),t.next=13;break;case 10:t.prev=10,t.t0=t.catch(2),r=t.t0.message.match("offline")||!navigator.onLine?"Offline":"Unknown";case 13:_(n,r);case 14:case"end":return t.stop()}}),t,null,[[2,10]])})),function(){var t=this,e=arguments;return new Promise((function(i,r){var s=n.apply(t,e);function o(t){a(s,i,r,o,u,"next",t)}function u(t){a(s,i,r,o,u,"throw",t)}o(void 0)}))})()):i.parentNode.classList.add("is-error")}))}}])&&u(n.prototype,i),r&&u(n,r),e}(d);function g(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:500;return new Promise((function(e){setTimeout(e,t)}))}function _(t,e){var n=document.getElementById("notifyForm"),i=n.querySelector("input"),r=n.querySelector("button"),s=document.querySelector(".modal-close"),o=document.getElementById("notifySuccess");switch(s.removeAttribute("disabled"),t){case"Form":r.querySelector(".submit").classList.remove("invisible"),r.querySelector(".sending").classList.add("invisible"),i.removeAttribute("disabled"),r.removeAttribute("disabled"),o.classList.add("hidden"),n.classList.remove("hidden"),i.classList.remove("form-textbox-entered");break;case"Sending":i.setAttribute("disabled","disabled"),r.setAttribute("disabled","disabled"),document.body.focus(),s.setAttribute("disabled","disabled"),r.querySelector(".submit").classList.add("invisible"),r.querySelector(".sending").classList.remove("invisible");break;case"Error":r.querySelector(".submit").classList.remove("invisible"),r.querySelector(".sending").classList.add("invisible"),i.removeAttribute("disabled"),r.removeAttribute("disabled"),e&&b(e),i.parentNode.classList.add("is-error"),i.focus();break;case"Success":i.setAttribute("disabled","disabled"),r.setAttribute("disabled","disabled"),document.body.focus(),n.classList.add("hidden"),o.classList.remove("hidden")}}function b(t){var e;e=".form-message .error",document.querySelectorAll(e).forEach((function(t){return t.classList.add("hidden")})),(document.getElementById("notify".concat(t,"Error"))||document.getElementById("notifyUnknownError")).classList.remove("hidden")}e.exports=y},{102:102,187:187,193:193}],225:[function(t,e,n){"use strict";t(86)(),t(226)()},{226:226,86:86}],226:[function(t,e,n){"use strict";e.exports=function(){var e=t(188),n=t(189),i=t(223),r=document.querySelectorAll(".unit-image-wrapper.pause");if(r){window.addEventListener("load",(function(){r.forEach((function(t){t.classList.remove("pause")}))})),setTimeout((function(){document.querySelector(".unit-image-wrapper").classList.contains("pause")&&r.forEach((function(t){t.classList.remove("pause"),t.classList.add("fallback")}))}),3e3)}Object.assign(n,i),{initialize:function(){var t=document.querySelector(".main"),n=new e(t),i={};n.on(e.EVENTS.DOM_COMPONENTS_MOUNTED,(function(){n.addComponent({componentName:"NotifyModal",el:document.documentElement,data:i})}))}}.initialize()}},{188:188,189:189,223:223}],227:[function(t,e,n){e.exports={}},{}],228:[function(t,e,n){arguments[4][227][0].apply(n,arguments)},{227:227}],229:[function(t,e,n){var i={};i["holiday-2020"]=t(216),e.exports=i},{216:216}],230:[function(t,e,n){var i={};i["arcade-harmony"]=t(219),i["apple-news-plus"]=t(218),i["apple-music"]=t(217),e.exports=i},{217:217,218:218,219:219}],231:[function(t,e,n){arguments[4][227][0].apply(n,arguments)},{227:227}],232:[function(t,e,n){var i={};i["collection-unit-support"]=t(220),e.exports=i},{220:220}]},{},[225]);